window.__require=function t(e,n,o){function i(a,c){if(!n[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var u="function"==typeof __require&&__require;if(!c&&u)return u(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){return i(e[a][1][t]||t)},l,l.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<o.length;a++)i(o[a]);return i}({"Api-tip-cont":[function(t,e,n){"use strict";cc._RF.push(e,"34e70gd60NDj4NPUWKgPsrD","Api-tip-cont");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.ApiTipCont=void 0;var s=t("../../../../script/config/config"),u=t("../../../../script/framework/log/log"),l=t("../../../../script/framework/res/res"),f=t("../../../../script/pkg/creator"),p=cc._decorator,d=p.ccclass,h=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.ndBody=cc.find("body"),this.lblContent=cc.find("body/layout/lab_content",this.node).getComponent(cc.Label),f.creatorUtils.moveIn(this.ndBody,function(){})},e.prototype.start=function(){},e.prototype.setContent=function(t){this.lblContent.string=t},e.prototype.close=function(){this.node.destroy()},r([d],e)}(cc.Component));n.default=h,function(t){var e;t.Idestroy=function(){s.config.uiNode.tips.children.forEach(function(t){t.destroy()})},t.show=function(t){a(this,void 0,void 0,function(){var n,o,i,r,a=this;return c(this,function(c){switch(c.label){case 0:if(e)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,l.tcRes.load("tip-v2",cc.Prefab,"prefab/tips_bottom")];case 2:return n=c.sent(),e=n,[3,4];case 3:return o=c.sent(),u.tcLog.error("load tips err: "+o.message),[2];case 4:return(i=cc.instantiate(e)).name="ApiTipContController",i.setParent(s.config.uiNode.tips),i.setPosition(0,0),r=i.addComponent(h),t.content&&r.setContent(t.content),f.creatorUtils.moveOpacityIn(r.node.getChildByName("body")),setTimeout(function(){f.creatorUtils.moveOut(a.ndBody,function(){u.tcLog.error("close"),r.close()})},1e3),[2]}})})}}(n.ApiTipCont||(n.ApiTipCont={})),cc._RF.pop()},{"../../../../script/config/config":"config","../../../../script/framework/log/log":"log","../../../../script/framework/res/res":"res","../../../../script/pkg/creator":"creator"}],1:[function(t,e,n){"use strict";n.byteLength=function(t){var e=u(t),n=e[0],o=e[1];return 3*(n+o)/4-o},n.toByteArray=function(t){var e,n,o=u(t),a=o[0],c=o[1],s=new r(l(0,a,c)),f=0,p=c>0?a-4:a;for(n=0;n<p;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],s[f++]=e>>16&255,s[f++]=e>>8&255,s[f++]=255&e;return 2===c&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,s[f++]=255&e),1===c&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,s[f++]=e>>8&255,s[f++]=255&e),s},n.fromByteArray=function(t){for(var e,n=t.length,i=n%3,r=[],a=0,c=n-i;a<c;a+=16383)r.push(f(t,a,a+16383>c?c:a+16383));return 1===i?(e=t[n-1],r.push(o[e>>2]+o[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],r.push(o[e>>10]+o[e>>4&63]+o[e<<2&63]+"=")),r.join("")};for(var o=[],i=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,s=a.length;c<s;++c)o[c]=a[c],i[a.charCodeAt(c)]=c;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){return 3*(e+n)/4-n}function f(t,e,n){for(var i,r,a=[],c=e;c<n;c+=3)i=(t[c]<<16&16711680)+(t[c+1]<<8&65280)+(255&t[c+2]),a.push(o[(r=i)>>18&63]+o[r>>12&63]+o[r>>6&63]+o[63&r]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(t,e,n){(function(e){"use strict";var o=t("base64-js"),i=t("ieee754"),r=t("isarray");function a(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=s.prototype:(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return p(this,t)}return u(this,t,e,n)}function u(t,e,n,o){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?g(t,e,n,o):"string"==typeof e?d(t,e,n):v(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e,n,o){return l(e),e<=0?c(t,e):void 0!==n?"string"==typeof o?c(t,e).fill(n,o):c(t,e).fill(n):c(t,e)}function p(t,e){if(l(e),t=c(t,e<0?0:0|m(e)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var o=0|y(e,n),i=(t=c(t,o)).write(e,n);return i!==o&&(t=t.slice(0,i)),t}function h(t,e){var n=e.length<0?0:0|m(e.length);t=c(t,n);for(var o=0;o<n;o+=1)t[o]=255&e[o];return t}function g(t,e,n,o){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(o||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===o?new Uint8Array(e):void 0===o?new Uint8Array(e,n):new Uint8Array(e,n,o),s.TYPED_ARRAY_SUPPORT?(t=e).__proto__=s.prototype:t=h(t,e),t}function v(t,e){if(s.isBuffer(e)){var n=0|m(e.length);return 0===(t=c(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(o=e.length)!=o?c(t,0):h(t,e);if("Buffer"===e.type&&r(e.data))return h(t,e.data)}var o;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function y(t,e){if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Z(t).length;default:if(o)return q(t).length;e=(""+e).toLowerCase(),o=!0}}function b(t,e,n){var o=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return B(this,e,n);case"utf8":case"utf-8":return O(this,e,n);case"ascii":return x(this,e,n);case"latin1":case"binary":return N(this,e,n);case"base64":return L(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,e,n);default:if(o)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),o=!0}}function _(t,e,n){var o=t[e];t[e]=t[n],t[n]=o}function w(t,e,n,o,i){if(0===t.length)return-1;if("string"==typeof n?(o=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=s.from(e,o)),s.isBuffer(e))return 0===e.length?-1:S(t,e,n,o,i);if("number"==typeof e)return e&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):S(t,[e],n,o,i);throw new TypeError("val must be string, number or Buffer")}function S(t,e,n,o,i){var r,a=1,c=t.length,s=e.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(t.length<2||e.length<2)return-1;a=2,c/=2,s/=2,n/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(r=n;r<c;r++)if(u(t,r)===u(e,-1===l?0:r-l)){if(-1===l&&(l=r),r-l+1===s)return l*a}else-1!==l&&(r-=r-l),l=-1}else for(n+s>c&&(n=c-s),r=n;r>=0;r--){for(var f=!0,p=0;p<s;p++)if(u(t,r+p)!==u(e,p)){f=!1;break}if(f)return r}return-1}function R(t,e,n,o){n=Number(n)||0;var i=t.length-n;o?(o=Number(o))>i&&(o=i):o=i;var r=e.length;if(r%2!=0)throw new TypeError("Invalid hex string");o>r/2&&(o=r/2);for(var a=0;a<o;++a){var c=parseInt(e.substr(2*a,2),16);if(isNaN(c))return a;t[n+a]=c}return a}function E(t,e,n,o){return X(q(e,t.length-n),t,n,o)}function P(t,e,n,o){return X(K(e),t,n,o)}function I(t,e,n,o){return P(t,e,n,o)}function C(t,e,n,o){return X(Z(e),t,n,o)}function T(t,e,n,o){return X(J(e,t.length-n),t,n,o)}function L(t,e,n){return 0===e&&n===t.length?o.fromByteArray(t):o.fromByteArray(t.slice(e,n))}function O(t,e,n){n=Math.min(t.length,n);for(var o=[],i=e;i<n;){var r,a,c,s,u=t[i],l=null,f=u>239?4:u>223?3:u>191?2:1;if(i+f<=n)switch(f){case 1:u<128&&(l=u);break;case 2:128==(192&(r=t[i+1]))&&(s=(31&u)<<6|63&r)>127&&(l=s);break;case 3:r=t[i+1],a=t[i+2],128==(192&r)&&128==(192&a)&&(s=(15&u)<<12|(63&r)<<6|63&a)>2047&&(s<55296||s>57343)&&(l=s);break;case 4:r=t[i+1],a=t[i+2],c=t[i+3],128==(192&r)&&128==(192&a)&&128==(192&c)&&(s=(15&u)<<18|(63&r)<<12|(63&a)<<6|63&c)>65535&&s<1114112&&(l=s)}null===l?(l=65533,f=1):l>65535&&(l-=65536,o.push(l>>>10&1023|55296),l=56320|1023&l),o.push(l),i+=f}return k(o)}n.Buffer=s,n.SlowBuffer=function(t){return+t!=t&&(t=0),s.alloc(+t)},n.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),n.kMaxLength=a(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,n){return u(null,t,e,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,n){return f(null,t,e,n)},s.allocUnsafe=function(t){return p(null,t)},s.allocUnsafeSlow=function(t){return p(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,o=e.length,i=0,r=Math.min(n,o);i<r;++i)if(t[i]!==e[i]){n=t[i],o=e[i];break}return n<o?-1:o<n?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!r(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var o=s.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(o,i),i+=a.length}return o},s.byteLength=y,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):b.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,n,o,i){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===o&&(o=0),void 0===i&&(i=this.length),e<0||n>t.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&e>=n)return 0;if(o>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var r=(i>>>=0)-(o>>>=0),a=(n>>>=0)-(e>>>=0),c=Math.min(r,a),u=this.slice(o,i),l=t.slice(e,n),f=0;f<c;++f)if(u[f]!==l[f]){r=u[f],a=l[f];break}return r<a?-1:a<r?1:0},s.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},s.prototype.indexOf=function(t,e,n){return w(this,t,e,n,!0)},s.prototype.lastIndexOf=function(t,e,n){return w(this,t,e,n,!1)},s.prototype.write=function(t,e,n,o){if(void 0===e)o="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)o=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===o&&(o="utf8")):(o=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var r=!1;;)switch(o){case"hex":return R(this,t,e,n);case"utf8":case"utf-8":return E(this,t,e,n);case"ascii":return P(this,t,e,n);case"latin1":case"binary":return I(this,t,e,n);case"base64":return C(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,n);default:if(r)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),r=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function k(t){var e=t.length;if(e<=A)return String.fromCharCode.apply(String,t);for(var n="",o=0;o<e;)n+=String.fromCharCode.apply(String,t.slice(o,o+=A));return n}function x(t,e,n){var o="";n=Math.min(t.length,n);for(var i=e;i<n;++i)o+=String.fromCharCode(127&t[i]);return o}function N(t,e,n){var o="";n=Math.min(t.length,n);for(var i=e;i<n;++i)o+=String.fromCharCode(t[i]);return o}function B(t,e,n){var o,i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",a=e;a<n;++a)r+=(o=t[a])<16?"0"+o.toString(16):o.toString(16);return r}function G(t,e,n){for(var o=t.slice(e,n),i="",r=0;r<o.length;r+=2)i+=String.fromCharCode(o[r]+256*o[r+1]);return i}function M(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function F(t,e,n,o,i,r){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<r)throw new RangeError('"value" argument is out of bounds');if(n+o>t.length)throw new RangeError("Index out of range")}function D(t,e,n,o){e<0&&(e=65535+e+1);for(var i=0,r=Math.min(t.length-n,2);i<r;++i)t[n+i]=(e&255<<8*(o?i:1-i))>>>8*(o?i:1-i)}function V(t,e,n,o){e<0&&(e=4294967295+e+1);for(var i=0,r=Math.min(t.length-n,4);i<r;++i)t[n+i]=e>>>8*(o?i:3-i)&255}function j(t,e,n,o){if(n+o>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,o,r){return r||j(t,0,n,4),i.write(t,e,n,o,23,4),n+4}function H(t,e,n,o,r){return r||j(t,0,n,8),i.write(t,e,n,o,52,8),n+8}s.prototype.slice=function(t,e){var n,o=this.length;if((t=~~t)<0?(t+=o)<0&&(t=0):t>o&&(t=o),(e=void 0===e?o:~~e)<0?(e+=o)<0&&(e=0):e>o&&(e=o),e<t&&(e=t),s.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=s.prototype;else{var i=e-t;n=new s(i,void 0);for(var r=0;r<i;++r)n[r]=this[r+t]}return n},s.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var o=this[t],i=1,r=0;++r<e&&(i*=256);)o+=this[t+r]*i;return o},s.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var o=this[t+--e],i=1;e>0&&(i*=256);)o+=this[t+--e]*i;return o},s.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var o=this[t],i=1,r=0;++r<e&&(i*=256);)o+=this[t+r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},s.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var o=e,i=1,r=this[t+--o];o>0&&(i*=256);)r+=this[t+--o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},s.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){e||M(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(t,e){e||M(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),i.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),i.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),i.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),i.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,n,o){t=+t,e|=0,n|=0,o||F(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,r=0;for(this[e]=255&t;++r<n&&(i*=256);)this[e+r]=t/i&255;return e+n},s.prototype.writeUIntBE=function(t,e,n,o){t=+t,e|=0,n|=0,o||F(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,r=1;for(this[e+i]=255&t;--i>=0&&(r*=256);)this[e+i]=t/r&255;return e+n},s.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):V(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):V(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,n,o){if(t=+t,e|=0,!o){var i=Math.pow(2,8*n-1);F(this,t,e,n,i-1,-i)}var r=0,a=1,c=0;for(this[e]=255&t;++r<n&&(a*=256);)t<0&&0===c&&0!==this[e+r-1]&&(c=1),this[e+r]=(t/a>>0)-c&255;return e+n},s.prototype.writeIntBE=function(t,e,n,o){if(t=+t,e|=0,!o){var i=Math.pow(2,8*n-1);F(this,t,e,n,i-1,-i)}var r=n-1,a=1,c=0;for(this[e+r]=255&t;--r>=0&&(a*=256);)t<0&&0===c&&0!==this[e+r+1]&&(c=1),this[e+r]=(t/a>>0)-c&255;return e+n},s.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):V(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):V(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},s.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},s.prototype.writeDoubleLE=function(t,e,n){return H(this,t,e,!0,n)},s.prototype.writeDoubleBE=function(t,e,n){return H(this,t,e,!1,n)},s.prototype.copy=function(t,e,n,o){if(n||(n=0),o||0===o||(o=this.length),e>=t.length&&(e=t.length),e||(e=0),o>0&&o<n&&(o=n),o===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-e<o-n&&(o=t.length-e+n);var i,r=o-n;if(this===t&&n<e&&e<o)for(i=r-1;i>=0;--i)t[i+e]=this[i+n];else if(r<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<r;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+r),e);return r},s.prototype.fill=function(t,e,n,o){if("string"==typeof t){if("string"==typeof e?(o=e,e=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!s.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var r;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(r=e;r<n;++r)this[r]=t;else{var a=s.isBuffer(t)?t:q(new s(t,o).toString()),c=a.length;for(r=0;r<n-e;++r)this[r+e]=a[r%c]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function Y(t){if((t=W(t).replace(z,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function W(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function q(t,e){var n;e=e||1/0;for(var o=t.length,i=null,r=[],a=0;a<o;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(a+1===o){(e-=3)>-1&&r.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&r.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&r.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;r.push(n)}else if(n<2048){if((e-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function K(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function J(t,e){for(var n,o,i,r=[],a=0;a<t.length&&!((e-=2)<0);++a)o=(n=t.charCodeAt(a))>>8,i=n%256,r.push(i),r.push(o);return r}function Z(t){return o.toByteArray(Y(t))}function X(t,e,n,o){for(var i=0;i<o&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:4,isarray:3}],3:[function(t,e){var n={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}],4:[function(t,e,n){n.read=function(t,e,n,o,i){var r,a,c=8*i-o-1,s=(1<<c)-1,u=s>>1,l=-7,f=n?i-1:0,p=n?-1:1,d=t[e+f];for(f+=p,r=d&(1<<-l)-1,d>>=-l,l+=c;l>0;r=256*r+t[e+f],f+=p,l-=8);for(a=r&(1<<-l)-1,r>>=-l,l+=o;l>0;a=256*a+t[e+f],f+=p,l-=8);if(0===r)r=1-u;else{if(r===s)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,o),r-=u}return(d?-1:1)*a*Math.pow(2,r-o)},n.write=function(t,e,n,o,i,r){var a,c,s,u=8*r-i-1,l=(1<<u)-1,f=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=o?0:r-1,h=o?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-a))<1&&(a--,s*=2),(e+=a+f>=1?p/s:p*Math.pow(2,1-f))*s>=2&&(a++,s/=2),a+f>=l?(c=0,a=l):a+f>=1?(c=(e*s-1)*Math.pow(2,i),a+=f):(c=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&c,d+=h,c/=256,i-=8);for(a=a<<i|c,u+=i;u>0;t[n+d]=255&a,d+=h,a/=256,u-=8);t[n+d-h]|=128*g}},{}],CCCPageView:[function(t,e,n){"use strict";cc._RF.push(e,"5825fr5661FBrhbWkLmFsCT","CCCPageView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../config/config"),u=t("../framework/log/log"),l=t("../framework/res/res"),f=cc._decorator,p=f.ccclass,d=f.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageSpriteTemplate=void 0,e.pageIndicatorToggleTemplate=void 0,e.scrollToNextPageLeftTime=0,e.pageSprites=[],e.togList=[],e.currentIndex=1,e.preIndex=1,e.centerX=0,e.pageIndex=1,e.inittedPageView=!1,e.pageViewDatas=[],e.pageViewSpriteFrames=[],e.bURL=!1,e.carouselLeft=!0,e.carouselInterval=8,e.bShowIndicatorAni=!1,e.indicatorNormalWidth=15,e.indicatorSelectWidth=35,e}return i(e,t),Object.defineProperty(e.prototype,"CarouselInterval",{set:function(t){this.carouselInterval=t},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){var t,e,n=this;this.pageView=this.node.getComponent(cc.PageView),this.viewContent=cc.find("view/content",this.node),this.indecatorContanerLayout=null===(t=this.pageIndicatorToggleTemplate)||void 0===t?void 0:t.parent.getComponent(cc.Layout),null===(e=this.pageView)||void 0===e||e.node.on("page-turning",function(){n.scrollToNextPageLeftTime=n.carouselInterval},this)},e.prototype.init=function(t,e,n,o){return void 0===e&&(e=-1),void 0===n&&(n=!0),void 0===o&&(o=!1),a(this,void 0,void 0,function(){var i=this;return c(this,function(r){switch(r.label){case 0:return t&&0!=t.length?(this.pageViewDatas=t,this.carouselLeft=n,this.bShowIndicatorAni=o,this.bURL="string"==typeof t[0].banner,this.bURL||t.forEach(function(t){i.pageViewSpriteFrames.push(t.banner)}),this.carouselInterval=e,this.scrollToNextPageLeftTime=e,this.initPageview(),[4,this.refreshPageView()]):(u.tcLog.error("PageView.init datas error"),[2]);case 1:return r.sent(),this.pageView&&this.togList.length>0&&this.pageView.setCurrentPageIndex(0),[2]}})})},e.prototype.setPageViewClickHandler=function(t){this.pageViewClickCallBack=t},e.prototype.setPageViewTurnPageHanlder=function(t){this.pageViewTurnPageCallBack=t},e.prototype.refreshPageView=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:if(this.inittedPageView||!this.pageSpriteTemplate)return[2];this.inittedPageView=!0,t=0,e.label=1;case 1:return t<this.pageSprites.length?this.bURL?[4,this.loadPageViewSprite(this.pageViewDatas[t%this.pageViewDatas.length].banner,t)]:[3,3]:[3,5];case 2:return e.sent(),[3,4];case 3:this.pageSprites[t].spriteFrame=this.pageViewDatas[t%this.pageViewDatas.length].banner,e.label=4;case 4:return++t,[3,1];case 5:return[2]}})})},e.prototype.initPageview=function(){for(var t,e,n,o,i,r=this,a=this.pageViewDatas.length,c=1==a?1:2==a?4:a,s=0;s<c;++s){var l=0==s?this.pageSpriteTemplate:cc.instantiate(this.pageSpriteTemplate);l&&(0!=s&&(null===(t=this.pageView)||void 0===t||t.addPage(l)),this.pageSprites.push(l.getComponent(cc.Sprite)),null===(n=null===(e=this.pageSprites[s])||void 0===e?void 0:e.node)||void 0===n||n.on("click",function(){r.pageViewClickCallBack&&r.pageViewClickCallBack(r.currentIndex%a)}))}for(s=0;s<this.pageViewDatas.length;++s){var f=0==s?this.pageIndicatorToggleTemplate:cc.instantiate(this.pageIndicatorToggleTemplate);0!=s&&(null==f||f.setParent(null===(o=this.pageIndicatorToggleTemplate)||void 0===o?void 0:o.parent)),0!=s&&f&&(f.width=this.indicatorNormalWidth),f&&this.togList.push(f.getComponent(cc.Toggle))}null===(i=this.indecatorContanerLayout)||void 0===i||i.updateLayout();var p=this.pageView.getPages();if(p.length>0){var d=p[0].width;this.centerX=1.5*d}u.tcLog.info("pageindex: ",this.pageIndex),this.pageView.node.on("scroll-ended",function(){r.onScrollEnd()})},e.prototype.onScrollEnd=function(){!this.pageViewDatas||this.pageViewDatas.length<2||(this.preIndex=this.currentIndex,this.pageView.getCurrentPageIndex()<=this.pageIndex-1?(this.pageView.content.setPosition(-this.centerX,0),this.pageView.setCurrentPageIndex(this.pageIndex),--this.currentIndex,this.currentIndex<0&&(this.currentIndex=this.pageViewDatas.length-1),this.setPageViewSprite(!1)):this.pageView.getCurrentPageIndex()>=this.pageIndex+1&&(this.pageView.content.setPosition(-this.centerX,0),this.pageView.setCurrentPageIndex(this.pageIndex),++this.currentIndex,this.currentIndex>=this.pageViewDatas.length&&(this.currentIndex=0),this.setPageViewSprite(!0)),this.pageViewTurnPageCallBack&&this.pageViewTurnPageCallBack(this.currentIndex),this.bShowIndicatorAni&&this.showIndicatorsAnimation())},e.prototype.setPageViewSprite=function(t){for(var e=this.currentIndex,n=1,o=0;o<this.pageSprites.length;o++)t?(++e>=this.pageViewDatas.length&&(e=0),++n>=this.pageSprites.length&&(n=0)):(--e<0&&(e=this.pageViewDatas.length-1),--n<0&&(n=this.pageSprites.length-1)),this.pageSprites[n].spriteFrame=this.pageViewSpriteFrames[e%this.pageViewDatas.length];this.togList[this.currentIndex%this.pageViewDatas.length].check()},e.prototype.loadPageViewSprite=function(t,e){return a(this,void 0,void 0,function(){var n=this;return c(this,function(){return l.tcRes.loadRemote(s.config.apiUrl+"/"+t).then(function(t){if(n.pageSprites[e]&&n.pageSprites[e].node){var o=new cc.SpriteFrame(t);n.pageViewSpriteFrames[e]=o,n.pageViewDatas&&(1==n.pageViewDatas.length?n.pageSprites[0].spriteFrame=o:n.currentIndex==e&&(n.pageSprites[1].spriteFrame=o))}}),[2]})})},e.prototype.update=function(t){this.carouselInterval<=0||this.pageViewDatas.length<2||(this.scrollToNextPageLeftTime-=t,this.scrollToNextPageLeftTime<=0&&(this.scrollToNextPageLeftTime=8,this.scrollToNextView()))},e.prototype.scrollToNextView=function(){var t,e,n,o;if(this.pageView&&this.pageView.node&&this.node.active){var i=null===(t=this.pageView)||void 0===t?void 0:t.getCurrentPageIndex(),r=(this.carouselLeft?i+1:i-1)%(null===(n=null===(e=this.pageView)||void 0===e?void 0:e.getPages())||void 0===n?void 0:n.length);null===(o=this.pageView)||void 0===o||o.scrollToPage(r,1)}},e.prototype.showIndicatorsAnimation=function(){var t=this;this.togList.forEach(function(e,n){n==t.currentIndex?cc.tween(e.node).to(.3,{width:t.indicatorSelectWidth},{easing:cc.easing.backOut}).start():cc.tween(e.node).to(.3,{width:t.indicatorNormalWidth},{easing:cc.easing.backOut}).start()})},r([d(cc.Node)],e.prototype,"pageSpriteTemplate",void 0),r([d(cc.Node)],e.prototype,"pageIndicatorToggleTemplate",void 0),r([p],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../config/config":"config","../framework/log/log":"log","../framework/res/res":"res"}],5:[function(t,e,n){(function(t,o){(function(t,o){var i,r;"object"==typeof n&&void 0!==e?e.exports=o():"function"==typeof define&&define.amd?define(o):(i=t.Base64,(r=o()).noConflict=function(){return t.Base64=i,r},t.Meteor&&(Base64=r),t.Base64=r)})("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:this,function(){"use strict";var t,e="function"==typeof atob,n="function"==typeof btoa,i="function"==typeof o,r="function"==typeof TextDecoder?new TextDecoder:void 0,a="function"==typeof TextEncoder?new TextEncoder:void 0,c=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),s=(t={},c.forEach(function(e,n){return t[e]=n}),t),u=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,l=String.fromCharCode.bind(String),f="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(t){return new Uint8Array(Array.prototype.slice.call(t,0))},p=function(t){return t.replace(/=/g,"").replace(/[+\/]/g,function(t){return"+"==t?"-":"_"})},d=function(t){return t.replace(/[^A-Za-z0-9\+\/]/g,"")},h=function(t){for(var e,n,o,i,r="",a=t.length%3,s=0;s<t.length;){if((n=t.charCodeAt(s++))>255||(o=t.charCodeAt(s++))>255||(i=t.charCodeAt(s++))>255)throw new TypeError("invalid character found");r+=c[(e=n<<16|o<<8|i)>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}return a?r.slice(0,a-3)+"===".substring(a):r},g=n?function(t){return btoa(t)}:i?function(t){return o.from(t,"binary").toString("base64")}:h,v=i?function(t){return o.from(t).toString("base64")}:function(t){for(var e=[],n=0,o=t.length;n<o;n+=4096)e.push(l.apply(null,t.subarray(n,n+4096)));return g(e.join(""))},m=function(t,e){return void 0===e&&(e=!1),e?p(v(t)):v(t)},y=function(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?l(192|e>>>6)+l(128|63&e):l(224|e>>>12&15)+l(128|e>>>6&63)+l(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return l(240|e>>>18&7)+l(128|e>>>12&63)+l(128|e>>>6&63)+l(128|63&e)},b=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,_=function(t){return t.replace(b,y)},w=i?function(t){return o.from(t,"utf8").toString("base64")}:a?function(t){return v(a.encode(t))}:function(t){return g(_(t))},S=function(t,e){return void 0===e&&(e=!1),e?p(w(t)):w(t)},R=function(t){return S(t,!0)},E=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,P=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return l(55296+(e>>>10))+l(56320+(1023&e));case 3:return l((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return l((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},I=function(t){return t.replace(E,P)},C=function(t){if(t=t.replace(/\s+/g,""),!u.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));for(var e,n,o,i="",r=0;r<t.length;)e=s[t.charAt(r++)]<<18|s[t.charAt(r++)]<<12|(n=s[t.charAt(r++)])<<6|(o=s[t.charAt(r++)]),i+=64===n?l(e>>16&255):64===o?l(e>>16&255,e>>8&255):l(e>>16&255,e>>8&255,255&e);return i},T=e?function(t){return atob(d(t))}:i?function(t){return o.from(t,"base64").toString("binary")}:C,L=i?function(t){return f(o.from(t,"base64"))}:function(t){return f(T(t).split("").map(function(t){return t.charCodeAt(0)}))},O=function(t){return L(k(t))},A=i?function(t){return o.from(t,"base64").toString("utf8")}:r?function(t){return r.decode(L(t))}:function(t){return I(T(t))},k=function(t){return d(t.replace(/[-_]/g,function(t){return"-"==t?"+":"/"}))},x=function(t){return A(k(t))},N=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}},B=function(){var t=function(t,e){return Object.defineProperty(String.prototype,t,N(e))};t("fromBase64",function(){return x(this)}),t("toBase64",function(t){return S(this,t)}),t("toBase64URI",function(){return S(this,!0)}),t("toBase64URL",function(){return S(this,!0)}),t("toUint8Array",function(){return O(this)})},G=function(){var t=function(t,e){return Object.defineProperty(Uint8Array.prototype,t,N(e))};t("toBase64",function(t){return m(this,t)}),t("toBase64URI",function(){return m(this,!0)}),t("toBase64URL",function(){return m(this,!0)})},M={version:"3.7.5",VERSION:"3.7.5",atob:T,atobPolyfill:C,btoa:g,btoaPolyfill:h,fromBase64:x,toBase64:S,encode:S,encodeURI:R,encodeURL:R,utob:_,btou:I,decode:x,isValid:function(t){if("string"!=typeof t)return!1;var e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},fromUint8Array:m,toUint8Array:O,extendString:B,extendUint8Array:G,extendBuiltins:function(){B(),G()},Base64:{}};return Object.keys(M).forEach(function(t){return M.Base64[t]=M[t]}),M})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{buffer:2}],GameConst:[function(t,e,n){"use strict";cc._RF.push(e,"e63e6BtNC9FS7mwki9ZzdxR","GameConst"),Object.defineProperty(n,"__esModule",{value:!0}),n.Game_Const=void 0,n.Game_Const={native_version:"1.0.0",Gmee_Type:"pg_rabbit",Game_Host:"",server_ips:[],server_list:{test:{Game_Host:"",server_ips:[]}},language:"pt-BR",loginData:{notify_url:"",amount:1e6,platform:"",key:"",secret:"",channel_id:"default"}},cc._RF.pop()},{}],GameNetEvent:[function(t,e,n){"use strict";var o;cc._RF.push(e,"6369coSNxJC97dOSsW/6tbr","GameNetEvent"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){t.Disconnect="disconnect",t.IoError="io-error",t.OnKick="onKick",t.Error="error",t.Close="close",t.Reconnect="reconnect",t.HeartbeatTimeout="heartbeat timeout",t.updateNetDelay="updateNetDelay",t.loginOK="loginOK",t.loginFail="loginFail",t.registerOK="registerOK",t.registerFail="registerFail",t.tryconnect="tryconnect",t.tryFail="tryFail",t.ShowDisconnectTip="ShowDisconnectTip",t.GetGatewayConfirm="GetGatewayConfirm"}(o||(o={})),n.default=o,cc._RF.pop()},{}],GameNet:[function(t,e,n){"use strict";cc._RF.push(e,"8a7f8+epi9BpLWzBlBVLt4v","GameNet");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,t("../config/GameConst")),u=t("../tools/GlobalEvents"),l=t("../tools/GlobalGame"),f=t("./Result"),p=t("./GameNetEvent"),d=t("./logger"),h=function(t){function e(){var e=t.call(this)||this;return e.reqPingPong=[],e.reqStart=Date.now(),e.lastTableCmd=null,e.heartBeatStartTime=Date.now(),e.heartBeatPingPong=[],e.event=new cc.EventTarget,e.remoteCfg={},e.priorityServer=[],e.lastPort=null,e.servercfg=null,e.sceneEvent={},e.bDebug=!1,e.bHall=!1,e.homeURL="",e.server_ips=null,e.reconnectAttempts=0,e.maxReconnectAttempts=5,e.sessionid=null,e.uid=0,e.tmpLoginRequest=null,e.cacheMeg={},e.cacheMegIndex=0,e.isKick=!1,e.tryshowCount=0,e.tryshowTime=(new Date).getTime(),e.loginLock=!1,e}var n;return i(e,t),n=e,e.getInstance=function(){return this.instance||(this.instance=new n),this.instance},e.prototype.init=function(){n.getInstance().resetCallback()},e.prototype.computePingPong=function(){var t=n.getInstance();t.reqPingPong.push(Date.now()-t.reqStart),t.reqPingPong.length>5&&t.reqPingPong.splice(0,1);var e=t.reqPingPong.reduce(function(t,e){return t+e},0)/t.reqPingPong.length;t.sendEvent(p.default.updateNetDelay,{averagePing:e})},e.prototype.sendEvent=function(t,e){n.getInstance().event.emit(t,e)},e.prototype.on=function(t,e,o){n.getInstance().event.on(t,e,o)},e.prototype.off=function(t,e,o){n.getInstance().event.off(t,e,o)},e.prototype.on_ui=function(t,e,o,i){var r=n.getInstance();r.event.on(e,o,i),r.sceneEvent[t]||(r.sceneEvent[t]=[]),r.sceneEvent[t].push({evt:e,callback:o,target:i})},e.prototype.off_all_ui=function(t){var e=n.getInstance();if(e.sceneEvent[t]){for(var o=0;o<e.sceneEvent[t].length;o++){var i=e.sceneEvent[t][o];e.event.off(i.evt,i.callback,i.target)}e.sceneEvent[t]=null}},e.prototype.setCallBack=function(t,e){var o=n.getInstance();o.pomelo.off(t),e&&o.pomelo.on(t,function(n){u.GlobalEvents.getInstance().unluck(),d.default.green("<=== [Server Push] "+(new Date).toISOString()+" evt = "+t+", data:  "+JSON.stringify(n)),"onKick"===t&&o.sendEvent(p.default.Disconnect,7),o.lastTableCmd===t&&(o.lastTableCmd=null,o.computePingPong()),e(n)})},e.prototype.connect=function(t,e,o,i){var r=n.getInstance();r.reqPingPong=[],r.pomelo.disconnect(),i&&r.setCallBack(p.default.Disconnect,i),r.pomelo.init({host:t,port:e,log:!0,sendEvent:function(t,e){r.sendEvent(t,e)}},o)},e.prototype.disconnect=function(){var t=n.getInstance();t.servercfg=null,t.setCallBack(p.default.Disconnect,function(){}),t.pomelo.disconnect()},e.prototype.request=function(t,e,o){var i=n.getInstance();d.default.purple("GameNet request ===>",t,JSON.stringify(e)),i.reqStart=Date.now();try{2===arguments.length?(i.pomelo.notify(t,e),u.GlobalEvents.getInstance().unluck()):i.pomelo.request(t,e,function(e){u.GlobalEvents.getInstance().unluck(),d.default.green("<=== GameNet reply",t,JSON.stringify(e)),i.computePingPong(),o&&o(e)})}catch(r){i.sendEvent(p.default.Disconnect,2)}},e.prototype.requestToTableMsg=function(t,e,o){var i=n.getInstance();e.cmd=t,d.default.purple("requestToTableMsg  ===>",t,JSON.stringify(e)),i.reqStart=Date.now();try{2===arguments.length?(i.pomelo.notify("pkroom.handler.tableMsg",e),u.GlobalEvents.getInstance().unluck()):i.pomelo.request("pkroom.handler.tableMsg",e,function(e){u.GlobalEvents.getInstance().unluck(),d.default.green("<=== GameNet TableMsg reply",t,JSON.stringify(e)),i.computePingPong(),o&&o(e)})}catch(r){i.sendEvent(p.default.Disconnect,2)}},e.prototype.notifyToTableMsg=function(t,e){var o=n.getInstance();e.cmd=t,d.default.purple("GameNet notifyToTableMsg ===>",t,JSON.stringify(e)),o.reqStart=Date.now();try{o.pomelo.notify("pkroom.handler.tableMsg",e),u.GlobalEvents.getInstance().unluck()}catch(i){d.default.red("<=== GameNet notifyToTableMsg"),o.sendEvent(p.default.Disconnect,2)}},e.prototype.resetCallback=function(){var t=n.getInstance();t.setCallBack(p.default.IoError,function(e){d.default.log("resetCallback IoError"),t.onDisconnected(p.default.IoError,e)}),t.setCallBack(p.default.OnKick,function(e){d.default.log("resetCallback OnKick"),t.onDisconnected(p.default.OnKick,e),n.getInstance().isKick=!0}),t.setCallBack(p.default.Error,function(e){d.default.log("resetCallback Error"),t.onDisconnected(p.default.Error,e)}),t.setCallBack(p.default.Close,function(e){d.default.log("resetCallback Close"),t.onClose(p.default.Close,e)}),t.setCallBack(p.default.Disconnect,function(e){d.default.log("resetCallback Disconnect"),t.onDisconnected(p.default.Disconnect,e)}),t.setCallBack(p.default.Reconnect,function(){d.default.log("resetCallback Reconnect")}),t.setCallBack(p.default.HeartbeatTimeout,function(){d.default.log("resetCallback HeartbeatTimeout"),t.checkReconnect()}),t.on("endRoom",t.onEndRoom,t)},e.prototype.onClose=function(t,e){var o=n.getInstance();o.log("onClose: code:"+t+", data:"+JSON.stringify(e)),o.server_ips&&(o.servercfg=null,o.checkReconnect())},e.prototype.checkReconnect=function(){var t=n.getInstance();t.reconnectAttempts<t.maxReconnectAttempts?(u.GlobalEvents.getInstance().luck(!1),clearTimeout(t.reconnectTime),t.reconnectTime=setTimeout(function(){t.doAutoReconnect()},3e3)):t.log("checkReconnect error")},e.prototype.onDisconnected=function(t,e){n.getInstance().log("onDisconnected: code:"+t+", data:"+JSON.stringify(e))},e.prototype.onEndRoom=function(t){n.getInstance().log("endRoom",JSON.stringify(t))},e.prototype.queueNetMsgCallback=function(t,e){var o=n.getInstance();o.setCallBack(t,function(n){o.log("Queued message for event: "+t,n),e&&e(n)})},e.prototype.resetHeartBeatTime=function(){n.getInstance().heartBeatStartTime=Date.now()},e.prototype.computeNetDelayByHeartBeat=function(){var t=n.getInstance();t.heartBeatPingPong.push(Date.now()-t.heartBeatStartTime),t.heartBeatPingPong.length>1&&(t.heartBeatPingPong.splice(0,1),t.heartBeatPingPong.shift());var e=t.heartBeatPingPong.reduce(function(t,e){return t+e},0)/t.heartBeatPingPong.length;t.sendEvent(p.default.updateNetDelay,{averageHeartbeatPing:e})},e.prototype.combineServerRemoteCfg=function(t){var e=n.getInstance(),o=l.GlobalGame.getInstance().gameid;if(t&&t.gameInfo&&t.gameInfo[o]&&t.gameInfo[o].remoteCfg){var i=t.gameInfo[o].remoteCfg;for(var r in i)e.remoteCfg[r]=i[r]}},e.prototype.getServersByRandForWeights=function(t){var e=n.getInstance().remoteCfg.serversSelect;if(e&&e.length===t.length)for(var o=1e3*Math.random(),i=0,r=0;r<e.length;r++)if(o<=(i+=e[r]))return t[r];return t[Math.floor(Math.random()*t.length)]},e.prototype.getServerByRandForPort=function(t){if(t.length>3)return parseInt(t[1+Math.floor(Math.random()*(t.length-1))],10);var e=parseInt(t[1],10),n=parseInt(t[2],10);return e+Math.floor(Math.random()*(n-e+1))},e.prototype.getServerCfgByRand=function(){var t=n.getInstance();if(t.server_ips&&0!=t.server_ips.length||(t.server_ips=s.Game_Const.server_ips.concat()),null==t.servercfg){var e=Math.floor(Math.random()*t.server_ips.length);t.servercfg=t.server_ips[e],t.server_ips.splice(e,1)}return t.servercfg},e.prototype.getServerPort=function(t){var e=n.getInstance(),o=t.slice(0);o.splice(0,1);for(var i=[],r=parseInt(o[0],10),a=parseInt(o[1],10),c=r;c<=a;c++)e.lastPort!==c&&i.push(c);var s=i[Math.floor(Math.random()*i.length)];return e.lastPort=s,s},e.prototype.doLogin=function(t,e,o,i){n.getInstance().loginLock=!0;var r=n.getInstance(),a={account:t,passwd:e,app:{os:cc.sys.os},geogData:{latitude:0,longitude:0},fromHallGame:1,gametype:o,autoCreate:1};r.tmpLoginRequest=function(n){r.doLogin(t,e,o,n)};var c=r.getServerCfgByRand();r.connect(c.host,c.port,function(){r.log("connect server ok"),n.getInstance().tryshowCount=0,r.request("pkcon.handler.AccountLogin",a,function(t){if(t.result==f.Result.Success)return r.reconnectAttempts=0,r.sessionid=t.pinfo.sessionid,r.uid=t.pinfo.uid,r.sendEvent(p.default.loginOK,t),void(i&&i(null,t));i&&i(t.result,t),r.log("AccountLogin error",JSON.stringify(t)),r.gotoBack("Login Fail!! code:"+t.result)})},function(){r.log("doLogin connect server fail"),n.getInstance().loginLock=!1})},e.prototype.doRegister=function(t,e,o){n.getInstance().loginLock=!0;var i=n.getInstance(),r={account:t,passwd:e,app:{os:cc.sys.os},geogData:{latitude:0,longitude:0},fromHallGame:1,gametype:o},a=i.getServerCfgByRand();i.connect(a.host,a.port,function(){i.log("connect server ok"),n.getInstance().tryshowCount=0,i.request("pkcon.handler.RegisterAccount",r,function(t){if(t.result==f.Result.Success)return i.reconnectAttempts=0,i.sessionid=t.pinfo.sessionid,i.uid=t.pinfo.uid,void i.sendEvent(p.default.loginOK,t);i.sendEvent(p.default.loginFail,t),i.log("RegisterAccount error",JSON.stringify(t)),i.disconnect()})},function(){i.log("doRegister connect server fail"),n.getInstance().loginLock=!1})},e.prototype.doLoginBySession=function(t,e,o){n.getInstance().loginLock=!0;var i=n.getInstance(),r={sessionid:t,uid:e,app:{os:cc.sys.os}};i.tmpLoginRequest=function(n){i.doLoginBySession(t,e,n)};var a=i.getServerCfgByRand();i.connect(a.host,a.port,function(){i.log("doLoginBySession connect server ok"),n.getInstance().tryshowCount=0,i.request("pkcon.handler.sessionLogin",r,function(t){if(t.result==f.Result.Success)return i.reconnectAttempts=0,i.sessionid=t.pinfo.sessionid,i.uid=t.pinfo.uid,i.sendEvent(p.default.loginOK,t),void(o&&o(null,t));o&&o(t.result,t),i.log("AccountLogin error",JSON.stringify(t)),i.gotoBack("Login Fail!! code:"+t.result)})},function(){n.getInstance().log("doLoginBySession connect server fail"),n.getInstance().loginLock=!1})},e.prototype.doAutoReconnect=function(){var t=n.getInstance();n.getInstance().sendEvent(p.default.tryconnect),d.default.log("GameNet  ok",n.getInstance().tryshowTime);var e=function(e,n){e||n.pinfo.tableid&&l.GlobalGame.getInstance().JoinGame(n.pinfo.tableid,function(e){t.log(" doAutoReconnec JoinGame",JSON.stringify(e))})};t.sessionid&&t.uid?t.doLoginBySession(t.sessionid,t.uid.toString(),e):t.tmpLoginRequest&&t.tmpLoginRequest(e)},e.prototype.doLoginByUnionid=function(t,e,o,i){var r=n.getInstance(),a={unionid:e,nickname:o,user_id:t,notify_url:s.Game_Const.loginData.notify_url,amount:s.Game_Const.loginData.amount,gameid:s.Game_Const.Gmee_Type,platform:s.Game_Const.loginData.platform,key:s.Game_Const.loginData.key,secret:s.Game_Const.loginData.secret,channel_id:s.Game_Const.loginData.channel_id};r.tmpLoginRequest=function(n){r.doLoginByUnionid(t,e,o,n)};var c=r.getServerCfgByRand();r.connect(c.host,c.port,function(){r.log("login unionid connect server ok",JSON.stringify(a)),r.request("pkcon.handler.unionidLogin",a,function(t){if(t.result==f.Result.Success)return r.reconnectAttempts=0,r.sessionid=t.pinfo.sessionid,r.uid=t.pinfo.uid,r.sendEvent(p.default.loginOK,t),void(i&&i(null,t));r.sendEvent(p.default.loginFail,t),i&&i(t.result,t),r.log("doLoginByUnionid error",JSON.stringify(t)),r.disconnect()})},null)},e.prototype.loginGame=function(){var t=n.getInstance(),e=t.priorityServer,o=t.getServersByRandForWeights(e).split(":"),i=o[0],r=t.getServerPort(o);t.connect(i,r,function(){t.sendEvent("connect")},function(){t.sendEvent(p.default.Disconnect,1)})},e.prototype.getAllQueryVariables=function(){if(cc.sys.isBrowser){var t=window.location.search.substring(1).split("&"),e={};return t.forEach(function(t){var n=t.split("=");n[0]&&n[1]&&(e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]))}),e}return{}},e.prototype.gotoBack=function(t){var e=n.getInstance();if(t&&""!=t)return e.log("goto back ======>>>> msg:"+t),void l.GlobalGame.getInstance().ShowTips(t,0,function(){e.gotoBack("")});e.log("goto back ======>>>> disconnect"),e.server_ips=null,e.disconnect(),cc.sys.isBrowser?(e.log("self function is Web platform."," ===>>> goto history back"),""!=e.homeURL?window.location.href=e.homeURL:e.isDebug()):e.log("self function is only available on the Web platform."," ===>>> goto back")},e.prototype.isHall=function(){return n.getInstance().bHall||cc.sys.isBrowser&&("localhost"==window.location.hostname||-1!=window.location.hostname.indexOf("192.168.")||-1!=window.location.hostname.indexOf("43.198.73.197"))},e.prototype.isDebug=function(){return n.getInstance().bDebug||cc.sys.isBrowser&&("localhost"==window.location.hostname||-1!=window.location.hostname.indexOf("192.168.")||-1!=window.location.hostname.indexOf("43.198.73.197"))},e.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=n.getInstance();o.isDebug()&&(1==t.length?d.default.log(t[0]):2==t.length?d.default.log(t[0],t[1]):3==t.length?d.default.log(t[0],t[1],t[2]):4==t.length?d.default.log(t[0],t[1],t[2],t[3]):5==t.length?d.default.log(t[0],t[1],t[2],t[3],t[4]):d.default.log.apply(d.default,t))},e.instance=null,e.cmdCall="pkplayer.handler.ClientMommonCall",n=r([c],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../config/GameConst":"GameConst","../tools/GlobalEvents":"GlobalEvents","../tools/GlobalGame":"GlobalGame","./GameNetEvent":"GameNetEvent","./Result":"Result","./logger":"logger"}],GlobalEvents:[function(t,e,n){"use strict";cc._RF.push(e,"bfd42hN+gFH2KnLjKgfQD2i","GlobalEvents");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.GlobalEvents=void 0;var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=t.call(this)||this;return e.event=new cc.EventTarget,e}var n;return i(e,t),n=e,e.getInstance=function(){return this.instance||(this.instance=new n),this.instance},e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.emit=function(t,e){this.event.emit(t,e)},e.prototype.once=function(t,e,n){this.event.once(t,e,n)},e.prototype.on=function(t,e,n){this.event.on(t,e,n)},e.prototype.off=function(t,e,n){this.event.off(t,e,n)},e.prototype.luck=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=0),this.emit("luck",{autoUnluck:t,timeout:e})},e.prototype.unluck=function(t){void 0===t&&(t=!0),this.emit("unluck",{force:t})},e.instance=null,n=r([c],e)}(cc.Component));n.GlobalEvents=s,cc._RF.pop()},{}],GlobalGame:[function(t,e,n){"use strict";cc._RF.push(e,"6b75eUXWplIUpwsOAL5FfUC","GlobalGame");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.GlobalGame=void 0;var a=t("../libs/Language"),c=t("../libs/Tools"),s=t("../net/GameNet"),u=t("../net/GameNetEvent"),l=t("../net/Result"),f=t("../net/ResultText"),p=t("../player/myplayer"),d=t("./GlobalEvents"),h=cc._decorator,g=h.ccclass,v=(h.property,function(t){function e(){var e=t.call(this)||this;return e.gameid=null,e.tableid=null,e.order=null,e.bOnRoom=!1,e.bet=-1,e.level=0,e.GameResult=null,e.tableData=null,e.tData=null,e.tmpFaceID="",e.gamecfg=null,e.playerlist=null,e.icons=null,e.mode=0,e.prefabTipsMsg=null,e.prefabLock=null,e.luckView=[],e.images={},e}var n;return i(e,t),n=e,e.getInstance=function(){return this.instance||(this.instance=new n),this.instance},e.prototype.onLoad=function(){n.getInstance().init()},e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.init=function(){var t=n.getInstance();s.default.getInstance().on("initSceneData",t.onInitSceneData,t),d.GlobalEvents.getInstance().on("luck",t.onLuck,t),d.GlobalEvents.getInstance().on("unluck",t.onUnluck,t)},e.prototype.onInitSceneData=function(t){s.default.getInstance().log("onInitSceneData",JSON.stringify(t))},e.prototype.clear=function(){var t=n.getInstance();t.bet=-1,t.level=0,t.GameResult=null,t.tableData=null,t.tData=null,t.gamecfg=null,t.tableid=0},e.prototype.ellipsis=function(t,e){return t.length>e?t.substring(0,e-3)+"...":t},e.prototype.extractNumberAfterPrefix=function(t,e){void 0===e&&(e="avata:");var n=new RegExp(e+"(\\d+)"),o=t.match(n);return o&&o[1]?o[1]:null},e.prototype.endsWithSlash=function(t){return/\/$/.test(t)},e.prototype.setFace=function(t,e){var o=n.getInstance(),i=o.extractNumberAfterPrefix(e);if(null!=i){var r=Math.max(1,Math.min(parseInt(i),18));o.loadGameRes("face/icon_"+r+".png",t)}},e.prototype.loadImage=function(t,e){var o=n.getInstance();e&&(o.images[t]?o.images[t].spriteFrame?(e.spriteFrame=o.images[t].spriteFrame,s.default.getInstance().log("loadImage ===>>> sprite ",t)):(o.images[t].sprites.push(e),s.default.getInstance().log("loadImage ===>>> Cache ",t)):(s.default.getInstance().log("loadImage ===>>> ",t),o.images[t]={spriteFrame:null,sprites:[e]}),cc.assetManager.loadRemote(t,function(e,o){var i=n.getInstance();if(e)console.error(e);else{var r=new cc.SpriteFrame(o);i.images[t].spriteFrame=r,i.images[t].sprites.forEach(function(e){null!=e.node?(e.spriteFrame=r,s.default.getInstance().log("loadimage set spriteFrame",e.name,t)):s.default.getInstance().log("loadimage sprite is invalid",t)}),i.images[t].sprites=[]}}))},e.prototype.getBaseURL=function(){var t=n.getInstance(),e=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/";return cc.sys.isBrowser&&"localhost"==window.location.hostname&&(e=""),!t.endsWithSlash(e)&&(e+="/"),e},e.prototype.loadGameIcon=function(t,e){var o=n.getInstance(),i=o.getBaseURL()+"gameicons/"+t+".png";o.loadImage(i,e)},e.prototype.loadGameRes=function(t,e){var o=n.getInstance(),i=o.getBaseURL()+"resources/"+t;o.loadImage(i,e)},e.prototype.JoinGame=function(t,e){var o=n.getInstance(),i={cmd:"JoinGame",tableid:t};s.default.getInstance().request(s.default.cmdCall,i,function(t){s.default.getInstance().log(JSON.stringify(t)),t.result==l.Result.Success?(o.tableData=t.tableData,o.tData=t.tableData.tData,o.bet=o.tData.bet,o.level=o.tData.level,o.tableid=o.tData.tableid,o.tableData.tableResult&&(o.GameResult=o.tableData.tableResult),o.tableData.gamecfg&&(o.gamecfg=o.tableData.gamecfg),e&&e(t)):t.result==l.Result.roomNotFound?(o.tableid,p.myplayer.getInstance().getInfo().tableid=0,e&&e(null)):o.ShowTipsByMsg(t,0,function(){e&&e(null)})})},e.prototype.LeaveGame=function(t){var e=n.getInstance();s.default.getInstance().request("pkplayer.handler.ClientMommonCall",{cmd:"LeaveGame"},function(o){s.default.getInstance().log(JSON.stringify(o)),e.tableid,p.myplayer.getInstance().getInfo().tableid=0,o.result==l.Result.Success?(n.getInstance().clear(),t&&t(o)):(o.result,l.Result.roomNotFound,t&&t(null))})},e.prototype.EndRoom=function(t){s.default.getInstance().log("EndRoom"),s.default.getInstance().sendEvent(u.default.GetGatewayConfirm);var e=n.getInstance();d.GlobalEvents.getInstance().luck(),s.default.getInstance().requestToTableMsg("EndRoom",{},function(){e.tableid=0,e.tableData=null,e.GameResult=null,e.bet=-1,n.getInstance().LeaveGame(t)})},e.prototype.GameOver=function(t,e){var o=n.getInstance(),i={score:o.exchangeThird(t)};s.default.getInstance().requestToTableMsg("GameOver",i,function(t){t.result==l.Result.Success&&(o.GameResult=t.tableResult,p.myplayer.getInstance().requestUserInfo(),e&&e(t))})},e.prototype.GameCfg=function(t){var e=n.getInstance();d.GlobalEvents.getInstance().luck();var o={cmd:"GameCfg",gameid:e.gameid};s.default.getInstance().request(s.default.cmdCall,o,function(n){s.default.getInstance().log(JSON.stringify(n)),n.result==l.Result.Success?(e.gamecfg=n.gamecfg,e.playerlist=n.playerlist,t&&t(n)):e.ShowTipsByMsg(n,0,function(){s.default.getInstance().gotoBack("")})})},e.prototype.NewRoom=function(t,e,o,i){var r=n.getInstance();d.GlobalEvents.getInstance().luck(),o.order=r.order||c.Tools.Format(new Date,"yyyyMMddhhmmssS")+p.myplayer.getInstance().getUid().toString();var a={cmd:"NewRoom",gameid:t,roomid:e,tparam:o};s.default.getInstance().request(s.default.cmdCall,a,function(t){s.default.getInstance().log(JSON.stringify(t)),t.result==l.Result.Success?(r.tableid=t.tableid,r.bet=0,i&&i(t)):r.ShowTipsByMsg(t,0,function(){i&&i(t)})})},e.prototype.canStartGame=function(t){var e=n.getInstance();s.default.getInstance().requestToTableMsg("canStartGame",{},function(n){n.result==l.Result.Success?(p.myplayer.getInstance().updateInfo(n.pinfo),t&&t(n)):e.ShowTipsByMsg(n,0,function(){t&&t(n)})})},e.prototype.handleFloat=function(t){return"number"==typeof t?Math.floor(100*t)/100:t},e.prototype.handleFloatStr=function(t,e){return void 0===e&&(e=2),this.exchangeSelf(t).toFixed(e)},e.prototype.handleNumber=function(t){return t<1e3?t.toString():t>1e8?(t/1e8).toFixed(2)+"G":t>1e4?(t/1e4).toFixed(2)+"M":t>1e3?(t/1e3).toFixed(2)+"K":void 0},e.prototype.exchangeThird=function(t){return Math.floor(1e3*t)},e.prototype.exchangeSelf=function(t){return t/1e3},e.prototype.RandomWeight=function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].weight;var o=Math.random()*e;for(e=0,n=0;n<t.length;n++)if(o<=(e+=t[n].weight))return t[n];return null},e.prototype.ShowTipsByMsg=function(t,e,o){var i=n.getInstance();t.msg?i.ShowTips(t.msg,e,o):t.result?i.ShowTipsByCode(t,e,o):i.ShowTips("System unknown!",e,o)},e.prototype.ShowTipsByCode=function(t,e,o){var i=n.getInstance(),r=t.msg||a.Language.GT("sysytem error code:")+t.result;for(var c in l.Result)if(l.Result[c]==t.result){f.ResultText[c]&&(r=a.Language.GT(f.ResultText[c]));break}i.ShowTips(r,e,o)},e.prototype.ShowTips=function(t,e,o){if(n.getInstance().prefabTipsMsg){var i=cc.director.getScene();i&&i.getChildByName("Canvas")?(console.error("ShowTips:",t),o&&o&&o(e)):o&&o(1)}else o&&o(1)},e.prototype.onLuck=function(){var t=n.getInstance();if(t.prefabLock&&!(t.luckView.length>0)){var e=cc.director.getScene();e&&e.getChildByName("Canvas")&&console.error("onLuck:")}},e.prototype.onUnluck=function(){var t=n.getInstance();t.luckView.forEach(function(t){t.removeFromParent(),t.destroy()}),t.luckView=[]},e.instance=null,n=r([g],e)}(cc.Component));n.GlobalGame=v,cc._RF.pop()},{"../libs/Language":"Language","../libs/Tools":"Tools","../net/GameNet":"GameNet","../net/GameNetEvent":"GameNetEvent","../net/Result":"Result","../net/ResultText":"ResultText","../player/myplayer":"myplayer","./GlobalEvents":"GlobalEvents"}],Language:[function(t,e,n){"use strict";cc._RF.push(e,"5b4b70KwjJI5ZFtOUAYlgnY","Language");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.Language=void 0;var a=t("../../../script/framework/log/log"),c=t("../net/GameNet"),s=t("../tools/GlobalEvents"),u=t("../tools/GlobalGame"),l=cc._decorator,f=l.ccclass,p=(l.property,function(t){function e(){var e=t.call(this)||this;return e.language=null,e.lang="en",e}var n;return i(e,t),n=e,e.getInstance=function(){return this.instance||(this.instance=new n,this.instance.init()),this.instance},e.prototype.LoadLocal=function(){var t=n.getInstance();cc.resources.load("/language/en",function(e,n){if(e)console.error(e.message||e);else{var o=n.json;t.language=o,a.tcLog.log("LoadLocal language ==>>",JSON.stringify(o))}})},e.prototype.init=function(){var t=n.getInstance(),e=c.default.getInstance().getAllQueryVariables();if(t.lang=e.language||"pt-BR",t.lang){var o=u.GlobalGame.getInstance().getBaseURL()+"resources/language/"+t.lang+".json";fetch(o).then(function(t){if(!t.ok)throw new Error("Network response was not ok");return t.json()}).then(function(e){t.language=e,s.GlobalEvents.getInstance().emit("LanguageChange")}).catch(function(e){console.error("There was a problem with the fetch operation:",e),t.LoadLocal()})}else t.LoadLocal()},e.prototype.GetText=function(t){return this.language&&null!=this.language[t]?this.language[t]:t},e.prototype.LoadLanguage=function(){},e.GT=function(t){return n.getInstance().GetText(t)},e.instance=null,n=r([f],e)}(cc.Component));n.Language=p,cc._RF.pop()},{"../../../script/framework/log/log":"log","../net/GameNet":"GameNet","../tools/GlobalEvents":"GlobalEvents","../tools/GlobalGame":"GlobalGame"}],List:[function(t,e,n){"use strict";cc._RF.push(e,"cc59fq+lPJAwpg9IU9JB0yf","List");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,u=function(){function t(t,e){this.index=0,this.node=t,this.index=e}return t.prototype.setParent=function(t){var e;null===(e=this.node)||void 0===e||e.setParent(t)},t.prototype.setPosition=function(t,e){var n;null===(n=this.node)||void 0===n||n.setPosition(t,e)},t.prototype.reset=function(){var t;null===(t=this.node)||void 0===t||t.removeFromParent(),this.index=-1},t}(),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollView=void 0,e.view=void 0,e.itemPrefab=void 0,e.content=void 0,e.spaceValue=0,e.itemSize=cc.Size.ZERO,e.itemWidth=0,e.maxItemCount=0,e.curItemStartIndex=0,e.curItemEndIndex=0,e.viewSize=cc.Size.ZERO,e.curScrollViewPos=cc.Vec2.ZERO,e.fristVisibleIndex=0,e.totalCount=0,e.startPosY=0,e.startPosX=0,e.showItems=[],e.contentSize=cc.Size.ZERO,e.contentHeight=0,e._itemDatas=[],e}return i(e,t),Object.defineProperty(e.prototype,"ItemRander",{set:function(t){this._itemRender=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Items",{set:function(t){for(var e=0;e<t;++e)this.add(1)},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.scrollView&&this.scrollView.node.on("scrolling",this.onScrolling,this),this.reset()},e.prototype.onScrolling=function(){var t,e;if(this.scrollView&&(this.curScrollViewPos=null===(t=this.scrollView)||void 0===t?void 0:t.getContentPosition(),!(this.scrollView.vertical&&(this.curScrollViewPos.y<=0||this.curScrollViewPos.y>this.contentSize.height-this.viewSize.height)||this.scrollView.horizontal&&(this.curScrollViewPos.x>=0||this.curScrollViewPos.x<-(this.contentSize.width-this.viewSize.width))||(this.scrollView.vertical?this.fristVisibleIndex=Math.floor(this.curScrollViewPos.y/(this.itemSize.height+this.spaceValue)):this.scrollView.horizontal&&(this.fristVisibleIndex=Math.floor(-this.curScrollViewPos.x/(this.itemSize.width+this.spaceValue))),this.fristVisibleIndex==this.curItemStartIndex)))){this.curItemStartIndex=this.fristVisibleIndex,this.curItemEndIndex=this.curItemStartIndex+this.maxItemCount-1;for(var n=this.showItems.length-1;n>=0;--n){var o=this.showItems[n];if(o.index<this.curItemStartIndex-1||o.index>this.curItemEndIndex){var i=this.showItems.splice(n,1);i[0]&&(null===(e=i[0])||void 0===e||e.reset(),this._itemDatas.push(i[0]))}}var r=function(t){var e=a.curItemStartIndex+t;if(e>=a.totalCount)return"break";-1==a.showItems.findIndex(function(t){return t.index==e})&&a.renderNewItem(e)},a=this;for(n=0;n<this.maxItemCount&&"break"!==r(n);++n);}},e.prototype.reset=function(){var t,e,n,o,i=this;this.curItemStartIndex=0,this.curItemEndIndex=0,this.totalCount=0,this.curScrollViewPos=cc.Vec2.ZERO,this.itemSize=(null===(t=this.itemPrefab)||void 0===t?void 0:t.getContentSize())||cc.Size.ZERO,this.startPosY=-this.itemSize.height/2,this.startPosX=this.itemSize.width/2,this.viewSize=(null===(e=this.view)||void 0===e?void 0:e.getContentSize())||cc.Size.ZERO,this.showItems.forEach(function(t){t.reset(),i._itemDatas.push(t)}),this.showItems=[],this.content.setContentSize(null===(n=this.itemPrefab)||void 0===n?void 0:n.getContentSize()),this.maxItemCount=(null===(o=this.scrollView)||void 0===o?void 0:o.vertical)?Math.ceil(this.view.getContentSize().height/this.itemSize.height)+3:Math.ceil(this.view.getContentSize().width/this.itemSize.width)+3},e.prototype.add=function(t){var e,n,o;(null===(e=this.scrollView)||void 0===e?void 0:e.vertical)?this.curItemStartIndex=Math.floor(this.curScrollViewPos.y/(this.itemSize.height+this.spaceValue)):this.curItemStartIndex=Math.floor(this.curScrollViewPos.x/(this.itemSize.width+this.spaceValue)),this.curItemEndIndex=this.curItemStartIndex+this.maxItemCount;for(var i=0;i<t;++i){var r=this.totalCount+i;(null===(n=this.scrollView)||void 0===n?void 0:n.vertical)?this.content.setContentSize(this.content.getContentSize().width,(r+1)*this.itemSize.height+r*this.spaceValue):this.content.setContentSize((r+1)*this.itemSize.width+r*this.spaceValue,this.content.getContentSize().height),r>=this.curItemStartIndex&&r<=this.curItemEndIndex&&this.renderNewItem(r)}this.totalCount+=t,this.contentSize=(null===(o=this.content)||void 0===o?void 0:o.getContentSize())||cc.Size.ZERO},e.prototype.renderNewItem=function(t){var e,n,o=this.getItem(t);(null===(e=this.scrollView)||void 0===e?void 0:e.vertical)?null==o||o.setPosition(0,this.startPosY-t*(this.itemSize.height+this.spaceValue)):null==o||o.setPosition(this.startPosX+t*(this.itemSize.width+this.spaceValue),0),null==o||o.setParent(this.content),null===(n=this.renderItem)||void 0===n||n.call(this,o),this.showItems.push(o)},e.prototype.getItem=function(t){var e=this._itemDatas.pop();if(!e&&this.itemPrefab){var n=cc.instantiate(this.itemPrefab);n.active=!0,e=new u(n,t)}return e.index=t,e},e.prototype.renderItem=function(t){this._itemRender&&t&&this._itemRender(t.node,t.index)},r([s(cc.ScrollView)],e.prototype,"scrollView",void 0),r([s(cc.Node)],e.prototype,"view",void 0),r([s(cc.Node)],e.prototype,"itemPrefab",void 0),r([s(cc.Node)],e.prototype,"content",void 0),r([s(cc.Float)],e.prototype,"spaceValue",void 0),r([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],LoginUtil:[function(t,e,n){"use strict";cc._RF.push(e,"3430aBUxjNHao/KHMEU1nch","LoginUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.newUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},t.generateUserID=function(){for(var t="",e=0;e<6;e++)t+="0123456789".charAt(Math.floor(Math.random()*"0123456789".length));return t},t}();n.default=o,cc._RF.pop()},{}],NestablePageViewInner:[function(t,e){"use strict";cc._RF.push(e,"35934gpr8dN4JtBQzfatyld","NestablePageViewInner"),cc.Class({extends:cc.PageView,properties:{m_OuterScrollView:{default:null,visible:!1}},start:function(){cc.systemEvent.emit("add-netable-scrollview-inner",this)},setOuterScrollView:function(t){this.m_OuterScrollView=t},_onTouchMoved:function(t,e){if(this.enabledInHierarchy&&!this.hasNestedViewGroup(t,e)){var n=t.touch,o=n.getLocation().sub(n.getStartLocation());if(this.content&&(this.m_OuterScrollView.isDifferentBetweenSettingAndPlan(this)||this._handleMoveLogic(n)),this.cancelInnerEvents){if(o.mag()>7&&!this._touchMoved&&t.target!==this.node){var i=new cc.Event.EventTouch(t.getTouches(),t.bubbles);i.type=cc.Node.EventType.TOUCH_CANCEL,i.touch=t.touch,i.simulate=!0,t.target.dispatchEvent(i),this._touchMoved=!0}this._stopPropagationIfTargetIsMe(t)}}}}),cc._RF.pop()},{}],NestableScrollViewInner:[function(t,e){"use strict";cc._RF.push(e,"5eecbDiTEtEwpGUq6+3GC6e","NestableScrollViewInner"),cc.Class({extends:cc.ScrollView,properties:{m_OuterScrollView:{default:null,visible:!1}},start:function(){cc.systemEvent.emit("add-netable-scrollview-inner",this)},setOuterScrollView:function(t){this.m_OuterScrollView=t},_onTouchMoved:function(t,e){if(this.enabledInHierarchy&&!this.hasNestedViewGroup(t,e)){var n=t.touch,o=n.getLocation().sub(n.getStartLocation());if(this.content&&(this.m_OuterScrollView.isDifferentBetweenSettingAndPlan(this)||this._handleMoveLogic(n)),this.cancelInnerEvents){if(o.mag()>7&&!this._touchMoved&&t.target!==this.node){var i=new cc.Event.EventTouch(t.getTouches(),t.bubbles);i.type=cc.Node.EventType.TOUCH_CANCEL,i.touch=t.touch,i.simulate=!0,t.target.dispatchEvent(i),this._touchMoved=!0}this._stopPropagationIfTargetIsMe(t)}}}}),cc._RF.pop()},{}],NestableScrollViewOuter:[function(t,e){"use strict";cc._RF.push(e,"865a11IDPxPd71eLEr0/JHr","NestableScrollViewOuter"),cc.Class({extends:cc.ScrollView,properties:{m_InnerScrollViews:[],m_PlanDir:{default:null,visible:!1},m_ScrollingInnerSv:{default:null,visible:!1}},onLoad:function(){var t=this;this.m_PlanDir=null,this.m_InnerScrollViews.forEach(function(e){e.setOuterScrollView(t)}),cc.systemEvent.on("add-netable-scrollview-inner",this.addNewInnerScrollView.bind(this),this)},addNewInnerScrollView:function(t){t&&(this.m_InnerScrollViews.push(t),t.setOuterScrollView(this))},_isHisChild:function(t,e){return t==e||null!=t.parent&&(t.parent==e||this._isHisChild(t.parent,e))},_findScrollingInnerSv:function(t){for(var e=0;e<this.m_InnerScrollViews.length;e++)if(this._isHisChild(t,this.m_InnerScrollViews[e].node))return this.m_InnerScrollViews[e];return null},isDifferentBetweenSettingAndPlan:function(t){return!(0==this.m_PlanDir||1==this.m_PlanDir&&t.horizontal||-1==this.m_PlanDir&&t.vertical)},hasNestedViewGroup:function(t){if(t.eventPhase===cc.Event.CAPTURING_PHASE)return!1},_onTouchBegan:function(t,e){if(this.enabledInHierarchy&&!this.hasNestedViewGroup(t,e)){this.m_PlanDir=null,this.m_ScrollingInnerSv=null;var n=t.touch;this.content&&this._handlePressLogic(n),this._touchMoved=!1,this._stopPropagationIfTargetIsMe(t)}},_onTouchMoved:function(t,e){if(this.enabledInHierarchy&&!this.hasNestedViewGroup(t,e)){var n=t.touch,o=n.getLocation().sub(n.getStartLocation());if(null==this.m_PlanDir&&o.mag()>7)if(this.m_ScrollingInnerSv=this._findScrollingInnerSv(t.target),null!=this.m_ScrollingInnerSv){var i=this.m_ScrollingInnerSv.content.getContentSize(),r=this.m_ScrollingInnerSv.node.getContentSize();this.m_ScrollingInnerSv.vertical&&i.height>r.height||this.m_ScrollingInnerSv.horizontal&&i.width>r.width?this.m_PlanDir=Math.abs(o.x)>Math.abs(o.y)?1:-1:this.m_PlanDir=0}else this.m_PlanDir=0;if(this.content&&(this.isDifferentBetweenSettingAndPlan(this)||this._handleMoveLogic(n)),this.cancelInnerEvents&&null==this.m_ScrollingInnerSv){if(o.mag()>7&&!this._touchMoved&&t.target!==this.node){var a=new cc.Event.EventTouch(t.getTouches(),t.bubbles);a.type=cc.Node.EventType.TOUCH_CANCEL,a.touch=t.touch,a.simulate=!0,t.target.dispatchEvent(a),this._touchMoved=!0}this._stopPropagationIfTargetIsMe(t)}}}}),cc._RF.pop()},{}],ResultText:[function(t,e,n){"use strict";cc._RF.push(e,"ee842yWXAhOxoLH4/Ren4Pz","ResultText"),Object.defineProperty(n,"__esModule",{value:!0}),n.ResultText=void 0,n.ResultText={notMoney:"Insufficient cash, please recharge"},cc._RF.pop()},{}],Result:[function(t,e,n){"use strict";cc._RF.push(e,"1037f0XyWlMGLwSeWyKReiA","Result"),Object.defineProperty(n,"__esModule",{value:!0}),n.Result=void 0,n.Result={Success:0,Fail:1,verifyPlayerFail:2,emailUsed:3,emailValid:4,invalidMail:5,playerNotFound:6,guestCanNotRecommend:7,canNotLogin:8,alreadyInGame:9,keepInGame:10,ban:11,hadGetReward:12,UnknownGame:13,canNotCreateGame:14,sqlError:30,lessMoney:31,lessCoin:32,clientRestart:33,clientUpdate:34,bindError:35,joinRoomOK:36,cfgVersionChange:37,alreadyInRoom:38,roomFull:39,slotNotFound:40,roomNotFound:41,minVersion:42,daikaiRoomFull:43,fzbTooClose:44,zjhCfgChange:50,zjhDateEnd:51,zjhCfgStop:52,roomInPlay:53,playerNotWaitStart:54,cd:55,joinActOK:60,canNotJoinActInPlay:61,joinWrongAct:62,alreadyInAct:63,actClosed:64,invalidActPos:65,invalidActRoom:66,actEnd:67,invalidReward:68,lessCount:69,notEnoughCondition:70,actNotStart:71,canNotAddSelf:80,isMemberAlready:81,memberNotFound:82,addMemberOK:83,removeMemberOK:84,membersNumLimit:85,memberofNumLimit:86,authAddPlayerExist:87,rpcErr:100,loginToMuch:101,errorState:102,serverFull:103,noRedis:120,redisError:121,noClub:122,clubsLimit:123,clubIn:124,applyLimit:125,notInClub:126,ownerCanntExitClub:127,noCreatePara:128,clubMemberLimit:129,SetFrequently:130,limitMemberInClub:131,RoomServerIsLevelUp:150,noRound:151,PhoneError:170,PhoneVerCd:171,PhoneVerError:172,VerCodeError:173,verCodeLimit:174,PhoneBeBinded:175,OldPasswdWrong:176,passError:178,needChangePwd:179,matchNotExist:200,matchStopped:201,inMatch:202,notInMatch:203,Exchanging:204,UnkownCmd:250,invalidParam:251,Frequent:252,Chwxing:261,ChwxLimit:262,ChwxOtherNotFound:263,ChwxCheckError:264,ChwxIdRandError:265,WxNotBound:266,NoIcOrIi:267,ChwxNotToSelf:268,hallClosed:400,hallNoServer:401,hallSignError:402,hallTimeOut:403,hallLoginError:404,hallCfgErr:405,hallNoGame:406,hallCoinLimit:407,hallMatching:408,hallInGame:409,hallRelieved:410,hallOverRelieve:411,hallLessMoney:412,hallSessionKeyInvalid:413,hallNotInvite:414,idLoginError:414,OSFail:420,OSDBFail:421,DBFail:999,AccountIsNull:1001,PasswdIsNull:1002,AccountNotExists:1003,PasswdFail:1004,AccountAlreadyExists:1005,gameNotStart:2e3,notMoney:2001},cc._RF.pop()},{}],SelectGameMrg:[function(t,e,n){"use strict";cc._RF.push(e,"1e8bbHAVUNHxJuF3PeUYaDm","SelectGameMrg");var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.SelectGameMrg=n.lines=void 0;var i=t("../../../bundles/update-v2/script/api/api-config"),r=t("../../../bundles/update-v2/script/api/api-tip-manage"),a=t("../../../bundles/update-v2/script/api/api_rabbit"),c=t("../../../script/event/event"),s=t("../../../script/framework/net/http"),u=(t("../net/GameNet"),cc._decorator),l=u.ccclass;u.property,n.lines={1:[0,0,0],2:[0,1,0],3:[0,1,1],4:[1,1,0],5:[1,1,1],6:[1,2,1],7:[1,2,2],8:[2,2,1],9:[2,2,2],10:[2,3,2]};var f=function(){function t(){this.preDoTime=(new Date).getTime(),this.testCount=0,this.spr=!1}var e;return e=t,t.getInstance=function(){return this.instance||(this.instance=new e),this.instance},t.prototype.spin=function(t,e,o){var u;if(r.ApiTipManage.getInstance().isTest)return Math.random(),u={screen:[{id:2},{id:4},{id:9,multi:5},{id:4},{id:4},{id:82},{id:9,multi:10},{id:9,multi:5},{id:2},{id:0},{id:9,multi:30},{id:0}],hits:[{lineId:5,win:1e4,pos:[1,5,6],symbol:4}],trigger:0,bet:3e3,balance:957200,leftTimes:-1,priseTrigger:0,rabbitWin:0,isWish:0,totalWin:5500},this.spr&&(0==this.testCount?u={screen:[{id:0},{id:9,multi:30},{id:0},{id:9,multi:10},{id:0},{id:0},{id:0},{id:0},{id:0},{id:0},{id:9,multi:10},{id:0}],trigger:1,bet:1e3,balance:1023600,leftTimes:7,priseTrigger:0,rabbitWin:0,isWish:1}:1==this.testCount?u={screen:[{id:0},{id:0},{id:0},{id:0},{id:9,multi:30},{id:9,multi:5},{id:0},{id:9,multi:20},{id:0},{id:0},{id:0},{id:0}],trigger:0,bet:1e3,balance:1023600,leftTimes:6,priseTrigger:0,rabbitWin:0,isWish:0}:2==this.testCount?u={screen:[{id:0},{id:9,multi:5},{id:9,multi:30},{id:0},{id:9,multi:5},{id:0},{id:9,multi:5},{id:0},{id:0},{id:0},{id:9,multi:10},{id:0}],trigger:0,bet:1e3,balance:1023600,leftTimes:5,priseTrigger:0,rabbitWin:0,isWish:0}:3==this.testCount?u={screen:[{id:0},{id:0},{id:9,multi:20},{id:0},{id:0},{id:0},{id:9,multi:50},{id:0},{id:0},{id:0},{id:9,multi:10},{id:0}],trigger:0,bet:1e3,balance:1023600,leftTimes:4,priseTrigger:0,rabbitWin:5500,isWish:0}:4==this.testCount?u={screen:[{id:0},{id:0},{id:0},{id:0},{id:9,multi:50},{id:0},{id:9,multi:10},{id:0},{id:9,multi:20},{id:0},{id:9,multi:20},{id:0}],trigger:0,bet:1e3,balance:1023600,leftTimes:3,priseTrigger:0,rabbitWin:95500,isWish:0}:5==this.testCount?u={screen:[{id:0},{id:9,multi:20},{id:9,multi:30},{id:0},{id:0},{id:9,multi:10},{id:0},{id:0},{id:9,multi:30},{id:0},{id:0},{id:0}],trigger:0,bet:1e3,balance:1023600,leftTimes:2,priseTrigger:0,rabbitWin:5500,isWish:0}:6==this.testCount?u={screen:[{id:0},{id:9,multi:50},{id:0},{id:0},{id:0},{id:9,multi:5},{id:9,multi:5},{id:9,multi:10},{id:9,multi:20},{id:0},{id:9,multi:10},{id:0}],trigger:0,bet:1e3,balance:1023600,leftTimes:1,priseTrigger:0,rabbitWin:5500,isWish:0}:7==this.testCount&&(u={screen:[{id:0},{id:0},{id:0},{id:0},{id:9,multi:30},{id:9,multi:50},{id:0},{id:0},{id:0},{id:0},{id:0},{id:0}],trigger:0,bet:1e3,balance:1039100,leftTimes:0,priseTrigger:0,rabbitWin:155e5,isWish:0,totalWin:955e5},this.testCount=0,this.spr=!1),this.spr&&this.testCount++),void cc.systemEvent.emit("endGame",u);var l={game_id:i.apiConfig.env.gameId,bet_size:i.apiConfig.holdInitParam.gameChip.betSize[t]/100,bet_mul:i.apiConfig.holdInitParam.gameChip.betLevels[e],token:i.apiConfig.env.token,line:10};a.apiRabbit.apiRabbitSpin(l).then(function(t){var e,o=[];t.win_info.forEach(function(t){var e={lineId:t.line,symbol:t.awards,pos:n.lines[t.line],win:10*t.win};o.push(e)}),u={screen:t.props,hits:o,trigger:1==t.type?0:1,bet:t.bet_size*t.bet_mul*100,balance:10*t.end_gold,leftTimes:null!==(e=t.frees.left_times)&&void 0!==e?e:-1,priseTrigger:t.money.length>4,rabbitWin:10*t.bonus_win,isWish:0,totalWin:10*t.total_win},cc.systemEvent.emit("endGame",u)}).catch(function(n){n.code==s.tcHttp.Code.ErrorTimeout?cc.systemEvent.emit(c.event.reqSpinFail,t,e,o):cc.systemEvent.emit(c.event.reqTipErrorOther,t,e,o)})},t.prototype.history=function(t){return new Promise(function(e){a.apiRabbit.apiRabbitHistory(t).then(function(t){for(var n=[],o=0;o<t.historyList.length;o++){var i=t.historyList[o],r={id:i.id,game_id:i.game_id,order:i.order,bet:10*i.bet,win:10*i.win,leftTimes:i.leftTimes,createTime:1e3*i.createTime,groupId:0==i.groupId?"":i.groupId,isCash:i.isCash};n.push(r)}var a={result:0,historylist:n,total:t.total,total_bet:10*t.total_bet,total_profit:10*t.total_profit};e(a)},function(){e({result:1,historylist:[]})})})},t.prototype.historyDetail=function(t){return new Promise(function(e){a.apiRabbit.apiRabbitDetail(t).then(function(t){for(var o=[],i=function(e){var i=t[e],r=(i.type,[]);i.win_info.forEach(function(t){var e={lineId:t.line,symbol:t.awards,pos:n.lines[t.line],win:10*t.win};r.push(e)});var a={createTime:1e3*i.create_time,order:i.order_no,bet:i.bet_size*i.bet_mul*100,win:10*i.profit,leftTimes:i.frees.left_times,screen:i.props,moneyAfter:10*i.end_gold,bet_size:100*i.bet_size,bet_mul:i.bet_mul};r.length>0&&(a.hits=r),o.push(a)},r=0;r<t.length;r++)i(r);e({result:0,historyDetail:o})},function(){e({result:1,historyDetail:[]})})})},e=o([l],t)}();n.SelectGameMrg=f,cc._RF.pop()},{"../../../bundles/update-v2/script/api/api-config":"api-config","../../../bundles/update-v2/script/api/api-tip-manage":"api-tip-manage","../../../bundles/update-v2/script/api/api_rabbit":"api_rabbit","../../../script/event/event":"event","../../../script/framework/net/http":"http","../net/GameNet":"GameNet"}],Tools:[function(t,e,n){"use strict";cc._RF.push(e,"54d332Ta8tJ3pF0Y/P8zzc9","Tools");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.Tools=void 0;var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.update=function(){},e.Format=function(t,e){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var o in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,String(t.getFullYear()).substr(4-RegExp.$1.length))),n)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,1===String(RegExp.$1).length?n[o]:("00"+n[o]).slice(String(n[o]).length)));return e},r([c],e)}(cc.Component));n.Tools=s,cc._RF.pop()},{}],VerifyBar:[function(t,e,n){"use strict";cc._RF.push(e,"b6d9aiatJRHxKNMHZITQX2W","VerifyBar");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.orderIdLab=null,e.box=null,e.foldedIconSpr=null,e.foldedIconList=[],e.isFolded=!0,e.foldedHeight=250,e.unfoldedHeight=495,e}return i(e,t),e.prototype.onLoad=function(){this.setIsFoled(!1)},e.prototype.setOrderID=function(t,e){this.orderID=e,this.orderIdLab.string=t},e.prototype.setIsFoled=function(t){this.isFolded=t,this.box.height=t?250:495,this.updateFoldedIcon()},e.prototype.updateFoldedIcon=function(){this.foldedIconSpr.spriteFrame=this.foldedIconList[this.isFolded?0:1]},e.prototype.onClickBox=function(){cc.Tween.stopAllByTarget(this.box),this.isFolded=!this.isFolded,this.updateFoldedIcon(),cc.tween(this.box).to(.5,{height:this.isFolded?this.foldedHeight:this.unfoldedHeight}).start()},e.prototype.onClickVerifyBtn=function(){console.info("\u8ba2\u5355id",this.orderID),window.toVerifyByOrderNo&&window.toVerifyByOrderNo(this.orderID)},r([s(cc.Label)],e.prototype,"orderIdLab",void 0),r([s(cc.Node)],e.prototype,"box",void 0),r([s(cc.Sprite)],e.prototype,"foldedIconSpr",void 0),r([s([cc.SpriteFrame])],e.prototype,"foldedIconList",void 0),r([s(cc.Button)],e.prototype,"mButton",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],WebAudioEngine:[function(t,e,n){"use strict";cc._RF.push(e,"90d1a7E/6xOeIcHOksfPS/6","WebAudioEngine"),Object.defineProperty(n,"__esModule",{value:!0}),n.WebAudioEngine=void 0;var o=t("./WebAudio"),i=function(){function t(){this.audioId=0,this.id2Audio=new Map,this.id2FinishCallback=new Map,this.mute=!1}return t.prototype.play=function(t,e,n,i,r){if(t.loadMode==cc.AudioClip.LoadMode.WEB_AUDIO){var a=t._nativeAsset.duration;if(void 0===e&&(e=0),void 0===n&&(n=a),!(e>n)){void 0===i&&(i=!1),void 0===r&&(r=1);var c=new o;return this.id2Audio.set(this.audioId,c),c.setSrc(t,e,n),c.setLoop(i),c.setVolume(r),c.mute=this.mute,c.on("ended",this.onAudioFinish.bind(this,this.audioId)),c.play(),this.audioId++}}else cc.error("\u53ea\u80fd\u7528WebAudio")},t.prototype.onAudioFinish=function(t){var e=this.id2FinishCallback.get(t);e&&(e(),this.id2FinishCallback.delete(t)),this.id2Audio.delete(t)},t.prototype.setFinishCallback=function(t,e){this.id2Audio.get(t)&&this.id2FinishCallback.set(t,e)},t.prototype.stop=function(t){var e=this.id2Audio.get(t);e&&(e.stop(),this.id2Audio.delete(t),this.id2FinishCallback.delete(t))},t.prototype.pauseAll=function(){for(var t=this.id2Audio.entries(),e=t.next();!e.done;e=t.next())e.value[1].pause()},t.prototype.resumeAll=function(){for(var t=this.id2Audio.entries(),e=t.next();!e.done;e=t.next())e.value[1].resume()},t.prototype.setVolume=function(t,e){var n=this.id2Audio.get(t);n&&n.setVolume(e)},t.prototype.setAllVolume=function(t){for(var e=this.id2Audio.entries(),n=e.next();!n.done;n=e.next())n.value[1].setVolume(t)},t.prototype.linearRampToVolume=function(t,e,n){var o=this.id2Audio.get(t);o&&o.linearRampToVolume(e,n)},t.prototype.setMute=function(t){this.mute=t;for(var e=this.id2Audio.entries(),n=e.next();!n.done;n=e.next())n.value[1].mute=t},t.prototype.getMute=function(){return this.mute},t}();n.WebAudioEngine=i;var r=new i;n.default=r,cc._RF.pop()},{"./WebAudio":"WebAudio"}],WebAudio:[function(t,e){"use strict";cc._RF.push(e,"50ef443HJZOoJorrHiFWBfJ","WebAudio");var n,o,i=!1,r=[],a=function t(e){cc.EventTarget.call(this),this._shouldRecycleOnEnded=!1,this._src=e,this._element=null,this.id=0,this._state=t.State.INITIALZING;var n=this;this._onended=function(){n._state=t.State.STOPPED,n.emit("ended")},this._onendedSecond=function(){n._unbindEnded(n._onendedSecond),n._bindEnded()}};cc.js.extend(a,cc.EventTarget),a.State={ERROR:-1,INITIALZING:0,PLAYING:1,PAUSED:2,STOPPED:3},(n=a.prototype)._bindEnded=function(t){(t=t||this._onended)._binded||(t._binded=!0,this._element.onended=t)},n._unbindEnded=function(t){(t=t||this._onended)._binded&&(t._binded=!1,this._element.onended=null)},n._onLoaded=function(t,e){this._createElement(t,e),this._state=a.State.INITIALZING,this.setVolume(1),this.setLoop(!1)},n._createElement=function(t,e){var n=this._src._nativeAsset;this._element=new c(n,this,t,e)},n.play=function(){var t=this;this._src&&this._src._ensureLoaded(function(){t._state=a.State.PLAYING,t._bindEnded(),t._element.play(),t._touchToPlay()})},n._touchToPlay=function(){if(!i){i=!0;var t="ontouchend"in window?"touchend":"mousedown";cc.game.canvas.addEventListener(t,function(){for(var t;t=r.pop();)t.audio.play(t.offset)})}},n.destroy=function(){this._element=null},n.pause=function(){if(this.getState()===a.State.PLAYING){var t=this;this._src&&this._src._ensureLoaded(function(){t._unbindEnded(),t._element.pause(),t._state=a.State.PAUSED})}},n.resume=function(){if(this.getState()===a.State.PAUSED){var t=this;this._src&&this._src._ensureLoaded(function(){t._bindEnded(),t._element.play(),t._state=a.State.PLAYING})}},n.stop=function(){var t=this;this._src&&this._src._ensureLoaded(function(){t._element.pause(),t._element.currentTime=0;for(var e=0;e<r.length;e++)if(r[e].instance===t){r.splice(e,1);break}t._unbindEnded(),t.emit("stop"),t._state=a.State.STOPPED})},n.setLoop=function(t){var e=this;this._src&&this._src._ensureLoaded(function(){e._element.loop=t})},n.getLoop=function(){return!!this._element&&this._element.loop},n.setVolume=function(t){var e=this;this._src&&this._src._ensureLoaded(function(){e._element.volume=t})},n.linearRampToVolume=function(t,e){var n=this;this._src&&this._src._ensureLoaded(function(){n._element.linearRampToVolume(t,e)})},n.getVolume=function(){return this._element?this._element.volume:1},Object.defineProperty(n,"mute",{get:function(){return!!this._element&&this._element.mute},set:function(t){var e=this;this._src&&this._src._ensureLoaded(function(){e._element.mute=t})}}),n.setCurrentTime=function(t){var e=this;this._src&&this._src._ensureLoaded(function(){e._unbindEnded(),e._bindEnded(e._onendedSecond),e._element.currentTime=t})},n.getCurrentTime=function(){return this._element?this._element.currentTime:0},n.getDuration=function(){return this._src?this._src.duration:0},n.getState=function(t){return void 0===t&&(t=!0),t&&this._forceUpdatingState(),this._state},n._forceUpdatingState=function(){var t=this._element;t&&(a.State.PLAYING===this._state&&t.paused?this._state=a.State.STOPPED:a.State.STOPPED!==this._state||t.paused||(this._state=a.State.PLAYING))},n.setSrc=function(t,e,n){if(this._unbindEnded(),t){if(t!==this._src)if(this._src=t,t.loaded)this._onLoaded(e,n);else{var o=this;t.once("load",function(){t===o._src&&o._onLoaded(e,n)})}}else this._src=null,this._element=null,this._state=a.State.INITIALZING;return t},Object.defineProperty(n,"src",{get:function(){return this._src},enumerable:!0,configurable:!0}),Object.defineProperty(n,"paused",{get:function(){return!this._element||this._element.paused},enumerable:!0,configurable:!0}),o=cc.sys.browserType===cc.sys.BROWSER_TYPE_EDGE||cc.sys.browserType===cc.sys.BROWSER_TYPE_BAIDU||cc.sys.browserType===cc.sys.BROWSER_TYPE_UC?.01:0;var c=function(t,e,n,o){this._audio=e,this._context=cc.sys.__audioSupport.context,this._buffer=t,void 0===n?(this._begin=0,this._end=this._buffer.duration):(this._begin=n,this._begin<0?this._begin=0:this._begin>this._buffer.duration&&(this._begin=this._buffer.duration),this._end=void 0===o?this._buffer.duration:o,this._end<0?this._end=this._buffer.duration:this._end>this._buffer.duration&&(this._end=this._buffer.duration),this._begin>this._end&&(this._begin=0,this._end=this._buffer.duration)),this._gainObj=this._context.createGain(),this.volume=1,this._mute=!1,this._gainObj.connect(this._context.destination),this._loop=!1,this._startTime=-1,this._currentSource=null,this.playedLength=0,this._currentTimer=null,this._endCallback=function(){this.onended&&this.onended(this)}.bind(this)};(function(t){t.play=function(t){this._currentSource&&!this.paused&&(this._currentSource.onended=null,this._currentSource.stop(0),this.playedLength=0);var e=this._context.createBufferSource();e.buffer=this._buffer,e.connect(this._gainObj),e.loop=this._loop,this._startTime=this._context.currentTime,t=t||this.playedLength,(t+=this._begin)&&(this._startTime-=t);var n,o=t;if(this._loop?(e.loopStart=this._begin,e.loopEnd=this._end,e.start?e.start(0,o):e.notoGrainOn?e.noteGrainOn(0,o):e.noteOn(0,o)):(n=this._end-o,e.start?e.start(0,o,n):e.noteGrainOn?e.noteGrainOn(0,o,n):e.noteOn(0,o,n)),this._currentSource=e,e.onended=this._endCallback,(!e.context.state||"suspended"===e.context.state)&&0===this._context.currentTime){var i=this;clearTimeout(this._currentTimer),this._currentTimer=setTimeout(function(){0===i._context.currentTime&&r.push({instance:i._audio,offset:t,audio:i})},10)}var a=cc.sys;a.os===a.OS_IOS&&a.isBrowser&&a.isMobile&&("suspended"===e.context.state&&0!==this._context.currentTime||"interrupted"===e.context.state)&&e.context.resume()},t.pause=function(){if(clearTimeout(this._currentTimer),!this.paused){this.playedLength=this._context.currentTime-this._startTime,this.playedLength%=this.duration;var t=this._currentSource;t&&(t.onended&&(t.onended._binded=!1,t.onended=null),t.stop(0)),this._currentSource=null,this._startTime=-1}},Object.defineProperty(t,"paused",{get:function(){return(!this._currentSource||!this._currentSource.loop)&&(-1===this._startTime||this._context.currentTime-this._startTime>this._end)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"loop",{get:function(){return this._loop},set:function(t){return this._currentSource&&(this._currentSource.loop=t),this._loop=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"volume",{get:function(){return this._volume},set:function(t){if(this._volume=t,!this._mute){if(this._gainObj.gain.setTargetAtTime)try{this._gainObj.gain.setTargetAtTime(t,this._context.currentTime,o)}catch(e){this._gainObj.gain.setTargetAtTime(t,this._context.currentTime,.01)}else this._gainObj.gain.value=t;cc.sys.os===cc.sys.OS_IOS&&!this.paused&&this._currentSource&&(this._currentSource.onended=null,this.pause(),this.play())}},enumerable:!0,configurable:!0}),t.linearRampToVolume=function(t,e){this._volume=t,this._mute||(this._gainObj.gain.linearRampToValueAtTime(t,this._context.currentTime+e),cc.sys.os===cc.sys.OS_IOS&&!this.paused&&this._currentSource&&(this._currentSource.onended=null,this.pause(),this.play()))},Object.defineProperty(t,"mute",{get:function(){return this._mute},set:function(t){this._mute=t,this._gainObj.gain.value=t?0:this._volume}}),Object.defineProperty(t,"currentTime",{get:function(){return this.paused?this.playedLength:(this.playedLength=this._context.currentTime-this._startTime,this.playedLength%=this.duration,this.playedLength)},set:function(t){return this.paused?this.playedLength=this._begin+t:(this.pause(),this.playedLength=this._begin+t,this.play()),t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"duration",{get:function(){return this._end-this._begin},enumerable:!0,configurable:!0})})(c.prototype),e.exports=a,cc._RF.pop()},{}],"adapter-v2":[function(t,e,n){"use strict";cc._RF.push(e,"915030qQVFDpLz5Y/+3IbNg","adapter-v2");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.AdapterV2=void 0;var a=t("../framework/log/log"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.designSize=cc.Size.ZERO,e.screenSize=cc.Size.ZERO,e.statusBarHeight=0,e}var n;return i(e,t),n=e,e.getInstance=function(){return this.instance||(this.instance=new n),this.instance},e.prototype.onLoad=function(){this.canvas=this.node.getComponent(cc.Canvas),this.nodeScreen=cc.find("screen",this.node)},e.prototype.onEnable=function(){cc.systemEvent.on("switch-orientitaion",this.switchOrientation,this)},e.prototype.onDestroy=function(){cc.systemEvent.off("switch-orientitaion",this.switchOrientation,this)},e.prototype.updateAlignment=function(){var t,e,o,i,r,c,s,u,l=cc.winSize.height,f=cc.sys.getSafeAreaRect();this.statusBarHeight=l-f.y-f.height;var p=cc.view.getFrameSize(),d=p.height/p.width;d<1440/810?(cc.view.setDesignResolutionSize(810,1440,cc.ResolutionPolicy.FIXED_HEIGHT),this.canvas.designResolution=cc.size(810,1440),this.canvas.fitHeight=!0,null===(t=this.nodeScreen)||void 0===t||t.setContentSize(810,1440-this.statusBarHeight),null===(e=this.nodeScreen)||void 0===e||e.setPosition(0,this.statusBarHeight/2*-1)):(cc.view.setDesignResolutionSize(810,810*d,cc.ResolutionPolicy.FIXED_WIDTH),this.canvas.designResolution=cc.size(810,810*d),this.canvas.fitWidth=!0,null===(o=this.nodeScreen)||void 0===o||o.setContentSize(810,810*d-this.statusBarHeight),null===(i=this.nodeScreen)||void 0===i||i.setPosition(0,this.statusBarHeight/2*-1)),this.designSize.width=this.canvas.designResolution.width,this.designSize.height=this.canvas.designResolution.height,this.screenSize.width=null!==(c=null===(r=this.nodeScreen)||void 0===r?void 0:r.getContentSize().width)&&void 0!==c?c:0,this.screenSize.height=null!==(u=null===(s=this.nodeScreen)||void 0===s?void 0:s.getContentSize().height)&&void 0!==u?u:0,a.tcLog.log("size:",p,"   screenHeight:",l),n.getInstance().winSizeWidth=p.width,n.getInstance().winSizeHeight=p.height},e.prototype.switchOrientation=function(t){var e,o,i,r,c,s,u;2===t?(cc.view.setDesignResolutionSize(this.designSize.width,this.designSize.height,cc.ResolutionPolicy.FIXED_WIDTH),this.canvas.designResolution=cc.size(this.designSize.width,this.designSize.height),this.canvas.fitWidth=!0,cc.sys.isNative?(null===(e=this.nodeScreen)||void 0===e||e.setContentSize(this.screenSize.width,this.screenSize.height),null===(o=this.nodeScreen)||void 0===o||o.setPosition(0,this.statusBarHeight/2*-1)):(null===(i=this.nodeScreen)||void 0===i||i.setContentSize(this.screenSize.width,this.screenSize.height),n.getInstance().rootCanvasWidth=this.screenSize.width,n.getInstance().rootCanvasHeight=this.screenSize.height)):(cc.view.setDesignResolutionSize(this.designSize.height,this.designSize.width,cc.ResolutionPolicy.FIXED_HEIGHT),this.canvas.designResolution=cc.size(this.designSize.height,this.designSize.width),this.canvas.fitHeight=!0,null===(r=this.nodeScreen)||void 0===r||r.setContentSize(this.screenSize.height,this.screenSize.width),cc.sys.isNative?(null===(c=this.nodeScreen)||void 0===c||c.setContentSize(this.screenSize.height,this.screenSize.width),null===(s=this.nodeScreen)||void 0===s||s.setPosition(this.statusBarHeight/2,0)):(null===(u=this.nodeScreen)||void 0===u||u.setContentSize(this.screenSize.height,this.screenSize.width),n.getInstance().rootCanvasWidth=this.screenSize.height,n.getInstance().rootCanvasHeight=this.screenSize.width)),a.tcLog.log("viewWidth:",n.getInstance().rootCanvasWidth,"   viewHeight:",n.getInstance().rootCanvasHeight)},n=r([s],e)}(cc.Component));n.AdapterV2=u,cc._RF.pop()},{"../framework/log/log":"log"}],"api-config":[function(t,e,n){"use strict";cc._RF.push(e,"bdd437jL6hFgIk4vpDU9ElR","api-config"),Object.defineProperty(n,"__esModule",{value:!0}),n.gameData=n.apiConfig=void 0;var o={getAwayUrl:"http://192.168.1.130:8090",getAwayUrl_dev:"http://192.168.1.130:8090",resUrl:"",apiUrl:"",token:"",gameId:2,ws:"",userId:0,cashierUrl:"",language:"pt",lobbyUrl:"",welfareAmount:"",welfareType:0};(function(t){t.env=o,t.holdInitParam={},t.isHistoryFromHtml=!1})(n.apiConfig||(n.apiConfig={})),n.gameData={betSizes:[0],betLevels:[0],betLines:0,betTotalsForQuickBtn:[0]},cc._RF.pop()},{}],"api-game-logic":[function(t,e,n){"use strict";cc._RF.push(e,"40f3b6yFN5KSI3uGh06YU2x","api-game-logic");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.ApiGameLogic=void 0;var r=t("../../../../script/app/env"),a=t("../../../../script/cron/cron-balance"),c=t("../../../../script/framework/log/log"),s=t("../../../../script/config/config"),u=t("../../../../script/loading/gameLoadingHelper"),l=t("../../../../script/framework/res/res"),f=t("../../../../script/framework/storage/storage"),p=t("../../../../script/framework/audio/audio"),d=function(){function t(){this.curGameId=0,this.isDemoMode=!1,this.gameNodeCaches=new Map,this.loadProgressInterval=-1,this.loadProgress=0,this.frameSize=cc.view.getFrameSize(),this.isopen=!1,this.bindEvent()}return t.prototype.bindEvent=function(){cc.view.setResizeCallback(this.onViewResize.bind(this))},t.prototype.loadNativeGame=function(t,e){this._gameData=t,2===t.orientation?(cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT),cc.view.setFrameSize(this.frameSize.width,this.frameSize.height),cc.view.emit("canvas-resize"),cc.systemEvent.emit("switch-orientitaion",2)):1===t.orientation?(cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE),cc.view.setFrameSize(this.frameSize.height,this.frameSize.width),cc.view.emit("canvas-resize"),cc.systemEvent.emit("switch-orientitaion",1)):(cc.view.setOrientation(cc.macro.ORIENTATION_AUTO),cc.view.setFrameSize(this.frameSize.width,this.frameSize.height),cc.view.emit("canvas-resize")),this.startGame(t.nativeId,t.gameId,e)},t.prototype.startGame=function(t,e,n){c.tcLog.debug("start game , nativeId:"+t+" isDemoMode:"+n),this.curGameId=t,this.isDemoMode=null!=n&&n,this.loadGame()},t.prototype.loadPGGameResprefab=function(t){var e=this;c.tcLog.log("load loadPGGameResprefab dir"),t.loadDir("prefab",function(t,n){var o=t/n;e.loadProgress=.5+.1*o,u.GameLoadingHelper.updateLoadProgress(e.loadProgress),window.updateProgress&&window.updateProgress(e.loadProgress,3)},function(t){t?c.tcLog.log(t):l.tcRes.loadBundle("fortuneRabbit").then(function(t){e.loadprefab(t)}).catch(function(){})})},t.prototype.loadprefab=function(t){var e=this;c.tcLog.log("load prefab dir"),t.loadDir("prefab",function(t,n){var o=t/n;e.loadProgress=.6+.2*o,u.GameLoadingHelper.updateLoadProgress(e.loadProgress),window.updateProgress&&window.updateProgress(e.loadProgress,3)},function(n){n&&c.tcLog.log(n),e.loadSound(t)})},t.prototype.loadSound=function(t){var e=this;c.tcLog.log("load sound dir"),t.loadDir("sound",function(t,n){var o=t/n;e.loadProgress=.8+.1*o,c.tcLog.log("load sound dir:",e.loadProgress),u.GameLoadingHelper.updateLoadProgress(e.loadProgress),window.updateProgress&&window.updateProgress(e.loadProgress,3)},function(t){t&&c.tcLog.log(t),e.onGameLoaded()})},t.prototype.onGameLoaded=function(){return o(this,void 0,void 0,function(){var t,e,n,o,r=this;return i(this,function(i){switch(i.label){case 0:if(t=this.getCurGameBundleName(),e=this.gameNodeCaches.get(this.curGameId),Date.now(),e)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),this.clearLoadProgressInterval(),[4,l.tcRes.load(""+t,cc.Prefab,"prefab/table",function(){c.tcLog.log("load prefab/table :",r.loadProgress)})];case 2:return n=i.sent(),Date.now(),e=n,this.gameNodeCaches.set(this.curGameId,n),[3,4];case 3:return o=i.sent(),c.tcLog.error("load tips err: "+o.message),[2];case 4:return this.curTableNode?(u.GameLoadingHelper.closeLoading(),[2]):(c.tcLog.log("instantiate table_0"+t),this.curTableNode=cc.instantiate(e),c.tcLog.log("instantiate table_1"+t),this.curTableNode.name="table_"+t,this.curTableNode.setParent(s.config.uiNode.dialog),cc.audioEngine.stopMusic(),this.clearLoadProgressInterval(),this.loadProgressInterval=window.setInterval(function(){if(r.loadProgress>.99)return r.loadProgress=.99,void r.clearLoadProgressInterval();r.loadProgress+=5e-4,window.updateProgress&&window.updateProgress(r.loadProgress,3)},100),[2])}})})},t.prototype.loadGame=function(){return o(this,void 0,void 0,function(){var t,e=this;return i(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),this.loadProgress=.5,c.tcLog.info("try  loadGame"),"off"===f.tcStorage.readAny(f.tcStorage.Keys.SoundSwitch)?(p.uAudio.getInstance().setEffectVolume(0),p.uAudio.getInstance().setMusicVolume(0)):(p.uAudio.getInstance().setEffectVolume(1),p.uAudio.getInstance().setMusicVolume(1),f.tcStorage.save(f.tcStorage.Keys.SoundSwitch,"on")),a.cronBalance.stop(),this.getGameLoadingViewData(this.curGameId),window.switchToLandscape&&window.switchToLandscape(),this.clearLoadProgressInterval(),this.loadProgressInterval=window.setInterval(function(){window.updateProgress&&window.updateProgress(e.loadProgress,0),e.loadProgress>=.6?e.clearLoadProgressInterval():(e.loadProgress+=.01,u.GameLoadingHelper.updateLoadProgress(e.loadProgress),window.updateProgress&&window.updateProgress(e.loadProgress,0))},100),[4,l.tcRes.loadBundle("gameCommon")];case 1:return n.sent(),[4,l.tcRes.loadBundle("PGGameRes").then(function(t){e.loadPGGameResprefab(t)})];case 2:return n.sent(),c.tcLog.log("loadBundle over"),[3,4];case 3:return t=n.sent(),c.tcLog.error("gameLogic.loadGame, "+t.message),this.clearLoadProgressInterval(),[3,4];case 4:return[2]}})})},t.prototype.clearLoadProgressInterval=function(){this.loadProgressInterval>-1&&(window.clearInterval(this.loadProgressInterval),this.loadProgressInterval=-1)},t.prototype.getCurGameBundleName=function(){return r.env.device.platform===r.env.PlatformType.Native?jsb.fileUtils.getWritablePath()+"remote-assets/assets/fortuneRabbit":"fortuneRabbit"},t.prototype.onViewResize=function(){if(r.env.device.platform==r.env.PlatformType.H5&&0==r.env.curGameData.data.orientation){var t=s.gameHelper.bPortrait();cc.systemEvent.emit("switch-orientitaion",t?2:1)}},t.prototype.getGameLoadingViewData=function(t){return s.gameHelper.bPGGame(t)?u.gameLoadType.GAME_ICON_ANI:r.env.curGameData.data.tags.indexOf(2)>=0?u.gameLoadType.GAME_PROGROGRESS_BTNOK:u.gameLoadType.GAME_PROGROGRESS},t.prototype.addGameMask=function(){return o(this,void 0,void 0,function(){var t,e,n;return i(this,function(o){switch(o.label){case 0:if(!this.curTableNode)return[2];(t=this.curTableNode.getComponent(cc.Sprite))||(t=this.curTableNode.addComponent(cc.Sprite)),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,l.tcRes.load("gameCommon",cc.SpriteFrame,"sprites/default_sprite_splash")];case 2:return e=o.sent(),t.spriteFrame=e,this.curTableNode.color=cc.Color.BLACK,[3,4];case 3:return n=o.sent(),c.tcLog.error("gameLogic.addGameMask error:"+n.message),[3,4];case 4:return[2]}})})},t}();n.ApiGameLogic=d,cc._RF.pop()},{"../../../../script/app/env":"env","../../../../script/config/config":"config","../../../../script/cron/cron-balance":"cron-balance","../../../../script/framework/audio/audio":"audio","../../../../script/framework/log/log":"log","../../../../script/framework/res/res":"res","../../../../script/framework/storage/storage":"storage","../../../../script/loading/gameLoadingHelper":"gameLoadingHelper"}],"api-logic":[function(t,e,n){"use strict";cc._RF.push(e,"573a8pT8eJJD5mSgyt4qJnx","api-logic");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.apiLogic=void 0;var r=t("../../../../script/app/env"),a=t("../../../../script/config/cmd"),c=t("./api-config"),s=t("./api-game-logic"),u=t("../../../../script/framework/i18n/i18n"),l=t("../../../../ApiTemplate/script/net/logger"),f=t("../../../../script/pkg/currency"),p=t("./api-tip-manage"),d=t("../../../../script/framework/log/log"),h=t("./api_rabbit"),g=function(){function t(){this.gamelogic=new s.ApiGameLogic;var t=this.processUrl(),e=this;window.updateProgress&&window.updateProgress(.5,1),h.apiRabbit.apiRabbitInitRoom(t).then(function(t){e.initSuccessProcess(t)},function(t){e.initFailProcess(t)})}return t.prototype.loginSuccess=function(){return o(this,void 0,void 0,function(){var t;return i(this,function(e){switch(e.label){case 0:return r.env.device.platform=r.env.PlatformType.H5,t=2,r.env.curGameData.data={tags:[2],orientation:t,nativeId:c.apiConfig.env.gameId},r.env.application.curLocaton=1,[4,u.tcI18n.switchLanguage(c.apiConfig.env.language)];case 1:return e.sent(),this.gamelogic.loadNativeGame({nativeId:c.apiConfig.env.gameId,orientation:t,gameId:c.apiConfig.env.gameId},!0),[2]}})})},t.prototype.processUrl=function(){var t,e,n,o,i=new URLSearchParams(window.location.search),r=null!==(t=i.get("game_id"))&&void 0!==t?t:a.cmd.SERVER_TYPE_FORTUNE_RABBIT,s=null!==(e=i.get("token"))&&void 0!==e?e:"";c.apiConfig.env.gameId=Number(r),c.apiConfig.env.token=s,c.apiConfig.env.language=null!==(n=i.get("language"))&&void 0!==n?n:"pt",u.tcI18n.isOfType(c.apiConfig.env.language)||(c.apiConfig.env.language="pt");var l=null!==(o=i.get("currency"))&&void 0!==o?o:"BRL";return{token:null!=s?s:"",game_id:null!=r?r:a.cmd.SERVER_TYPE_FORTUNE_RABBIT,currency:l}},t.prototype.initSuccessProcess=function(t){var e;window.updateProgress&&window.updateProgress(.5,2),d.tcLog.info("=====\u300a\u300a\u300a\u300a\u300a\u300a\u300a\u300a\u300a initSuccess params = ",t),cc.director.emit("hide-splash-image"),cc.debug.setDisplayStats(!1),l.default.enableLogger(!1),c.apiConfig.holdInitParam=t,c.apiConfig.env.userId=t.user_id;for(var n=t.gameChip,o=0;o<n.betSize.length;o++)n.betSize[o]=n.betSize[o]*n.currencyMultiple;for(o=0;o<n.betAmount.length;o++)n.betAmount[o]=n.betAmount[o]*n.currencyMultiple;for(o=0;o<n.quickAmount.length;o++)n.quickAmount[o]=n.quickAmount[o]*n.currencyMultiple;c.gameData.betTotalsForQuickBtn.length=0,(e=c.gameData.betTotalsForQuickBtn).push.apply(e,n.quickAmount),c.gameData.betSizes=n.betSize,c.gameData.betLines=n.lines,c.gameData.betLevels=n.betLevels,l.default.purple("language:",c.apiConfig.env.language,"  moneySymbol:",f.currency.getCurrency()),this.loginSuccess()},t.prototype.initFailProcess=function(){p.ApiTipManage.getInstance().onInitFail()},t}();n.apiLogic=g,cc._RF.pop()},{"../../../../ApiTemplate/script/net/logger":"logger","../../../../script/app/env":"env","../../../../script/config/cmd":"cmd","../../../../script/framework/i18n/i18n":"i18n","../../../../script/framework/log/log":"log","../../../../script/pkg/currency":"currency","./api-config":"api-config","./api-game-logic":"api-game-logic","./api-tip-manage":"api-tip-manage","./api_rabbit":"api_rabbit"}],"api-tip-manage":[function(t,e,n){"use strict";cc._RF.push(e,"cc3a1tQauBKUICv07kyd5DO","api-tip-manage");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.ApiTipManage=void 0;var r=t("../../../../script/framework/i18n/i18n"),a=t("./api-tips-error"),c=t("../../../../script/config/config"),s=t("../../../../script/event/event"),u=t("./api-tips"),l=t("./Api-tip-cont"),f=t("../../../../ApiTemplate/script/tools/GlobalEvents"),p=t("../../../../script/framework/log/log"),d=function(){function t(){this.isTest=!1,this.reqErrorOtherShowing=!1,this.cantNotConnectShowing=!1,this.trySetTime=0,this.getEncodeConfirmShowing=!1,this.getServerConfirmShowing=!1,cc.systemEvent.on(s.event.getServerConfirm,this.onGetServerConfirm,this),cc.systemEvent.on(s.event.banlanceNoEnough,this.banlanceNoEnough,this),cc.systemEvent.on(s.event.reqTipTryconnect,this.onTryConnectConfirm,this),cc.systemEvent.on(s.event.reqTipTryFail,this.onCantNotConnect,this),cc.systemEvent.on(s.event.reqTipErrorOther,this.onReqErrorOther,this),cc.systemEvent.on(s.event.reqTipGetGatewayConfirm,this.onGetGatewayConfirm,this)}return t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t.prototype.onReqErrorOther=function(){this.reqErrorOtherShowing||(this.reqErrorOtherShowing=!0,a.ApiTipError.show({title:r.tcI18n.i18nLabel("General.ErrorTransactionFailed"),content:r.tcI18n.i18nLabel("ErrorLib.AuthenticationErrorMessage"),error:"("+r.tcI18n.i18nLabel("ErrorLib.ErrorCodeLabel")+" S1305ZTXJMN15)",confirmText:r.tcI18n.i18nLabel("General.DialogRetry"),closeText:r.tcI18n.i18nLabel("SettingMenu.SettingQuitWord"),unique:!0,iparent:c.config.uiNode.tips,onConfirm:function(){window.location.reload()},onClose:function(){}}))},t.prototype.onCantNotConnect=function(t,e,n){var o=this;this.cantNotConnectShowing||(this.cantNotConnectShowing=!0,a.ApiTipError.show({title:r.tcI18n.i18nLabel("General.ErrorTransactionFailed"),content:r.tcI18n.i18nLabel("ErrorLib.NetworkErrorMessage"),error:"("+r.tcI18n.i18nLabel("ErrorLib.ErrorCodeLabel")+" N1000NSFJWM31)",confirmText:r.tcI18n.i18nLabel("General.DialogRetry"),closeText:r.tcI18n.i18nLabel("SettingMenu.SettingQuitWord"),unique:!0,iparent:c.config.uiNode.tips,onConfirm:function(){cc.systemEvent.emit(s.event.reqSpinFail,t,e,n),o.cantNotConnectShowing=!1},onClose:function(){o.cantNotConnectShowing=!1}}))},t.prototype.onTryConnectConfirm=function(e){void 0===e&&(e=0),l.ApiTipCont.show({content:r.tcI18n.i18nLabel("General.RetryNetwork")+r.tcI18n.i18nLabel("RetryHandler.Times",e)}),t.getInstance().trySetTime=window.setTimeout(function(){p.tcLog.log(" tips clear "),c.config.uiNode.tips.children.forEach(function(t){t&&"ApiTipContController"==t.name&&(f.GlobalEvents.getInstance().unluck(),t.destroy())})},2e3)},t.prototype.onGetGatewayConfirm=function(t){var e=this;void 0===t&&(t="S3202CNRUVY09"),this.getEncodeConfirmShowing||(this.getEncodeConfirmShowing=!0,a.ApiTipError.show({title:r.tcI18n.i18nLabel("General.ErrorTransactionFailed"),content:r.tcI18n.i18nLabel("ErrorLib.NetworkErrorMessage"),error:"("+r.tcI18n.i18nLabel("ErrorLib.ErrorCodeLabel")+"  "+t+")",confirmText:r.tcI18n.i18nLabel("General.DialogRetry"),closeText:r.tcI18n.i18nLabel("SettingMenu.SettingQuitWord"),unique:!0,iparent:c.config.uiNode.loading,onConfirm:function(){e.getEncodeConfirmShowing=!1,window.location.reload()},onClose:function(){e.getEncodeConfirmShowing=!1}}))},t.prototype.onGetServerConfirm=function(t){return o(this,void 0,void 0,function(){var e=this;return i(this,function(){return this.getServerConfirmShowing,this.getServerConfirmShowing=!0,u.ApiTips.show({content:r.tcI18n.i18nLabel("MachineTranslation.get_failed"),single:t,onConfirm:function(){e.getServerConfirmShowing=!1,u.ApiTips.Idestroy(),cc.systemEvent.emit(s.event.getencode)}}),[2]})})},t.prototype.banlanceNoEnough=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return a.ApiTipError.show({title:r.tcI18n.i18nLabel("General.ErrorTransactionFailed"),content:r.tcI18n.i18nLabel("ErrorLib.InsufficientFundMessage"),error:"("+r.tcI18n.i18nLabel("ErrorLib.ErrorCodeLabel")+" S3202BPNAMG10)",singleBtnText:r.tcI18n.i18nLabel("General.DialogOk"),onSingle:function(){a.ApiTipError.Idestroy(),t&&t()}}),console.log("cl ===== "),[2]})})},t.prototype.onInitFail=function(){this.getEncodeConfirmShowing||(this.getEncodeConfirmShowing=!0,a.ApiTipError.show({title:r.tcI18n.i18nLabel("General.ErrorTransactionFailed"),content:r.tcI18n.i18nLabel("ErrorLib.NetworkErrorMessage"),error:"("+r.tcI18n.i18nLabel("ErrorLib.ErrorCodeLabel")+" S3202BPNAMG10)",confirmText:r.tcI18n.i18nLabel("General.DialogRetry"),closeText:r.tcI18n.i18nLabel("SettingMenu.SettingQuitWord"),unique:!0,iparent:c.config.uiNode.loading,onConfirm:function(){window.location.reload()},onClose:function(){window.location.reload()}}))},t.instance=null,t}();n.ApiTipManage=d,cc._RF.pop()},{"../../../../ApiTemplate/script/tools/GlobalEvents":"GlobalEvents","../../../../script/config/config":"config","../../../../script/event/event":"event","../../../../script/framework/i18n/i18n":"i18n","../../../../script/framework/log/log":"log","./Api-tip-cont":"Api-tip-cont","./api-tips":"api-tips","./api-tips-error":"api-tips-error"}],"api-tips-error":[function(t,e,n){"use strict";cc._RF.push(e,"991b7Rd/PVBZp4HEy6UEp2e","api-tips-error");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.ApiTipError=void 0;var s=t("../../../../script/config/config"),u=t("../../../../script/framework/audio/audio"),l=t("../../../../script/framework/i18n/i18n"),f=t("../../../../script/framework/log/log"),p=t("../../../../script/framework/res/res"),d=t("../../../../script/pkg/creator"),h=cc._decorator,g=h.ccclass,v=(h.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.ndBody=cc.find("body"),this.lblTitle=cc.find("body/layout/lab_title",this.node).getComponent(cc.Label),this.lblContent=cc.find("body/layout/lab_content",this.node).getComponent(cc.Label),this.lblCode=cc.find("body/layout/lab_code",this.node).getComponent(cc.Label),this.btnConfirm=cc.find("body/layout/buttons/confirm",this.node).getComponent(cc.Button),this.lblConfirm=cc.find("body/layout/buttons/confirm/New Label",this.node).getComponent(cc.Label),this.btnClose=cc.find("body/layout/buttons/close",this.node).getComponent(cc.Button),this.lblClose=cc.find("body/layout/buttons/close/New Label",this.node).getComponent(cc.Label),this.singleCfm=cc.find("body/layout/buttons/singleCfm",this.node).getComponent(cc.Button),this.lblsingleCfm=cc.find("body/layout/buttons/singleCfm/New Label",this.node).getComponent(cc.Label),d.creatorUtils.moveIn(this.ndBody,function(){})},e.prototype.start=function(){var t,e,n;null===(t=this.btnConfirm)||void 0===t||t.node.on("click",this.onClickBtnConfirm,this),null===(e=this.btnClose)||void 0===e||e.node.on("click",this.onClickBtnClose,this),null===(n=this.singleCfm)||void 0===n||n.node.on("click",this.onClickBtnSingle,this)},e.prototype.onClickBtnConfirm=function(){this.btnConfirmCallback&&this.btnConfirmCallback(),this.close()},e.prototype.onClickBtnClose=function(){this.btnCancelCallback&&this.btnCancelCallback(),this.close()},e.prototype.onClickBtnSingle=function(){this.btnSingleCallback&&this.btnSingleCallback(),this.close()},e.prototype.close=function(){f.tcLog.info("ApiTipErrorView close"),this.node.destroy(),u.uAudio.getInstance().playEffect(u.AudioClipName.CLICKBTN)},e.prototype.setSingleMode=function(){this.btnConfirm.node.active=!0,this.btnConfirm.node.x=0},e.prototype.setTitleText=function(t){this.lblTitle.string=t},e.prototype.setContent=function(t){this.lblContent.string=t},e.prototype.setCodeText=function(t){this.lblCode.string=t},e.prototype.setConfirmText=function(t){this.lblConfirm&&(this.btnConfirm.node.active=!0,this.lblConfirm.string=t)},e.prototype.setCloseText=function(t){this.lblClose&&(this.btnClose.node.active=!0,this.lblClose.string=t)},e.prototype.setSingleText=function(t){this.singleCfm.node.active=!0,this.lblsingleCfm.string=t},e.prototype.bindConfirmEvent=function(t){this.btnConfirmCallback=t},e.prototype.bindCloseEvent=function(t){this.btnCancelCallback=t},e.prototype.bindSingleBtnEvent=function(t){this.btnSingleCallback=t},e.prototype.setIsSingle=function(t){this.singleCfm.node.active=t,this.btnConfirm.node.active=!t,this.btnClose.node.active=!t},r([g],e)}(cc.Component));n.default=v,function(t){var e,n="ApiTipsController";t.Idestroy=function(){s.config.uiNode.tips.children.forEach(function(t){t.destroy()})},t.show=function(t){if(t.iparent||(t.iparent=s.config.uiNode.tips),t.unique){var o=!1;if(t.iparent.children.forEach(function(t){t.name===n?t.destroy():t.name===n+"-unique"&&(o=!0)}),o)return}a(this,void 0,void 0,function(){var o,i,r,a;return c(this,function(c){switch(c.label){case 0:if(e)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,p.tcRes.load("tip-v2",cc.Prefab,"prefab/tips_code")];case 2:return o=c.sent(),e=o,[3,4];case 3:return i=c.sent(),f.tcLog.error("load tips err: "+i.message),[2];case 4:return(r=cc.instantiate(e)).name=n,t.unique?r.name=n+"-unique":r.name=n,t.iparent||(t.iparent=s.config.uiNode.tips),r.setParent(t.iparent),r.setPosition(0,0),a=r.addComponent(v),t.error&&a.setCodeText(t.error),t.content&&a.setContent(t.content),t.title?a.setTitleText(t.title):a.setTitleText(l.tcI18n.i18nLabel("tips_tips")),t.confirmText&&a.setConfirmText(t.confirmText),t.onConfirm&&a.bindConfirmEvent(t.onConfirm),t.closeText&&a.setCloseText(t.closeText),t.onClose&&a.bindCloseEvent(t.onClose),t.singleBtnText&&a.setSingleText(t.singleBtnText),t.onSingle&&a.bindSingleBtnEvent(t.onSingle),d.creatorUtils.moveIn(a.node.getChildByName("body")),[2]}})})}}(n.ApiTipError||(n.ApiTipError={})),cc._RF.pop()},{"../../../../script/config/config":"config","../../../../script/framework/audio/audio":"audio","../../../../script/framework/i18n/i18n":"i18n","../../../../script/framework/log/log":"log","../../../../script/framework/res/res":"res","../../../../script/pkg/creator":"creator"}],"api-tips":[function(t,e,n){"use strict";cc._RF.push(e,"40c25qvP7BEXrKYTcOoBw8/","api-tips");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.ApiTips=void 0;var s=t("../../../../script/config/config"),u=t("../../../../script/framework/audio/audio"),l=t("../../../../script/framework/i18n/i18n"),f=t("../../../../script/framework/log/log"),p=t("../../../../script/framework/res/res"),d=t("../../../../script/pkg/creator"),h=t("./api-config"),g=cc._decorator,v=g.ccclass,m=(g.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.ndBody=cc.find("body"),this.btnConfirm=cc.find("body/confirm",this.node).getComponent(cc.Button),this.btnConfirm=cc.find("body/confirm",this.node).getComponent(cc.Button),this.lblConfirm=cc.find("body/confirm/New Label",this.node).getComponent(cc.Label),this.btnCancel=cc.find("body/cancel",this.node).getComponent(cc.Button),this.lblCancel=cc.find("body/cancel/New Label",this.node).getComponent(cc.Label),this.lblTitle=cc.find("body/lab_title",this.node).getComponent(cc.Label),this.lblContent=cc.find("body/lab_content",this.node).getComponent(cc.Label),d.creatorUtils.moveIn(this.ndBody,function(){})},e.prototype.start=function(){var t,e;null===(t=this.btnConfirm)||void 0===t||t.node.on("click",this.close,this),null===(e=this.btnCancel)||void 0===e||e.node.on("click",this.close,this)},e.prototype.close=function(){this.node.destroy(),u.uAudio.getInstance().playEffect(u.AudioClipName.CLICKBTN)},e.prototype.setSingleMode=function(){this.btnCancel.node.active=!1,this.btnConfirm.node.active=!0,this.btnConfirm.node.x=0},e.prototype.setTitleText=function(t){this.lblTitle.string=t},e.prototype.setContent=function(t){this.lblContent.string=t},e.prototype.setConfirmText=function(t){this.lblConfirm&&(this.lblConfirm.string=t)},e.prototype.setCancelText=function(t){this.lblCancel&&(this.lblCancel.string=t)},e.prototype.bindConfirmEvent=function(t){var e;null===(e=this.btnConfirm)||void 0===e||e.node.on("click",t,this)},e.prototype.bindCancelEvent=function(t){var e;null===(e=this.btnCancel)||void 0===e||e.node.on("click",t,this)},r([v],e)}(cc.Component));n.default=m,function(t){var e,n="ApiTipsController";t.Idestroy=function(){s.config.uiNode.tips.children.forEach(function(t){t.destroy()})},t.show=function(t){if(t.unique){var o=!1;if(s.config.uiNode.tips.children.forEach(function(t){t.name===n?t.destroy():t.name===n+"-unique"&&(o=!0)}),o)return}a(this,void 0,void 0,function(){var o,i,r,a;return c(this,function(c){switch(c.label){case 0:if(e)return[3,5];c.label=1;case 1:return c.trys.push([1,4,,5]),[4,l.tcI18n.switchLanguage(h.apiConfig.env.language)];case 2:return c.sent(),[4,p.tcRes.load("tip-v2",cc.Prefab,"prefab/tips")];case 3:return o=c.sent(),e=o,[3,5];case 4:return i=c.sent(),f.tcLog.error("load tips err: "+i.message),[2];case 5:return(r=cc.instantiate(e)).name=n,t.unique?r.name=n+"-unique":r.name=n,r.setParent(s.config.uiNode.tips),r.setPosition(0,0),(a=r.addComponent(m)).setContent(t.content),t.title?a.setTitleText(t.title):a.setTitleText(l.tcI18n.i18nLabel("tips_tips")),t.confirmText&&a.setConfirmText(t.confirmText),t.cancelText&&a.setCancelText(t.cancelText),a.bindConfirmEvent(t.onConfirm),t.single?a.setSingleMode():t.onCancel&&a.bindCancelEvent(t.onCancel),d.creatorUtils.moveIn(a.node.getChildByName("body")),[2]}})})}}(n.ApiTips||(n.ApiTips={})),cc._RF.pop()},{"../../../../script/config/config":"config","../../../../script/framework/audio/audio":"audio","../../../../script/framework/i18n/i18n":"i18n","../../../../script/framework/log/log":"log","../../../../script/framework/res/res":"res","../../../../script/pkg/creator":"creator","./api-config":"api-config"}],api_rabbit:[function(t,e,n){"use strict";cc._RF.push(e,"71e84l33qBGTIuygMNgc35f","api_rabbit");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.apiRabbit=void 0;var r=t("js-base64"),a=t("../../../../script/framework/net/http"),c=t("./api-config"),s=cc._decorator;s.ccclass,s.property,function(t){var e=new Map,n=c.apiConfig.env.getAwayUrl,s="",u=!1;function l(t){if(!u)return t;var e=t.split("/v1");return 2!==e.length?t:r.Base64.encode(e[0]+"/v1"+s).replace("+","-").replace("/","_")+"/"+r.Base64.encode(""+e[1]+s).replace("+","-").replace("/","_")}function f(t,r,c){return o(this,void 0,Promise,function(){return i(this,function(){return[2,a.tcHttp.post(n+"/"+l(t),r,e,c)]})})}t.addHeader=function(t,n){e.set(t,n)},t.addAuthorization=function(t){e.set("Authorization",t)},t.resetHeader=function(){e.clear()},t.setUrlKey=function(t){s=t},t.setRouterEncryptMode=function(t){u=t},t.setBaseUrl=function(t){n=t},t.spliceUrl=function(t){var e=n.endsWith("/"),o=t.startsWith("/");return e&&o?""+n+t.slice(1):n+"/"+t},t.abort=function(t){a.tcHttp.abort(t)},t.apiRabbitInitRoom=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("api/rabbit/init_room",t)]})})},t.apiRabbitSpin=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("api/rabbit/spin",t)]})})},t.apiRabbitHistory=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("api/rabbit/history",t)]})})},t.apiRabbitDetail=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("api/rabbit/detail",t)]})})}}(n.apiRabbit||(n.apiRabbit={})),cc._RF.pop()},{"../../../../script/framework/net/http":"http","./api-config":"api-config","js-base64":5}],api:[function(t,e,n){"use strict";cc._RF.push(e,"0a5066BUYVGf5z5jNR43Pgy","api");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.api=void 0;var r=t("js-base64"),a=t("../framework/net/http");(function(t){var e=new Map,n="",c="",s=!1;function u(t){if(!s)return t;var e=t.split("/v1");return 2!==e.length?t:r.Base64.encode(e[0]+"/v1"+c).replace("+","-").replace("/","_")+"/"+r.Base64.encode(""+e[1]+c).replace("+","-").replace("/","_")}function l(t,r,c){return o(this,void 0,Promise,function(){return i(this,function(){return[2,a.tcHttp.get(n+"/"+u(t),r,e,c)]})})}function f(t,r,c){return o(this,void 0,Promise,function(){return i(this,function(){return[2,a.tcHttp.post(n+"/"+u(t),r,e,c)]})})}t.addHeader=function(t,n){e.set(t,n)},t.addAuthorization=function(t){e.set("Authorization",t)},t.resetHeader=function(){e.clear()},t.setUrlKey=function(t){c=t},t.setRouterEncryptMode=function(t){s=t},t.setBaseUrl=function(t){n=t},t.spliceUrl=function(t){var e=n.endsWith("/"),o=t.startsWith("/");return e&&o?""+n+t.slice(1):n+"/"+t},t.abort=function(t){a.tcHttp.abort(t)},t.register=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("api/v1/register",t)]})})},t.login=function(t){return f("api/v1/login",t)},t.bindPhone=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("api/v1/me/bind-tel-number",t)]})})},t.verifyPhone=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("api/v1/me/verify",t)]})})},t.facebookLogin=function(t){return o(this,void 0,Promise,function(){return i(this,function(){return[2,f("api/v1/facebook-login",t)]})})},t.googleLogin=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("api/v1/google-login",t)]})})},t.checkSession=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("api/v1/check-session",t)]})})},t.tokenLogin=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("api/v1/token-login",t)]})})},t.guestLogin=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("api/v1/anonymous-login",t)]})})},t.fetchDeviceId=function(t){return f("api/v1/app/device-id",t)},t.fetchAppUpdate=function(t){return l("api/v1/app/update-new",t)},t.fetchAppInfo=function(t){return f("api/v1/login",t)},t.refreshUserBalance=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("gi/v1/refreshUserWallet/-1",t)]})})},t.fetchUserInfo=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("api/v1/me",t)]})})},t.featBalanceRecords=function(t,e){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("payment/v1/balance/records",t,e)]})})},t.featGameRecords=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("gi/v1/game-records",t)]})})},t.changeNickname=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("api/v1/me/nickname",t)]})})},t.forgetPassword=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("api/v1/forget-password",t)]})})},t.changePassword=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("api/v1/me/change-password",t)]})})},t.fetchSmsCode=function(t){return o(this,void 0,Promise,function(){return i(this,function(){return[2,f("sms/v1/sms-code",t)]})})},t.signIn=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("api/v1/daily/receive")]})})},t.fetchDailyBouns=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("api/v1/daily")]})})},t.changeAvatar=function(t,e){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("api/v1/me/avatar-id",t,e)]})})},t.fetchShowActivityList=function(t,e){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("activity/v1/list",t,e)]})})},t.fetchActiveActivityList=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("activity/v1/ay-list")]})})},t.reqAcceptActivity=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("activity/v1/accept",t)]})})},t.reqRefuseActivity=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("activity/v1/negative",t)]})})},t.reqTaskActivityReward=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("activity/v1/take",t)]})})},t.reqDailyRechargeInfo=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("activity/v1/daily/info")]})})},t.reqAcceptDailyRechargePromotion=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("activity/v1/daily/apply",t)]})})},t.reqRechargeInfo=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("activity/v1/first/info")]})})},t.reqAcceptRechargePromotion=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("activity/v1/first/apply",t)]})})},t.fetchAddMoneyActivity=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("activity/v1/list",{type:1})]})})},t.fetchJoinRechargeActivity=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("activity/v1/join",t)]})})},t.fetchEmails=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("email/v1/list",t)]})})},t.fetchNoReadEmail=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("email/v1/count-noRead",t)]})})},t.readEmails=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("email/v1/read",t)]})})},t.receiveEmails=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("email/v1/take",t)]})})},t.receiveAllEmails=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("email/v1/take-all",t)]})})},t.deleteEmail=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("email/v1/delete",t)]})})},t.fetchProducts=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("google/v1/products",t)]})})},t.featGoogleLaunch=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("google/v1/launch",t)]})})},t.fetchGoogleSubmit=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("google/v1/submit",t)]})})},t.submitGooglePayFailReason=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("google/v1/failReason",t)]})})},t.getGameList=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("gi/v1/getGameList",t)]})})},t.fetchGameListV2=function(t,e){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("gi/v1/game-list",t,e)]})})},t.fetchGameInfo=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("gi/v1/game-list/"+t)]})})},t.fetchFavoriteGames=function(t,e){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("gi/v1/favorite",t,e)]})})},t.favoriteGame=function(t,e){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("gi/v1/collect",t,e)]})})},t.unfavoriteGame=function(t,e){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("gi/v1/delete",t,e)]})})},t.fetchRecentGames=function(t,e){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("gi/v1/recently",t,e)]})})},t.uploadRecentPlay=function(t,e){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("gi/v1/play",t,e)]})})},t.fetchLatestUsers=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("gi/v1/record-ranking",t)]})})},t.fetchReadMessage=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("api/v1/notice/real-message")]})})},t.refreshMailRedDot=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("email/v1/count-noRead",t)]})})},t.fetchAppConfig=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("api/v1/app/config")]})})},t.fetchShowTiXian=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("payment/v1/payout/checkShow")]})})},t.fetchPaymentMode=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("payment/v1/payout/payment-mode")]})})},t.fetchVipConfigData=function(t,e){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("vip/v1/list",t,e)]})})},t.fetchNextVIPInfo=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("vip/v1/user/next",t)]})})},t.reqGetVipRewards=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("vip/v1/take",t)]})})},t.fetchPlayerVipData=function(t,e){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("vip/v1/user",t,e)]})})},t.fetchPlayerVipRewardsInfo=function(t,e){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("vip/v1/user/info",t,e)]})})},t.fetchVipRecordsData=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("vip/v1/records",t)]})})},t.getGameAddr=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("gi/v1/getGameAddr",t)]})})},t.getGameDemoAddr=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("gi/v1/getFunModeGameAddr",t)]})})},t.getFlowPercent=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("payment/v1/tx/getAble",t)]})})},t.fetchAgentInfo=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("agent/v1/agentInfo")]})})},t.fetchReferralsData=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("agent/v1/checkSub",t)]})})},t.fetchAgentEarningInfo=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("agent/v1/earnings",t)]})})},t.fetchAgentConfig=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("agent/v1/agentRewardConfig",t)]})})},t.fetAddWealthChannels=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("payment/v1/payin/getChannels",t)]})})},t.fetchCreateOrder=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("payment/v1/payin/createOrder",t)]})})},t.featTXInfo=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("payment/v1/tx/getAble",t)]})})},t.fetchBankCardList=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("payment/v1/bank/getList",t)]})})},t.fetchRemoveBankCard=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("payment/v1/bank/delete/"+t)]})})},t.fetchCreateTXOrder=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("payment/v1/payout/create",t)]})})},t.fetchUpdateBankCard=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("payment/v1/bank/update",t)]})})},t.fetchAddBankCard=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("payment/v1/bank/add",t)]})})},t.fetchFindBankCardInfo=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("payment/v1/bank/getDetail/"+t)]})})},t.fetchRechargeRecord=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("payment/v1/payin/getOrders",t)]})})},t.fetchTXRecord=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("payment/v1/payout/getOrders",t)]})})},t.fetchCustomService=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("api/v1/custom-services",t)]})})},t.fetchWeeklyNegativeActivityData=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("activity/v1/win-lose/apply",t)]})})},t.reqGetWeeklyNegativeActivityReward=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("activity/v1/win-lose/take",t)]})})},t.reqWeeklyNegativeActivityStatus=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("activity/v1/win-lose/status",t)]})})},t.fetchDailyNegativeActivityData=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("activity/v1/win-lose-daily/apply",t)]})})},t.reqGetDailyNegativeActivityReward=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("activity/v1/win-lose-daily/take",t)]})})},t.reqDailyNegativeActivityStatus=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("activity/v1/win-lose-daily/status",t)]})})},t.fetchWagerRankActivityData=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.reqSignupWagerRankActivity=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.reqWagerRankActivityReward=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.fetcChallengeActivityData=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("activity/v1/game-challenge/apply",t)]})})},t.reqGeChallengeActivityReward=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("activity/v1/game-challenge/take",t)]})})},t.joinGeChallengeActivity=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("activity/v1/game-challenge/joining",t)]})})},t.fetchChallengeActivityJoinStatus=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("activity/v1/game-challenge/join-status",t)]})})},t.fetchCarousel=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("api/v1/carousel",t)]})})},t.fetchAnnouncementData=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("api/v1/anno",t)]})})},t.fetchMissionConfigs=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("activity/v1/mission/list",t)]})})},t.fetchMissionDetails=function(t,e){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("activity/v1/mission/info",t,e)]})})},t.receiveMissionPrize=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("activity/v1/mission/receive",t)]})})},t.receiveMissionExtraPrize=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("activity/v1/mission/receive-extra-prize",t)]})})},t.fetchMissionReceiveStatus=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("activity/v1/mission/unclaimed-count",t)]})})},t.fetchBonusList=function(t,e){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("api/v1/bonus-center",t,e)]})})},t.receiveBonusRewards=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("api/v1/bonus-center/claim",t)]})})},t.fetchBonusStatus=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,l("api/v1/bonus-center/red-dot",t)]})})},t.refreshUserCorrect=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,f("gi/v1/correct",t)]})})}})(n.api||(n.api={})),cc._RF.pop()},{"../framework/net/http":"http","js-base64":5}],audio:[function(t,e,n){"use strict";cc._RF.push(e,"a8697RhISdAXYbJpJItUaRJ","audio"),Object.defineProperty(n,"__esModule",{value:!0}),n.uAudio=n.AudioClipName=void 0;var o=t("../../../bundles/update-v2/script/fortune-rabbit-define"),i=t("../../app/env"),r=t("../../audio/WebAudioEngine"),a=t("../log/log");(function(t){t.CLAIMCOINS="claimCoins",t.CLICKBTN="clickBtn",t.BGM="bgm"})(n.AudioClipName||(n.AudioClipName={}));var c=function(){function t(){this.state=!0,this.nextBgm="",this.audioCache=new Map,this.audioIds=new Map}return t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t.prototype.addClip=function(t,e){this.audioCache.set(t,e)},t.prototype.removeClip=function(t){this.audioCache.delete(t)},t.prototype.clear=function(){this.audioCache.clear()},t.prototype.playMusic=function(t,e){if(this.state){var n=this.audioCache.get(t);if(!n){if(!e)return;n=e,this.audioCache.set(t,n)}cc.audioEngine.stopMusic(),cc.audioEngine.playMusic(n,!0)}else this.nextBgm=t},t.prototype.stopMusic=function(){cc.audioEngine.stopMusic()},t.prototype.playEffect=function(t,e,n){var i=this;if(void 0===n&&(n=!1),o.FortuneRabbitDefine.soundNamesNew[t]){var c=o.FortuneRabbitDefine.soundNamesNew[t][0],s=o.FortuneRabbitDefine.soundNamesNew[t][1],u=o.FortuneRabbitDefine.soundNamesNew[t][2];if(a.tcLog.info("playEffect==>>>>>>111",c,t,this.state),this.state){var l=this.audioCache.get(c);if(!l){if(!e)return;l=e,this.audioCache.set(c,l)}var f=r.default.play(l,s,u,n);r.default.setFinishCallback(f,function(){n||i.stopEffect(t,f)}),a.tcLog.info("audioId==>>>>>>",f);var p=this.audioIds.get(t);p?(p.push(f),this.audioIds.set(t,p)):this.audioIds.set(t,[f])}}},t.prototype.stopEffect=function(t,e){var n=this.audioIds.get(t);null==n||n.forEach(function(t,o){e?t===e&&(n.splice(o,1),r.default.stop(t)):r.default.stop(t)}),this.audioIds.delete(t)},t.prototype.stopAllEffect=function(){cc.audioEngine.stopAllEffects(),r.default.pauseAll(),this.audioIds.clear()},t.prototype.setMusicVolume=function(t){cc.audioEngine.setMusicVolume(null!=t?t:1),r.default.setAllVolume(null!=t?t:1),0==t?r.default.setMute(!0):r.default.setMute(!1)},t.prototype.getMusicVolume=function(){return cc.audioEngine.getMusicVolume()},t.prototype.setEffectVolume=function(t){i.env.application.soundVolume=null!=t?t:1,cc.audioEngine.setEffectsVolume(null!=t?t:1),r.default.setMute(0==t)},t.prototype.pauseAll=function(){this.state=!1,this.nextBgm="",cc.audioEngine.pauseAll(),r.default.pauseAll()},t.prototype.resumeAll=function(){this.state=!0,cc.audioEngine.resumeAll(),r.default.resumeAll(),""!==this.nextBgm&&this.playMusic(this.nextBgm)},t}();n.uAudio=c,cc._RF.pop()},{"../../../bundles/update-v2/script/fortune-rabbit-define":"fortune-rabbit-define","../../app/env":"env","../../audio/WebAudioEngine":"WebAudioEngine","../log/log":"log"}],"auto-rotation":[function(t,e,n){"use strict";cc._RF.push(e,"736aenj7uxMWoWROiWWRGwL","auto-rotation");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.AutoRotation=void 0;var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){var t=this;cc.tween(this.node).to(2,{angle:-360}).call(function(){t.node.angle=0}).union().repeatForever().start()},r([c],e)}(cc.Component));n.AutoRotation=s,cc._RF.pop()},{}],"bet-setting":[function(t,e,n){"use strict";cc._RF.push(e,"5efe6KOAgZM0bHeUm0DjC0o","bet-setting"),Object.defineProperty(n,"__esModule",{value:!0}),n.betSetting=void 0,n.betSetting={gameId:31011,gameName:"fortune_rabbit",gameChip:{BRL:{currency:"BRL",betSize:[500,5e3,4e4],betLevels:[1,2,3,4,5,6,7,8,9,10],buyLimit:0,lines:10,betAmount:[500,1e3,1500,2e3,2500,3e3,3500,4e3,4500,5e3,1e4,15e3,2e4,25e3,3e4,35e3,4e4,45e3,5e4,8e4,12e4,16e4,2e5,24e4,28e4,32e4,36e4,4e5],quickAmount:[5e3,1e4,15e3,25e3,5e4,15e4,25e4,4e5,5e5,2e6,4e6],default:6e3},Default:{currency:"USD",betSize:[500,5e3,4e4],betLevels:[1,2,3,4,5,6,7,8,9,10],buyLimit:0,lines:10,betAmount:[500,1e3,1500,2e3,2500,3e3,3500,4e3,4500,5e3,1e4,15e3,2e4,25e3,3e4,35e3,4e4,45e3,5e4,8e4,12e4,16e4,2e5,24e4,28e4,32e4,36e4,4e5],quickAmount:[5e3,1e4,15e3,25e3,5e4,15e4,25e4,4e5,5e5,2e6,4e6],default:6e3},USD:{currency:"USD",betSize:[500,5e3,4e4],betLevels:[1,2,3,4,5,6,7,8,9,10],buyLimit:0,lines:10,betAmount:[500,1e3,1500,2e3,2500,3e3,3500,4e3,4500,5e3,1e4,15e3,2e4,25e3,3e4,35e3,4e4,45e3,5e4,8e4,12e4,16e4,2e5,24e4,28e4,32e4,36e4,4e5],quickAmount:[5e3,1e4,15e3,25e3,5e4,15e4,25e4,4e5,5e5,2e6,4e6],default:6e3}}},cc._RF.pop()},{}],cmd:[function(t,e,n){"use strict";cc._RF.push(e,"2d218/Rj8xBeK2QHXdRgz3V","cmd"),Object.defineProperty(n,"__esModule",{value:!0}),n.cmd=void 0,function(t){t.SERVER_TYPE_INVALID=0,t.SERVER_TYPE_GATEWAY=1001,t.LOBBY_TYPE=5e3,t.SERVER_TYPE_BACCARAT=11001,t.SERVER_TYPE_BENZBMW=10002,t.SERVER_TYPE_DRAGONTIGER=11003,t.SERVER_TYPE_COLORDISH=11004,t.SERVER_TYPE_TIREPLATE=11005,t.SERVER_TYPE_REDBLACK=11006,t.SERVER_TYPE_FISHSHRIMP=11007,t.SERVER_TYPE_BRNN=11008,t.SERVER_TYPE_THREECARD=21001,t.SERVER_TYPE_BLACKJACK=21002,t.SERVER_TYPE_TRUCOPAULISTA=21003,t.SERVER_TYPE_TRUCOMINEIRO=21004,t.SERVER_TYPE_SLOTHALLOWEEN=31001,t.SERVER_TYPE_WILD_CASH=31002,t.SERVER_TYPE_MISSCHERRYFRUITS=31003,t.SERVER_TYPE_SLOTLUCKYDAMA=31004,t.SERVER_TYPE_SLOTSOCCERMANIA=31005,t.SERVER_TYPE_GIFT_RUSH=31006,t.SERVER_TYPE_FORTUNE_OX=31007,t.SERVER_TYPE_MECHANICAL_ORANGE=31008,t.SERVER_TYPE_FORTUNE_TIGER=31009,t.SERVER_TYPE_FORTUNE_MOUSE=31010,t.SERVER_TYPE_CRASH_FULL=50001,t.SERVER_TYPE_ROCKET_DICE=51014,t.SERVER_TYPE_FORTUNE_RABBIT=100056}(n.cmd||(n.cmd={})),cc._RF.pop()},{}],config:[function(t,e,n){"use strict";var o,i,r,a;cc._RF.push(e,"43523cv/ItLrbmv8PQMwCPS","config"),Object.defineProperty(n,"__esModule",{value:!0}),n.gameHelper=n.gameLoadingBtnOkPositon=n.gameConfig=n.config=n.LogLevel=void 0;var c,s=t("../app/env"),u=t("../framework/audio/audio"),l=t("../framework/log/log"),f=t("../framework/storage/storage"),p=t("./cmd");(function(t){t[t.Silent=0]="Silent",t[t.Error=1]="Error",t[t.Warn=2]="Warn",t[t.Info=3]="Info",t[t.Debug=4]="Debug"})(c=n.LogLevel||(n.LogLevel={})),n.config={apiUrl:"",logLevel:c.Debug,gateways:[],uiNode:{},smsRequestInterval:12e4,devTest:!0},n.gameConfig={GAMEID_2_BUNDLE_NAMES:(o={},o[p.cmd.SERVER_TYPE_CRASH_FULL]="crash",o[p.cmd.SERVER_TYPE_SLOTHALLOWEEN]="halloween",o[p.cmd.SERVER_TYPE_MISSCHERRYFRUITS]="missCherryFruits",o[p.cmd.SERVER_TYPE_SLOTLUCKYDAMA]="luckyDama",o[p.cmd.SERVER_TYPE_WILD_CASH]="wildcash",o[p.cmd.SERVER_TYPE_SLOTSOCCERMANIA]="soccerMania",o[p.cmd.SERVER_TYPE_MECHANICAL_ORANGE]="mechanicalOrange",o[p.cmd.SERVER_TYPE_GIFT_RUSH]="giftRush",o[p.cmd.SERVER_TYPE_FORTUNE_TIGER]="fortuneTiger",o[p.cmd.SERVER_TYPE_FORTUNE_OX]="fortuneOx",o[p.cmd.SERVER_TYPE_ROCKET_DICE]="rocketDice",o[p.cmd.SERVER_TYPE_FORTUNE_RABBIT]="fortuneRabbit",o),GAMEID_2_GAME_NAME:{},GAMEID_GAME_ORIENTATION:(i={},i[p.cmd.SERVER_TYPE_FORTUNE_TIGER]=2,i[p.cmd.SERVER_TYPE_FORTUNE_OX]=2,i[p.cmd.SERVER_TYPE_FORTUNE_RABBIT]=2,i),GAMEID_GAME_BUNDLE:(r={},r[p.cmd.SERVER_TYPE_CRASH_FULL]=["SlotGameRes","common-v2"],r[p.cmd.SERVER_TYPE_SLOTHALLOWEEN]=["SlotGameRes","common-v2"],r[p.cmd.SERVER_TYPE_MISSCHERRYFRUITS]=["SlotGameRes","common-v2"],r[p.cmd.SERVER_TYPE_SLOTLUCKYDAMA]=["SlotGameRes","common-v2"],r[p.cmd.SERVER_TYPE_WILD_CASH]=["SlotGameRes","common-v2"],r[p.cmd.SERVER_TYPE_SLOTSOCCERMANIA]=["SlotGameRes","common-v2"],r[p.cmd.SERVER_TYPE_MECHANICAL_ORANGE]=["SlotGameRes","common-v2"],r[p.cmd.SERVER_TYPE_GIFT_RUSH]=["SlotGameRes","common-v2"],r[p.cmd.SERVER_TYPE_FORTUNE_TIGER]=["PGGameRes"],r[p.cmd.SERVER_TYPE_FORTUNE_OX]=["PGGameRes"],r[p.cmd.SERVER_TYPE_FORTUNE_RABBIT]=["gameCommon","PGGameRes"],r[p.cmd.SERVER_TYPE_ROCKET_DICE]=["SlotGameRes","common-v2"],r)},n.gameLoadingBtnOkPositon=((a={})[p.cmd.SERVER_TYPE_MECHANICAL_ORANGE]=[[7,-193],[7,-193]],a[p.cmd.SERVER_TYPE_SLOTLUCKYDAMA]=[[0,-570],[0,-300]],a[p.cmd.SERVER_TYPE_FORTUNE_TIGER]=[[0,-570],[0,-570]],a[p.cmd.SERVER_TYPE_FORTUNE_OX]=[[0,-570],[0,-570]],a[p.cmd.SERVER_TYPE_FORTUNE_RABBIT]=[[0,-570],[0,-570]],a),function(t){t.getBundleName=function(){return s.env.device.platform===s.env.PlatformType.Native?jsb.fileUtils.getWritablePath()+"remote-assets/assets/fortuneRabbit":"fortuneRabbit"},t.bPGGame=function(){return!0},t.stopAllEffects=function(){u.uAudio.getInstance().stopAllEffect()},t.changeSoundStatus=function(){var t,e="off"===(null!==(t=f.tcStorage.readAny(f.tcStorage.Keys.SoundSwitch))&&void 0!==t?t:"on"),n=e?1:0;return f.tcStorage.save(f.tcStorage.Keys.SoundSwitch,e?"on":"off"),u.uAudio.getInstance().setMusicVolume(n),localStorage.setItem(f.tcStorage.Keys.musicVolume,""+n),u.uAudio.getInstance().setEffectVolume(n),localStorage.setItem(f.tcStorage.Keys.effectVolume,""+n),e},t.bPortrait=function(){var t=cc.view.getFrameSize();return l.tcLog.info("-------gameHelper.bPortrait:viewResize",t),t.width<t.height}}(n.gameHelper||(n.gameHelper={})),cc._RF.pop()},{"../app/env":"env","../framework/audio/audio":"audio","../framework/log/log":"log","../framework/storage/storage":"storage","./cmd":"cmd"}],creator:[function(t,e,n){"use strict";cc._RF.push(e,"5bfaag0B0lJvZpSuOgiP//R","creator"),Object.defineProperty(n,"__esModule",{value:!0}),n.creatorUtils=void 0,function(t){t.setActive=function(t,e){t&&t.isValid&&(t instanceof cc.Component?t.node.active!==e&&(t.node.active=e):t instanceof cc.Node&&t.active!==e&&(t.active=e))},t.setButtonInteractable=function(t,e){t.isValid&&t.interactable!==e&&(t.interactable=e)},t.setNodeGray=function(t,e){void 0===e&&(e=!1);var n,o=null==t?void 0:t.getComponentsInChildren(cc.Sprite);o&&0!=o.length&&o.forEach(function(t){n=e?cc.Material.getBuiltinMaterial("2d-gray-sprite"):cc.Material.getBuiltinMaterial("2d-sprite"),t.setMaterial(0,n)})},t.moveIn=function(t,e){t&&(t.setScale(0),cc.tween(t).to(.3,{scale:1},{easing:"quintOut"}).call(function(){e&&e()}).start())},t.moveOut=function(t,e){t&&cc.tween(t).to(.3,{scale:0}).call(function(){e&&e()}).start()},t.moveOpacityIn=function(t,e){t&&(t.setScale(1),cc.tween(t).set({opacity:0}).to(.3,{opacity:255},{easing:"quintOut"}).call(function(){e&&e()}).start())},t.moveSpin=function(t){t&&(t.angle=0,cc.tween(t).to(2,{angle:-360}).repeatForever().start())},t.moveInv2=function(t,e){cc.Tween.stopAllByTarget(t),cc.tween(t).to(.3,{position:cc.Vec3.ZERO},{easing:"quintOut"}).call(function(){return e&&e()}).start()},t.moveOutv2=function(t,e){cc.Tween.stopAllByTarget(t);var n=cc.view.getVisibleSize();cc.tween(t).to(.3,{position:cc.v3(n.width,0)},{easing:"quintOut"}).call(function(){return e&&e()}).start()},t.hexStrToColor=function(t){var e=t.replace("#",""),n=parseInt(e.substring(0,2),16),o=parseInt(e.substring(2,4),16),i=parseInt(e.substring(4,6),16),r=8===e.length?parseInt(e.substring(6,8),16):255;return new cc.Color(n,o,i,r)}}(n.creatorUtils||(n.creatorUtils={})),cc._RF.pop()},{}],"cron-balance":[function(t,e,n){"use strict";cc._RF.push(e,"251dekK1J5LxpPRq/10qNCF","cron-balance"),Object.defineProperty(n,"__esModule",{value:!0}),n.cronBalance=void 0;var o=t("../app/env"),i=t("../event/event");(function(t){var e,n=[1,5],r=0;function a(){clearTimeout(e),e=window.setTimeout(function(){1==o.env.application.curLocaton&&cc.systemEvent.emit(i.event.refreshBalance),a()},1e3*n[r]),++r>=n.length&&t.stop()}t.start=a,t.stop=function(){r=0,clearTimeout(e)},t.reset=function(){r=0,a()}})(n.cronBalance||(n.cronBalance={})),cc._RF.pop()},{"../app/env":"env","../event/event":"event"}],"cron-v2":[function(t,e,n){"use strict";cc._RF.push(e,"088035c4a5H46ui2p7POrnu","cron-v2"),Object.defineProperty(n,"__esModule",{value:!0}),n.CronV2=void 0;var o=function(){function t(t,e){this.timerId=0,this.timeout=t,this.handler=e}return t.prototype.start=function(){var t=this;this.stop(),this.handler(),this.timerId=window.setInterval(function(){t.handler()},this.timeout)},t.prototype.stop=function(){0!==this.timerId&&(window.clearInterval(this.timerId),this.timerId=0)},t}();n.CronV2=o,cc._RF.pop()},{}],cron:[function(t,e,n){"use strict";cc._RF.push(e,"4c659b3E+9M7LerX6uTK3zQ","cron"),Object.defineProperty(n,"__esModule",{value:!0}),n.Cron=void 0;var o=function(){function t(t){this.times=[2,3,5,8,13,21,34,55,89,144],this.timerIndex=0,this.timerId=0,this.callback=t}return t.prototype.start=function(){var t=this;this.timerId=window.setTimeout(function(){t.callback(),t.start()},1e3*this.times[this.timerIndex]),this.timerIndex++,this.timerIndex>=this.times.length&&this.stop()},t.prototype.stop=function(){clearTimeout(this.timerId),this.timerIndex=0},t.prototype.reset=function(){clearTimeout(this.timerId),this.timerIndex=0,this.start()},t.prototype.updateTimes=function(t){var e;clearTimeout(this.timerId),this.times.length=0,(e=this.times).push.apply(e,t),this.timerIndex=0,this.start()},t}();n.Cron=o,cc._RF.pop()},{}],currency:[function(t,e,n){"use strict";cc._RF.push(e,"3ecaeyBTFNG5Zb6S5BKogUN","currency"),Object.defineProperty(n,"__esModule",{value:!0}),n.currency=void 0;var o=t("../app/env");(function(t){var e=new Map([["BRL",{language:"pt-BR",symbol:"R$"}],["USD",{language:"en-US",symbol:"$"}],["AUD",{language:"en-US",symbol:"A$"}],["NGN",{language:"en-US",symbol:"\u20a6"}],["MXN",{language:"en-US",symbol:"Mex$"}]]),n=e.get("BRL"),i="BRL";function r(t,e,i,r,a){void 0===e&&(e=!0),void 0===i&&(i=!1),void 0===r&&(r=2),void 0===a&&(a=!1);var c=t/100,s=c%100!=0,u=c/100,l=o.env.application.language,f=2;if(1==a&&(f=r)<1&&s&&(f=2),u<0&&i){var p=new Intl.NumberFormat(l,{style:"decimal",minimumFractionDigits:e?f:s?2:0,maximumFractionDigits:e?f:s?2:0}).format(-1*u);return"-"+(null==n?void 0:n.symbol)+p}return p=new Intl.NumberFormat(l,{style:"decimal",minimumFractionDigits:e?f:s?2:0,maximumFractionDigits:e?f:s?2:0}).format(u),i?""+(null==n?void 0:n.symbol)+p:p}t.setSymbol=function(t){i=t;var o=e.get(t.toUpperCase());if(!o)return"$";n=o},t.getSymbol=function(){return null==n?void 0:n.symbol},t.getCurrency=function(){return i},t.format=r,t.formatWithSymbol=function(t,e,n){return void 0===e&&(e=!0),r(t,e,!0,n)},t.formatNoSymbol=function(t,e,n){return void 0===e&&(e=!0),r(t,e,!1,n)},t.accDiv=function(t,e){var n=0,o=0;try{n=t.toString().split(".")[1].length}catch(i){}try{o=e.toString().split(".")[1].length}catch(i){}return Number(t.toString().replace(".",""))/Number(e.toString().replace(".",""))*Math.pow(10,o-n)},t.accMul=function(t,e){var n=0,o=t.toString(),i=e.toString();try{n+=o.split(".")[1].length}catch(r){}try{n+=i.split(".")[1].length}catch(r){}return Number(o.replace(".",""))*Number(i.replace(".",""))/Math.pow(10,n)}})(n.currency||(n.currency={})),cc._RF.pop()},{"../app/env":"env"}],descriptor:[function(t,e,n){"use strict";cc._RF.push(e,"bff2eN6Hk9LgK9Kb1vlM1oV","descriptor");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.throttle=n.debounce=void 0;var r=t("../framework/log/log");n.debounce=function(t,e){return void 0===e&&(e=!0),function(n,r,a){var c,s=a.value;return a.value=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return o(this,void 0,void 0,function(){var o=this;return i(this,function(){return e?c?(c&&clearTimeout(c),c=setTimeout(function(){s.apply(o,n)},t)):(s.apply(this,n),c=setTimeout(function(){c=void 0},t)):(c&&clearTimeout(c),c=setTimeout(function(){s.apply(o,n)},t)),[2]})})},a}},n.throttle=function(t){return function(e,n,a){var c,s=a.value;a.value=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return o(this,void 0,void 0,function(){return i(this,function(){return r.tcLog.log("Throttle timer",c),c||(s.apply(this,e),c=setTimeout(function(){c=void 0},t)),[2]})})}}},cc._RF.pop()},{"../framework/log/log":"log"}],dropdown:[function(t,e,n){"use strict";cc._RF.push(e,"f72799B5rhJ97RurcfZvQ9g","dropdown");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.Dropdown=void 0;var a=t("../descriptor/descriptor"),c=t("../framework/audio/audio"),s=cc._decorator,u=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemDatas=[],e.selecttedIndex=-1,e.inittedList=!1,e.needChangeParent=!1,e.v2ContentPos=cc.Vec2.ZERO,e}return i(e,t),e.prototype.onLoad=function(){this.labelTip=cc.find("labelTip",this.node).getComponent(cc.Label),this.btnArrow=cc.find("btnArrow",this.node),this.nodeArrow=cc.find("arrow",this.node),this.nodeContent=cc.find("content",this.node),this.itemTemple=cc.find("content/view/content/item",this.node),this.v2ContentPos=this.nodeContent.getPosition()},e.prototype.start=function(){var t,e=this;null===(t=this.btnArrow)||void 0===t||t.on("click",function(){var t;c.uAudio.getInstance().playEffect(c.AudioClipName.CLICKBTN),e.updateContentStatus(!(null===(t=e.nodeContent)||void 0===t?void 0:t.active))},this)},e.prototype.initView=function(t,e,n){void 0===e&&(e=0),this.itemDatas=t,this.selectCallback=n,this.createList(),this.select(e)},e.prototype.setParentNode=function(t,e){this.needChangeParent=t,this.newParent=e},e.prototype.createList=function(){var t,e=this;if(!this.inittedList&&this.itemDatas){this.inittedList=!0;for(var n=function(n){var i=cc.instantiate(o.itemTemple);if(!i)return"continue";null===(t=o.itemTemple)||void 0===t||t.parent.addChild(i),i.active=!0,i.name="item"+n,i.getComponentInChildren(cc.Label).string=o.itemDatas[n],i.on("click",function(){c.uAudio.getInstance().playEffect(c.AudioClipName.CLICKBTN),e.select(n)},o)},o=this,i=0;i<this.itemDatas.length;++i)n(i)}},e.prototype.select=function(t){this.selecttedIndex!==t&&(this.selecttedIndex=t,this.labelTip&&(this.labelTip.string=this.itemDatas[t]||""),this.updateContentStatus(!1),this.selectCallback&&this.selectCallback(t))},e.prototype.setSelectNoEmit=function(t){this.selecttedIndex=t,this.labelTip&&(this.labelTip.string=this.itemDatas[t]||""),this.updateContentStatus(!1)},e.prototype.showSelectStatus=function(){var t=this;this.itemDatas&&this.itemDatas.forEach(function(e,n){var o,i=null===(o=t.itemTemple)||void 0===o?void 0:o.parent.getChildByName("item"+n);i&&(i.getChildByName("sprite").active=t.selecttedIndex==n)})},e.prototype.updateContentStatus=function(t){var e,n,o,i,r,a;if(t){if(this.needChangeParent){this.newParent&&(null===(e=this.nodeContent)||void 0===e||e.setParent(this.newParent));var c=this.node.convertToWorldSpaceAR(this.v2ContentPos),s=null!==(o=null===(n=this.newParent)||void 0===n?void 0:n.convertToNodeSpaceAR(c))&&void 0!==o?o:cc.Vec2.ZERO;null===(i=this.nodeContent)||void 0===i||i.setPosition(s)}}else this.needChangeParent&&(null===(r=this.nodeContent)||void 0===r||r.setParent(this.node),null===(a=this.nodeContent)||void 0===a||a.setPosition(this.v2ContentPos));this.nodeContent&&(this.nodeContent.active=t),this.nodeArrow&&(this.nodeArrow.angle=t?180:0),this.showSelectStatus()},e.prototype.getCurIndex=function(){return this.selecttedIndex},r([a.throttle(1e3)],e.prototype,"select",null),r([u],e)}(cc.Component));n.Dropdown=l,cc._RF.pop()},{"../descriptor/descriptor":"descriptor","../framework/audio/audio":"audio"}],env:[function(t,e,n){"use strict";cc._RF.push(e,"641d3dqDrpJOrXxv4WYM09I","env"),Object.defineProperty(n,"__esModule",{value:!0}),n.env=void 0,function(t){var e,n;(function(t){t[t.Android=1]="Android",t[t.iOS=2]="iOS",t[t.Windows=3]="Windows",t[t.Unknown=99]="Unknown"})(e=t.OSType||(t.OSType={})),function(t){t[t.Native=1]="Native",t[t.H5=2]="H5",t[t.WebView=3]="WebView",t[t.Unknown=99]="Unknown"}(n=t.PlatformType||(t.PlatformType={})),t.device={deviceId:"",height:0,width:0,os:0,osName:function(){switch(this.os){case e.Android:return"Android";case e.iOS:return"iOS";case e.Windows:return"Windows";default:return"Unknown"}},platform:0,platformName:function(){switch(this.platform){case n.Native:return"Native";case n.H5:return"H5";case n.WebView:return"WebView";default:return"Unknown"}},googleAdsId:"",appsFlyerId:"",language:""},t.application={curLocaton:0,designWidth:0,designHeight:0,bundleId:"",version:"",resVersion:"",buildVersion:"",musicVolume:1,soundVolume:1,language:"",adId:"",facebookPixelId:"",showDailyView:!1,downloadUrl:"",needSmsCode:1,logoUrl:"",ServerError:!1},t.user={userId:0,authorization:"",balance:0,nickname:"",gender:"",avatarId:"",areaCode:"",telNumber:"",vip:0,smsTimeStamp:0,isShowCZTX:!1,isRisk:!1,telNumberStatus:0,cpf:""},t.avatarMap=new Map,t.service=new Map,t.nativeGameConfig={},t.curGameData={data:0,balance:0,betIndex:0,betSizeIndex:0},t.isAuthorizated=function(){return t.user.authorization.length>0},t.clearUserInfo=function(){t.user.areaCode="",t.user.authorization="",t.user.avatarId="",t.user.balance=0,t.user.cpf="",t.user.gender="",t.user.isRisk=!1,t.user.isShowCZTX=!1,t.user.nickname="",t.user.smsTimeStamp=0,t.user.telNumber="",t.user.telNumberStatus=0,t.user.areaCode=""}}(n.env||(n.env={})),cc._RF.pop()},{}],event:[function(t,e,n){"use strict";cc._RF.push(e,"d9d06VUFQRGMIxpmVnbTTbi","event"),Object.defineProperty(n,"__esModule",{value:!0}),n.event=void 0,function(t){t.showGameView="showGameView",t.sendLeaveGameReq="sendLeaveGameReq",t.reconnectGame="reconnectGame",t.loadGameResOver="loadGameResOver",t.LEAVE_TABLE="LEAVE_TABLE",t.getencode="getencode",t.getEncodeConfirm="getEncodeConfirm",t.getGatewayConfirm="getGatewayConfirm",t.banlanceNoEnough="banlanceNoEnough",t.loginSuccess="loginSuccess",t.getServerConfirm="getServerConfirm",t.BTNSPIN_STATUS_CHANGE="btnSpinStatusChange",t.UPDATEBET="updateBet",t.disconnect="disconnect",t.resetLoadView="resetLoadView",t.reqTipErrorOther="reqTipErrorOther",t.reqTipTryconnect="reqTipTryconnect",t.reqTipTryFail="reqTipTryFail",t.reqTipGetGatewayConfirm="reqTipGetGatewayConfirm",t.reqSpinFail="reqSpinFail"}(n.event||(n.event={})),cc._RF.pop()},{}],facebook:[function(t,e,n){"use strict";cc._RF.push(e,"2108eTOSHFKeqV7Tyyrsyg3","facebook");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.facebookHandler=void 0;var a=t("../framework/log/log"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleLogin=function(t){a.tcLog.debug("facebook login data: "+t),cc.systemEvent.emit("facebook-login-callback",t)},r([s],e)}(cc.Component));n.default=u,function(t){var e;function n(t){a.tcLog.debug("facebook login data: "+t),cc.systemEvent.emit("facebook-login-callback",t)}function o(t){var o={code:0,token:""};a.tcLog.debug("facebook login resp: "+JSON.stringify(t)),"connected"===t.status?t.authResponse?(o.code=e.Success,o.token=t.accessToken):o.code=e.Cancel:o.code=e.Unknown,n(JSON.stringify(o))}(function(t){t[t.Success=0]="Success",t[t.Cancel=1]="Cancel",t[t.Unknown=2]="Unknown"})(e=t.Code||(t.Code={})),t.handleLogin=n,t.webLogin=function(){globalThis.FB.getLoginStatus(function(t){"connected"===t.status?o(t):globalThis.FB.login(o,{scope:"public_profile"})})},t.webLoginWithWebView=function(){window.facebookLoginCallback=o,globalThis.webAppInterface.facebookLogin("602684875263955","1e5d2219391f08ca1604760626524ffa")},t.share=function(t,e){globalThis.FB.ui({method:"share",href:e},function(t){a.tcLog.debug("facebook share resp: "+JSON.stringify(t))})},t.shareWithWebView=function(t,e){globalThis.webAppInterface.facebookShare(t,e)}}(n.facebookHandler||(n.facebookHandler={})),cc._RF.pop()},{"../framework/log/log":"log"}],"fortune-rabbit-define":[function(t,e,n){"use strict";cc._RF.push(e,"5de37euFoxBPZ+02l5OOsBu","fortune-rabbit-define"),Object.defineProperty(n,"__esModule",{value:!0}),n.FortuneRabbitDefine=void 0,function(t){t.soundNames={winlines:"winlines",win2:"win2",win1:"win1",wild_show:"wild_show",wallet_counting_above:"wallet_counting_above",spin:"spin",slider_effect:"slider_effect",runscore:"runscore",reel_stop1:"reel_stop1",reel_stop:"reel_stop",reel_bon:"reel_bon",reel:"reel",rabbit_wish:"rabbit_wish",rabbit_win5:"rabbit_win5",rabbit_win4:"rabbit_win4",rabbit_win3:"rabbit_win3",rabbit_win2:"rabbit_win2",rabbit_win1:"rabbit_win1",rabbit_runscore:"rabbit_runscore",rabbit_bon:"rabbit_bon",click_element:"click_element",click:"click",bonus_showfly:"bonus_showfly",bonus_drop10:"bonus_drop10",bonus_drop9:"bonus_drop9",bonus_drop8:"bonus_drop8",bonus_drop7:"bonus_drop7",bonus_drop6:"bonus_drop6",bonus_drop5:"bonus_drop5",bonus_drop4:"bonus_drop4",bonus_drop3:"bonus_drop3",bonus_drop2:"bonus_drop2",bonus_drop1:"bonus_drop1",bon_win:"bon_win",bon_music:"bon_music",bg_music:"bg_music",bg_bigwin_end:"bg_bigwin_end",bg_bigwin_cheer:"bg_bigwin_cheer",bg_bigwin:"bg_bigwin",bonus_freeend:"bonus_freeend",bonus5_jackpot:"5bonus_jackpot",bon_xiu:"bon_xiu",click_close:"click_close"},t.soundNamesNew={bonus5_jackpot:["effectall",0,3],bg_bigwin_cheer:["effectall",4,9.6],bg_bigwin_end:["effectall",10.6,17.5],bon_win:["effectall",18.5,21.5],bon_xiu:["effectall",22.4,23],bonus_drop1:["effectall",23.9,24.7],bonus_drop2:["effectall",25.7,26.8],bonus_drop3:["effectall",27.7,28.7],bonus_drop4:["effectall",29.7,30.6],bonus_drop5:["effectall",31.6,32.5],bonus_drop6:["effectall",33.5,34.5],bonus_drop7:["effectall",35.4,36.4],bonus_drop8:["effectall",37.2,38.4],bonus_drop9:["effectall",39.1,40],bonus_drop10:["effectall",40.7,42],bonus_freeend:["effectall",42.8,44],bonus_showfly:["effectall",44.9,46.8],click:["effectall",47.5,47.9],click_element:["effectall",48.9,49.3],rabbit_bon:["effectall",50.5,54.2],rabbit_runscore:["effectall",55.2,57.7],rabbit_win1:["effectall",58.1,58.6],rabbit_win2:["effectall",59.9,61.2],rabbit_win3:["effectall",62.1,62.8],rabbit_win4:["effectall",64.2,65],rabbit_win5:["effectall",66.4,67],rabbit_wish:["effectall",68.3,69.1],reel:["effectall",70.2,70.6],reel_bon:["effectall",71.6,76.8],reel_stop:["effectall",77.6,78],reel_stop1:["effectall",79.4,79.8],runscore:["effectall",81.2,84.5],slider_effect:["effectall",85.2,85.6],spin:["effectall",86.3,87.5],wallet_counting_above:["effectall",88.2,89.1],wild_show:["effectall",90.1,90.9],win1:["effectall",92,93.6],win2:["effectall",94.6,98.3],winlines:["effectall",99.1,99.9],click_close:["effectall",101.8,102.2]},t.loadsoundNames={bon_music:"bon_music",bg_music:"bg_music",bg_bigwin:"bg_bigwin",effectall:"effectall"},t.animUrl={51:"artwork/spine/wild/rolemin",71:"artwork/spine/free/free",81:"artwork/spine/bat/bat",82:"artwork/spine/777/777",83:"artwork/spine/pp/pumpkin"},t.winEffect10=[3,5],t.winEffect20=[5,10],t.itemScore={51:200,82:100,81:50,4:10,3:5,2:3,1:2},t.PayLines=new Map,function(t){t[t.FREE=0]="FREE",t[t.PUMPKIN=1]="PUMPKIN",t[t.WIN=2]="WIN",t[t.ROLE=3]="ROLE",t[t.BIGWIN=4]="BIGWIN",t[t.SUPERWIN=5]="SUPERWIN"}(t.ANIM||(t.ANIM={})),t.cellsMatrix={normal:new Array,free:new Array},t.firstScreen=[[{itemId:82,value:0},{itemId:82,value:0},{itemId:51,value:0},{itemId:1,value:0}],[{itemId:9,value:5e4},{itemId:9,value:2e3},{itemId:9,value:500},{itemId:9,value:50}],[{itemId:82,value:0},{itemId:82,value:0},{itemId:51,value:0},{itemId:1,value:0}]],t.events={FortuneRabbitCellEndRoll:"FortuneRabbitCellEndRoll",cellStartRoll:"cellStartRoll",endRoll:"endRoll",showItemTip:"showItemTip",hideItem:"hideItem",wildShow:"wildShow",stopRoll:"stopRoll",updateWinCount:"updateWinCount",updateBet:"updateBet",showAnimationLayerHitCellsNode:"showAnimationLayerHitCellsNode",hiddenAnimationLayerHitCellsNode:"hiddenAnimationLayerHitCellsNode",scrollForever:"scrollForever"}}(n.FortuneRabbitDefine||(n.FortuneRabbitDefine={})),cc._RF.pop()},{}],gameLoadingHelper:[function(t,e,n){"use strict";cc._RF.push(e,"7a0fbJxijdGNp6htieb72rJ","gameLoadingHelper");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameLoadingHelper=n.gameLoadType=void 0;var r,a=t("../config/config"),c=t("../framework/log/log"),s=t("../framework/res/res"),u=t("./pgGameLoading"),l=t("../../script/event/event"),f=t("./gameLoadingNormal"),p=t("./gameLoading");(function(t){t[t.GAME_ICON_ANI=0]="GAME_ICON_ANI",t[t.GAME_PROGROGRESS=1]="GAME_PROGROGRESS",t[t.GAME_PROGROGRESS_BTNOK=2]="GAME_PROGROGRESS_BTNOK",t[t.GAME_NO_PROGRESS=3]="GAME_NO_PROGRESS"})(r=n.gameLoadType||(n.gameLoadType={})),function(t){var e,n;t.initLoading=function(){return o(this,void 0,void 0,function(){var t,n,r=this;return i(this,function(a){switch(a.label){case 0:t=function(){return o(r,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return e?[3,2]:[4,s.tcRes.load("gameCommon",cc.Prefab,"prefab/gameLoading")];case 1:if(!(t=n.sent()))return[2];e=t,n.label=2;case 2:return[2]}})})},a.label=1;case 1:return a.trys.push([1,3,,4]),[4,t()];case 2:return a.sent(),[3,4];case 3:return n=a.sent(),c.tcLog.error("load gameLoading err: "+n.message),[2];case 4:return[2]}})})},t.openLoading=function(t){var c;return o(this,void 0,void 0,function(){var o,s;return i(this,function(i){switch(i.label){case 0:if(cc.find("loadingHelper",null!==(c=a.config.uiNode.loading)&&void 0!==c?c:void 0)||!e)return[2];switch((o=cc.instantiate(e)).name="loadingHelper",null==t?void 0:t.loadType){case r.GAME_ICON_ANI:n=o.addComponent(u.PgGameLoading);break;case r.GAME_PROGROGRESS:s={showBtnOk:!1},n=o.addComponent(p.GameLoading);break;case r.GAME_PROGROGRESS_BTNOK:s={showBtnOk:!0},n=o.addComponent(p.GameLoading);break;default:n=o.addComponent(f.GameLoadingNormal)}return o.setParent(a.config.uiNode.loading),[4,null==n?void 0:n.updateView(null==t?void 0:t.bundleName,s)];case 1:return i.sent(),o.setPosition(cc.Vec3.ZERO),[2]}})})},t.closeLoading=function(){var t,e=cc.find("loadingHelper",null!==(t=a.config.uiNode.loading)&&void 0!==t?t:void 0);null==e||e.destroy(),cc.systemEvent.emit(null===l.event||void 0===l.event?void 0:l.event.showGameView)},t.updateLoadProgress=function(t){var e;n&&"function"==typeof n.updateLoadProgress&&(null===(e=n)||void 0===e||e.updateLoadProgress(t))}}(n.GameLoadingHelper||(n.GameLoadingHelper={})),cc._RF.pop()},{"../../script/event/event":"event","../config/config":"config","../framework/log/log":"log","../framework/res/res":"res","./gameLoading":"gameLoading","./gameLoadingNormal":"gameLoadingNormal","./pgGameLoading":"pgGameLoading"}],gameLoadingNormal:[function(t,e,n){"use strict";cc._RF.push(e,"128b0Z9fihGSaBfT6Ay6nEo","gameLoadingNormal");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameLoadingNormal=void 0;var s=t("../app/env"),u=t("../config/config"),l=t("../framework/log/log"),f=t("../framework/res/res"),p=t("./gameLoadingHelper"),d=cc._decorator,h=d.ccclass,g=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.curLoadProgress=0,e}return i(e,t),e.prototype.onLoad=function(){var t;this.spBackground=null===(t=cc.find("content/background",this.node))||void 0===t?void 0:t.getComponent(cc.Sprite),this.rotateWaitingIcon=cc.find("content/loading",this.node),cc.systemEvent.emit("close-loading-dialog"),this.loadingAnim()},e.prototype.updateView=function(t){return a(this,void 0,void 0,function(){var e,n,o,i;return c(this,function(r){switch(r.label){case 0:if(l.tcLog.info("bundleName: "+t),!t)return cc.systemEvent.emit("close-loading-dialog"),[2];if(!this.spBackground)return cc.systemEvent.emit("close-loading-dialog"),[2];this.node.getComponentsInChildren(cc.Widget).forEach(function(t){null==t||t.updateAlignment()}),r.label=1;case 1:return r.trys.push([1,3,,4]),s.env.application.curLocaton=2,e=u.gameHelper.bPortrait(),n=e?"bg_portrait":"bg",[4,f.tcRes.load(t,cc.SpriteFrame,"artwork/loadingBg/"+n)];case 2:return o=r.sent(),this.spBackground&&(this.spBackground.spriteFrame=o),cc.systemEvent.emit("close-loading-dialog"),[3,4];case 3:return i=r.sent(),l.tcLog.error("load game loading: "+i.message),[3,4];case 4:return[2]}})})},e.prototype.loadingAnim=function(){var t=this;this.rotateWaitingIcon.active=!0,this.rotateWaitingIcon.scale=.8,cc.tween(this.rotateWaitingIcon).to(1.6,{angle:-360}).call(function(){t.rotateWaitingIcon&&(t.rotateWaitingIcon.angle=0)}).union().repeatForever().start()},e.prototype.updateLoadProgress=function(t){this.node&&t>=1&&p.GameLoadingHelper.closeLoading()},r([h],e)}(cc.Component));n.GameLoadingNormal=g,cc._RF.pop()},{"../app/env":"env","../config/config":"config","../framework/log/log":"log","../framework/res/res":"res","./gameLoadingHelper":"gameLoadingHelper"}],gameLoading:[function(t,e,n){"use strict";cc._RF.push(e,"fb08ahvYR1MvotRX6idzx+w","gameLoading");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameLoading=void 0;var s=t("../app/env"),u=t("../config/config"),l=t("../framework/audio/audio"),f=t("../framework/i18n/i18n"),p=t("../framework/log/log"),d=t("../framework/res/res"),h=t("./gameLoadingHelper"),g=cc._decorator,v=g.ccclass,m=(g.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.curBundleName="",e.loadResRatio=0,e.curLoadProgress=0,e}return i(e,t),e.prototype.onLoad=function(){var t,e,n;this.spBackground=null===(t=cc.find("content/background",this.node))||void 0===t?void 0:t.getComponent(cc.Sprite),this.loadProgressBar=cc.find("content/progressBar",this.node).getComponent(cc.ProgressBar),this.spriteLoadProgressBar=null===(e=cc.find("content/progressBar/Bar",this.node))||void 0===e?void 0:e.getComponent(cc.Sprite),this.spriteLoadProgressBg=null===(n=cc.find("content/progressBar",this.node))||void 0===n?void 0:n.getComponent(cc.Sprite),this.btnEnter=cc.find("content/btnEnter",this.node),this.spriteBtnEnter=cc.find("content/btnEnter/Background",this.node).getComponent(cc.Sprite),this.labelLoadProgress=cc.find("content/labelLoadingProgress",this.node).getComponent(cc.Label),cc.systemEvent.emit("close-loading-dialog",this.node),this.bindEvent()},e.prototype.onDestroy=function(){cc.systemEvent.off("switch-orientitaion",this.onViewResize.bind(this))},e.prototype.bindEvent=function(){var t;cc.systemEvent.on("switch-orientitaion",this.onViewResize.bind(this)),null===(t=this.btnEnter)||void 0===t||t.on("click",function(){l.uAudio.getInstance().playEffect(l.AudioClipName.CLICKBTN),h.GameLoadingHelper.closeLoading()})},e.prototype.updateView=function(t,e){return a(this,void 0,void 0,function(){var n;return c(this,function(){return p.tcLog.info("bundleName: "+t),t&&this.spBackground?(this.node.getComponentsInChildren(cc.Widget).forEach(function(t){null==t||t.updateAlignment()}),this.typeConfig=e,this.curBundleName=t,n=u.gameHelper.bPortrait(),this.updateLoadingProgressNodesPostion(n?2:1),this.curLoadProgress=0,this.loadProgressBar.progress=0,this.labelLoadProgress.node.active=!0,this.loadProgressBar.node.active=!0,this.updateLoadProgress(this.curLoadProgress),s.env.application.curLocaton=2,this.updateBg(),[2]):(cc.systemEvent.emit("close-loading-dialog"),[2])})})},e.prototype.updateBg=function(){return a(this,void 0,void 0,function(){var t,e=this;return c(this,function(){if(!this.node)return[2];try{t=u.gameHelper.bPortrait()?"bg_portrait":"bg",d.tcRes.load(this.curBundleName,cc.SpriteFrame,"artwork/loadingBg/"+t).then(function(n){e.spBackground&&(e.spBackground.spriteFrame=n),p.tcLog.info("gameLoading upateBg  load "+t+" suc")},function(){p.tcLog.info("gameLoading upateBg  load "+t+" fail ,reLoad bg"),d.tcRes.load(e.curBundleName,cc.SpriteFrame,"artwork/loadingBg/bg").then(function(t){e.spBackground&&(e.spBackground.spriteFrame=t),p.tcLog.info("gameLoading upateBg  ,reLoad bg suc")})})}catch(n){p.tcLog.error("load game loading: "+n.message)}finally{cc.systemEvent.emit("close-loading-dialog")}return[2]})})},e.prototype.updateLoadProgress=function(t){var e=this;this.node&&(t<=this.curLoadProgress&&(t=this.curLoadProgress),this.curLoadProgress=t,this.loadProgressBar.node.active&&(this.labelLoadProgress.string=f.tcI18n.i18nLabel("v2_pgGame_loading_note")+"  ["+(100*this.curLoadProgress).toFixed(0)+"%]",this.loadProgressBar.progress=t,this.curLoadProgress>=1&&(this.labelLoadProgress.string=f.tcI18n.i18nLabel("v2_pgGame_loading_over"),this.scheduleOnce(function(){return a(e,void 0,void 0,function(){var t,e;return c(this,function(n){switch(n.label){case 0:if(!this.typeConfig||!this.typeConfig.showBtnOk)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,d.tcRes.load(this.curBundleName,cc.SpriteFrame,"artwork/loadingBg/btnOkBg")];case 2:return t=n.sent(),this.spriteBtnEnter.spriteFrame=t,[3,4];case 3:return e=n.sent(),p.tcLog.error("gameLoading updateLoadProgress",e.message),[3,4];case 4:return this.updateBtnOkPosition(),this.btnEnter.active=!0,[3,6];case 5:h.GameLoadingHelper.closeLoading(),n.label=6;case 6:return this.loadProgressBar.node.active=!1,this.labelLoadProgress.node.active=!1,[2]}})})},.5))))},e.prototype.onViewResize=function(t){this.updateLoadingProgressNodesPostion(t),this.updateBg()},e.prototype.updateLoadingProgressNodesPostion=function(t){var e,n,o,i,r,a,c;this.node&&(null===(e=this.node)||void 0===e?void 0:e.isValid)&&(1==t?(null===(n=this.btnEnter)||void 0===n||n.setPosition(cc.v3(0,-300,0)),null===(o=this.loadProgressBar)||void 0===o||o.node.setPosition(cc.v3(0,-310,0)),null===(i=this.labelLoadProgress)||void 0===i||i.node.setPosition(cc.v3(0,-340,0))):(null===(r=this.btnEnter)||void 0===r||r.setPosition(cc.v3(0,-575,0)),null===(a=this.loadProgressBar)||void 0===a||a.node.setPosition(cc.v3(0,-570,0)),null===(c=this.labelLoadProgress)||void 0===c||c.node.setPosition(cc.v3(0,-600,0))))},e.prototype.updateBtnOkPosition=function(){var t,e,n,o,i=[[0,-570],[0,-570]];i&&(u.gameHelper.bPortrait()?(null===(t=this.btnEnter)||void 0===t||t.setPosition(cc.v2(i[0][0],i[0][1])),null===(e=this.loadProgressBar)||void 0===e||e.node.setPosition(cc.v2(0,this.btnEnter.y+43)),null===(n=this.labelLoadProgress)||void 0===n||n.node.setPosition(cc.v2(0,this.btnEnter.y))):null===(o=this.btnEnter)||void 0===o||o.setPosition(cc.v2(i[1][0],i[1][1])))},r([v],e)}(cc.Component));n.GameLoading=m,cc._RF.pop()},{"../app/env":"env","../config/config":"config","../framework/audio/audio":"audio","../framework/i18n/i18n":"i18n","../framework/log/log":"log","../framework/res/res":"res","./gameLoadingHelper":"gameLoadingHelper"}],gameview:[function(t,e,n){"use strict";cc._RF.push(e,"77686+OYyVF8aMLKId8mnN6","gameview");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../framework/log/log"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.closeView=function(){a.tcLog.debug("will close game view")},e.prototype.showGameExitTips=function(){a.tcLog.debug("will exit game")},r([s],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../framework/log/log":"log"}],google:[function(t,e,n){"use strict";cc._RF.push(e,"21c82YhX1BJgbgImD9TEROY","google");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.googleHandler=void 0;var a=t("../app/api"),c=t("../framework/log/log"),s=cc._decorator,u=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleLogin=function(t){c.tcLog.debug("google login data: "+t),cc.systemEvent.emit("google-login-callback",t)},e.prototype.handlePay=function(t){c.tcLog.debug("google pay data: "+t);try{var e=JSON.parse(t),n=e.sign;delete e.sign,a.api.fetchGoogleSubmit({purchaseInfo:t,purchaseSign:n}).then(function(t){c.tcLog.debug("submit google pay order: "+JSON.stringify(t))}).catch(function(t){c.tcLog.error("submit google pay order: "+JSON.stringify(t))}),cc.systemEvent.emit("native-pay-success")}catch(o){c.tcLog.error("handle login: "+o.message)}},e.prototype.handlePayFailed=function(t){c.tcLog.debug("google pay failed data: "+t);try{var e=JSON.parse(t),n={code:e.code,message:e.message,original:e.original};a.api.submitGooglePayFailReason(n)}catch(o){c.tcLog.error("handle login: "+o.message)}},e.prototype.handleQueryProductDetails=function(t){c.tcLog.debug("google query product data: "+t);try{JSON.parse(t)}catch(e){c.tcLog.error("handle login: "+e.message)}},r([u],e)}(cc.Component));n.default=l,function(t){var e;function n(t){c.tcLog.debug("google login resp: "+JSON.stringify(t));var n={code:e.Success,token:t.credential};globalThis.closeGoogleLoginPanel(),cc.systemEvent.emit("google-login-callback",JSON.stringify(n))}(function(t){t[t.Success=0]="Success",t[t.Cancel=1]="Cancel",t[t.Unknown=2]="Unknown"})(e=t.Code||(t.Code={})),t.initGoogleLoginBtn=function(){if(!document.getElementById("google-login-btn")){var t=document.createElement("google-login-btn");t.id="google-login-btn",t.style.display="block",t.style.position="absolute",t.style.bottom="38px",t.style.left="50%",t.style.transform="translate(-50%, -50%)";var e=document.getElementById("google-login-container");e&&e.append(t),globalThis.google.accounts.id.initialize({client_id:"1031220116200-1nh6q9gbddpa6894ifq0rmeaqag4k0gf.apps.googleusercontent.com",callback:n,itp_support:!1}),globalThis.google.accounts.id.renderButton(document.getElementById("google-login-btn"),{theme:"outline",size:"large"}),globalThis.google.accounts.id.prompt()}},t.webLogin=function(){globalThis.showGoogleLoginPanel("Login","Login with Google")}}(n.googleHandler||(n.googleHandler={})),cc._RF.pop()},{"../app/api":"api","../framework/log/log":"log"}],http:[function(t,e,n){"use strict";cc._RF.push(e,"4e019lgZatB45YEQizAPgok","http");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.tcHttp=void 0;var r=t("../log/log");(function(t){var e;(function(t){t[t.Success=0]="Success",t[t.ErrorUnknown=901]="ErrorUnknown",t[t.ErrorInernal=902]="ErrorInernal",t[t.ErrorServer=903]="ErrorServer",t[t.ErrorRequestMany=904]="ErrorRequestMany",t[t.ErrorAuthentication=905]="ErrorAuthentication",t[t.ErrorNet=906]="ErrorNet",t[t.ErrorTimeout=907]="ErrorTimeout",t[t.ErrorAbort=908]="ErrorAbort"})(e=t.Code||(t.Code={}));var n=new Map,a=0;function c(t,o,i,c,s,u,l){a++;var f=null!=l?l:""+(Date.now()+a);if(n.get(f))null==s||s({code:e.ErrorRequestMany});else{var p=i?JSON.stringify(i):null,d=new XMLHttpRequest;d.timeout=1e4,d.onreadystatechange=function(){if(4===d.readyState&&0!==d.status)if(r.tcLog.debug("key: "+f+", request: "+o+", payload: "+p+", resp code: "+d.status+", resp body: "+d.response),n.delete(f),401!==d.status)if(429!==d.status)if(d.status<200||d.status>=400)null==s||s({code:e.ErrorServer});else{var t=JSON.parse(d.responseText);0===t.meta.code?null==c||c(t.data):null==s||s({code:t.meta.code,msg:t.meta.msg})}else null==s||s({code:e.ErrorRequestMany});else{null==s||s({code:e.ErrorAuthentication});var i=JSON.parse(d.responseText);2===i.status?cc.systemEvent.emit("token-timeout"):3===i.status&&cc.systemEvent.emit("token-illegal")}},d.onerror=function(){n.delete(f),null==s||s({code:e.ErrorNet})},d.ontimeout=function(){n.delete(f),null==s||s({code:e.ErrorTimeout})},d.onabort=function(){n.delete(f),null==s||s({code:e.ErrorAbort})},d.open(t,o,!0),null==u||u.forEach(function(t,e){d.setRequestHeader(e,t)}),d.send(p),n.set(f,d)}}t.post=function(t,e,n,r){return o(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(o,i){c("POST",t,e,function(t){return o(t)},function(t){return i(t)},n,r)})]})})},t.get=function(t,e,n,r){return o(this,void 0,Promise,function(){var o;return i(this,function(){return o="",e&&(Object.entries(e).forEach(function(t){var e=t[0],n=t[1];o+=e+"="+n+"&"}),o=o.slice(0,-1)),[2,new Promise(function(e,i){c("GET",t+"?"+o,null,function(t){return e(t)},function(t){return i(t)},n,r)})]})})},t.abort=function(t){n.forEach(function(e,o){o===t&&(e.abort(),n.delete(o))})}})(n.tcHttp||(n.tcHttp={})),cc._RF.pop()},{"../log/log":"log"}],"i18n-label":[function(t,e,n){"use strict";cc._RF.push(e,"b779cxLK/9JAJ3v4q/SO7q+","i18n-label");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./i18n"),c=cc._decorator,s=c.ccclass,u=c.property,l=c.executeInEditMode,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.i18nKey="",e.i18nParams=[],e}return i(e,t),e.prototype.onLoad=function(){this.label=this.getComponent(cc.Label),a.tcI18n.register(this)},e.prototype.onEnable=function(){this.refresh()},e.prototype.onDestroy=function(){a.tcI18n.unregister(this)},e.prototype.updateParams=function(t){this.i18nParams=t,this.refresh()},e.prototype.refresh=function(){if(0!==this.i18nKey.length){var t=a.tcI18n.i18nLabel(this.i18nKey,this.i18nParams);this.label.string=t}},r([u],e.prototype,"i18nKey",void 0),r([u],e.prototype,"i18nParams",void 0),r([s,l],e)}(cc.Component);n.default=f,cc._RF.pop()},{"./i18n":"i18n"}],"i18n-richtext":[function(t,e,n){"use strict";cc._RF.push(e,"fabdcAnfYxCzKJuRqTulAUq","i18n-richtext");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.I18nRichText=void 0;var a=t("./i18n"),c=cc._decorator,s=c.ccclass,u=c.property,l=c.executeInEditMode,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.i18nKey="",e.i18nParams=[],e}return i(e,t),e.prototype.onLoad=function(){this.label=this.getComponent(cc.RichText),a.tcI18n.register(this)},e.prototype.onEnable=function(){this.refresh()},e.prototype.onDestroy=function(){a.tcI18n.unregister(this)},e.prototype.updateParams=function(t){this.i18nParams=t,this.refresh()},e.prototype.refresh=function(){if(0!==this.i18nKey.length){var t=a.tcI18n.i18nLabel(this.i18nKey,this.i18nParams);this.label.string=t}},r([u],e.prototype,"i18nKey",void 0),r([u],e.prototype,"i18nParams",void 0),r([s,l],e)}(cc.Component);n.I18nRichText=f,cc._RF.pop()},{"./i18n":"i18n"}],"i18n-sprite":[function(t,e,n){"use strict";cc._RF.push(e,"3fc1cwSvzBO9L4i0hZeiokz","i18n-sprite");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./i18n"),u=cc._decorator,l=u.ccclass,f=u.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.i18nKey="",e}return i(e,t),Object.defineProperty(e.prototype,"spriteName",{set:function(t){this.i18nKey=t},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.sprite=this.getComponent(cc.Sprite),s.tcI18n.register(this),this.refresh()},e.prototype.onDestroy=function(){s.tcI18n.unregister(this)},e.prototype.refresh=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return this.sprite?[4,s.tcI18n.i18nSprite(this.i18nKey)]:[2];case 1:return(t=e.sent())&&this.sprite?(this.sprite.spriteFrame=t,[2]):[2]}})})},r([f],e.prototype,"i18nKey",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"./i18n":"i18n"}],i18n:[function(t,e,n){"use strict";cc._RF.push(e,"40878iLsn5BtbvGNYo5mO01","i18n");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),i=0;for(e=0;e<n;e++)for(var r=arguments[e],a=0,c=r.length;a<c;a++,i++)o[i]=r[a];return o};Object.defineProperty(n,"__esModule",{value:!0}),n.tcI18n=void 0;var a=t("../log/log"),c=t("../res/res");(function(t){var e=["en","pt"];t.defaultLanguage="pt",t.isOfType=function(t){return e.includes(t)},t.switchLanguageEvent="switch-language";var n=[],s={};function u(){return o(this,void 0,void 0,function(){var e,n;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,c.tcRes.load(t.curLanguage,cc.JsonAsset,"labels")];case 1:return e=o.sent(),s=e.json,[3,3];case 2:return n=o.sent(),a.tcLog.log("load i18n label res: "+n.message),[3,3];case 3:return[2]}})})}t.register=function(t){-1===n.indexOf(t)&&n.push(t)},t.unregister=function(t){var e=n.indexOf(t);-1!==e&&n.splice(e,1)},t.switchLanguage=function(e){return o(this,void 0,void 0,function(){return i(this,function(o){switch(o.label){case 0:return t.curLanguage===e?[2]:(t.curLanguage=e,[4,u()]);case 1:return o.sent(),n.forEach(function(t){return t.refresh()}),cc.systemEvent.emit(t.switchLanguageEvent,t.curLanguage),[2]}})})},t.i18nLabel=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(!t)return t;for(var i=t.split("."),a=s,c=0;c<i.length;c++)if(null==(a=a[i[c]]))return t;return n.length>0&&(a=(e=cc.js).formatStr.apply(e,r([a],n))),a},t.i18nSprite=function(e){return o(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,c.tcRes.load(t.curLanguage,cc.SpriteFrame,"artwork/"+e)];case 1:return[2,n.sent()];case 2:return n.sent(),a.tcLog.error("load i18n sprite res: "+t.curLanguage+" artwork/"+e),[3,3];case 3:return[2]}})})}})(n.tcI18n||(n.tcI18n={})),cc._RF.pop()},{"../log/log":"log","../res/res":"res"}],"launch-v2":[function(t,e,n){"use strict";cc._RF.push(e,"c75b7/LiEFDVprSbTF0yt+3","launch-v2");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.LaunchV2=void 0;var s=t("../ApiTemplate/script/net/logger"),u=t("../bundles/update-v2/script/api/api-logic"),l=t("./app/env"),f=t("./config/config"),p=t("./framework/i18n/i18n"),d=t("./framework/log/log"),h=t("./pkg/adapter-v2"),g=t("./pkg/currency"),v=t("./sdk/facebook"),m=t("./sdk/gameview"),y=t("./sdk/google"),b=t("./sdk/native-file"),_=cc._decorator,w=_.ccclass,S=(_.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.adapter=this.node.getComponent(h.AdapterV2)},e.prototype.start=function(){var t,e,n,o;return a(this,void 0,void 0,function(){var i,r,a,h,_,w,S,R,E,P;return c(this,function(c){switch(c.label){case 0:return null===(t=this.adapter)||void 0===t||t.updateAlignment(),i=cc.find("screen",this.node),r=cc.find("bg",this.node),a=this.createNode("scene",i),h=this.createNode("fixed",i),_=this.createNode("dialog",i),w=this.createNode("tips",i),S=this.createNode("loading",i),f.config.uiNode.bg=r,f.config.uiNode.scene=a,f.config.uiNode.fixed=h,f.config.uiNode.dialog=_,f.config.uiNode.tips=w,f.config.uiNode.loading=S,R=new URL(window.location.href).searchParams,s.default.enableLogger(!1),f.config.logLevel=f.LogLevel.Silent,d.tcLog.setLevel(f.LogLevel.Silent),E=null!==(n=null===(e=R.get("language"))||void 0===e?void 0:e.toLocaleLowerCase())&&void 0!==n?n:"",p.tcI18n.isOfType(E)?l.env.application.language=E:l.env.application.language=p.tcI18n.defaultLanguage,[4,p.tcI18n.switchLanguage(l.env.application.language)];case 1:return c.sent(),P=null!==(o=R.get("currency"))&&void 0!==o?o:"BRL",g.currency.setSymbol(P),this.node.addComponent(v.default),this.node.addComponent(y.default),this.node.addComponent(m.default),this.node.addComponent(b.default),this.scheduleOnce(function(){window.fadeInOut&&window.fadeInOut(),new u.apiLogic},1),[2]}})})},e.prototype.createNode=function(t,e){var n=new cc.Node(t);n.setParent(e),n.setPosition(0,0),n.setAnchorPoint(.5,.5);var o=n.addComponent(cc.Widget);return o.isAlignTop=!0,o.top=0,o.isAlignBottom=!0,o.bottom=0,o.isAlignLeft=!0,o.left=0,o.isAlignRight=!0,o.right=0,o.updateAlignment(),n},r([w],e)}(cc.Component));n.LaunchV2=S,cc._RF.pop()},{"../ApiTemplate/script/net/logger":"logger","../bundles/update-v2/script/api/api-logic":"api-logic","./app/env":"env","./config/config":"config","./framework/i18n/i18n":"i18n","./framework/log/log":"log","./pkg/adapter-v2":"adapter-v2","./pkg/currency":"currency","./sdk/facebook":"facebook","./sdk/gameview":"gameview","./sdk/google":"google","./sdk/native-file":"native-file"}],logger:[function(t,e,n){"use strict";cc._RF.push(e,"c66ebt3ayhIMbmXA4Si3lv3","logger");var o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),i=0;for(e=0;e<n;e++)for(var r=arguments[e],a=0,c=r.length;a<c;a++,i++)o[i]=r[a];return o};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=(i.ccclass,i.property,/(%d)|(%s)/),a=/%s/,c=function(){function t(){}return t.formatStr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=arguments.length;if(0===n)return"";var o=arguments[0];if(1===n)return""+o;var i="string"==typeof o&&r.test(o);if(i)for(var c=1;c<n;++c){var s=arguments[c],u="number"==typeof s?r:a;u.test(o)?o=o.replace(u,s):o+=" "+s}else for(c=1;c<n;++c)o+=" "+arguments[c];return o},t.timeFormat=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,o=t.getDate(),i=t.getHours(),r=t.getMinutes(),a=t.getSeconds(),c=t.getMilliseconds(),s=function(t,e){return(""+t).padStart(null!=e?e:2,"0")};return s(e)+"/"+s(n)+"/"+s(o)+" "+s(i)+":"+s(r)+":"+s(a)+"."+s(c,3)},t._green=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=this.formatStr.apply(this,o([e],n));t.log("%c"+r,"color: green;")},t._blue=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=this.formatStr.apply(this,o([e],n));t.log("%c"+r,"color: blue;")},t._purple=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=this.formatStr.apply(this,o([e],n));t.log("%c"+r,"color: purple;")},t._red=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=this.formatStr.apply(this,o([e],n));t.log("%c"+r,"color: red;")},t._yellow=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=this.formatStr.apply(this,o([e],n));t.log("%c"+r,"color: yellow;")},t._pink=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=this.formatStr.apply(this,o([e],n));t.log("%c"+r,"color: pink;")},t._orange=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=this.formatStr.apply(this,o([e],n));t.log("%c"+r,"color: orange;")},t.green=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.blue=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.purple=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.red=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.yellow=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.pink=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.orange=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.enableLogger=function(t){if(t){var e=cc.sys.isBrowser&&!cc.sys.isMobile;this.log=this.origin_console_log,this.warn=this.origin_console_warn,console.log=this.origin_console_log,console.warn=this.origin_console_warn,this.green=e&&this._green||this.origin_console_log,this.blue=e&&this._blue||this.origin_console_log,this.purple=e&&this._purple||this.origin_console_log,this.red=e&&this._red||this.origin_console_log,this.yellow=e&&this._yellow||this.origin_console_log,this.pink=e&&this._pink||this.origin_console_log,this.orange=e&&this._orange||this.origin_console_log}else this.log=this.no_cc,this.warn=this.no_cc,console.log=this.no_console,console.warn=this.no_console,this.green=this.no_cc,this.blue=this.no_cc,this.purple=this.no_cc,this.red=this.no_cc,this.yellow=this.no_cc,this.pink=this.no_cc,this.orange=this.no_cc},t.origin_console_log=console.log,t.origin_console_warn=console.warn,t.origin_console_error=console.error,t.no_cc=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.no_console=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.log=console.log,t.warn=console.warn,t.error=console.error,t}();n.default=c,cc._RF.pop()},{}],log:[function(t,e,n){"use strict";cc._RF.push(e,"f1045pjZFpPgIf5T51wQcJd","log");var o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),i=0;for(e=0;e<n;e++)for(var r=arguments[e],a=0,c=r.length;a<c;a++,i++)o[i]=r[a];return o};Object.defineProperty(n,"__esModule",{value:!0}),n.tcLog=void 0,function(t){var e=4;function n(){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,o=t.getDate(),i=t.getHours(),r=t.getMinutes(),a=t.getSeconds(),c=t.getMilliseconds(),s=function(t,e){return(""+t).padStart(null!=e?e:2,"0")};return s(e)+"/"+s(n)+"/"+s(o)+" "+s(i)+":"+s(r)+":"+s(a)+"."+s(c,3)}t.setLevel=function(t){e=t},t.debug=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];e<4||console.log.apply(console,o([n()],t))},t.info=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];e<3||console.log.apply(console,o([n()],t))},t.log=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];e<3||console.log.apply(console,o([n()],t))},t.warn=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];e<2||console.warn.apply(console,o([n()],t))},t.error=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];e<1||console.error.apply(console,o([n()],t))}}(n.tcLog||(n.tcLog={})),cc._RF.pop()},{}],msg:[function(t,e,n){"use strict";cc._RF.push(e,"87522/yD/BDZKD4+/E1OAVD","msg"),Object.defineProperty(n,"__esModule",{value:!0}),n.Message=void 0;n.Message=function(t,e,n){this.type=t,this.cmdId=e,this.body=n},cc._RF.pop()},{}],myplayer:[function(t,e,n){"use strict";cc._RF.push(e,"3e69bq4PgNADI7+DnBe4Vaw","myplayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.myplayer=void 0;var a=t("../net/GameNet"),c=t("../net/GameNetEvent"),s=t("../net/Result"),u=t("../tools/GlobalEvents"),l=t("./player"),f=cc._decorator,p=f.ccclass,d=(f.property,function(t){function e(){var e=t.call(this)||this;return e.pl=new l.player,e}var n;return i(e,t),n=e,e.getInstance=function(){return this.instance||(this.instance=new n,this.instance.onLoad()),this.instance},e.getPlayer=function(){return this.getInstance().get()},e.prototype.onLoad=function(){var t=this;a.default.getInstance().on(c.default.loginOK,function(e){e.tableid&&(e.pinfo.tableid=e.tableid),t.pl.init(e.pinfo),cc.sys.localStorage.setItem("sessionid",t.pl.getInfo().sessionid),cc.sys.localStorage.setItem("uid",t.pl.getInfo().uid)})},e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.get=function(){return this.pl},e.prototype.getUid=function(){return this.pl.getInfo().uid},e.prototype.getInfo=function(){return this.pl.getInfo()},e.prototype.updateInfo=function(t){this.pl.updateInfo(t)},e.prototype.requestUserInfo=function(t){u.GlobalEvents.getInstance().luck();var e=this;a.default.getInstance().request(a.default.cmdCall,{cmd:"Info"},function(n){a.default.getInstance().log(JSON.stringify(n)),n.result==s.Result.Success&&(e.updateInfo(n.pinfo),t&&t(n))})},e.instance=null,n=r([p],e)}(cc.Component));n.myplayer=d,cc._RF.pop()},{"../net/GameNet":"GameNet","../net/GameNetEvent":"GameNetEvent","../net/Result":"Result","../tools/GlobalEvents":"GlobalEvents","./player":"player"}],"native-file":[function(t,e,n){"use strict";cc._RF.push(e,"dd605X6JXRIRLc1C4GnTZfE","native-file");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.nativeFileHandler=void 0;var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleSelectFile=function(){},r([c],e)}(cc.Component));n.default=s,(n.nativeFileHandler||(n.nativeFileHandler={})).showOpenFilePicker=function(){var t=document.getElementById("file-picker");t&&globalThis.setTimeout(function(){t.click()},500)},cc._RF.pop()},{}],navigator:[function(t,e,n){"use strict";cc._RF.push(e,"a69497tLB5N9ZlKFt6RsTKM","navigator");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.DemoView=n.ViewBase=n.Navigator=void 0;var r=function(){function t(){this.views=[]}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.register=function(){},t.prototype.canPop=function(){return 0===this.views.length||this.views[this.views.length-1].canPop()},t.prototype.pop=function(){var t=this.views.pop();t&&(t.canPop()?t.close():this.views.push(t))},t.prototype.push=function(t,e){this.views.push(t),t.open(e)},t.prototype.pushByName=function(){},t.prototype.popAll=function(t){for(var e=[],n=this.views.length-1;n>=0;n++)if(this.views[n].canPop())this.views[n].close(),e.push(n);else{if(!t)break;this.views[n].close(),e.push(n)}if(e.length!==this.views.length)for(n=0;n<e.length;n++)this.views.splice(e[n],1);else this.views.length=0},t}();n.Navigator=r;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.open=function(){},e.prototype.close=function(){},e.prototype.canPop=function(){return!0},e}(cc.Component);n.ViewBase=a;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.open=function(){},e.prototype.close=function(){},e.prototype.canPop=function(){return t.prototype.canPop.call(this)},e}(a);n.DemoView=c,cc._RF.pop()},{}],packer:[function(t,e,n){"use strict";cc._RF.push(e,"cefcdOUqAZHZKK0dT6foein","packer"),Object.defineProperty(n,"__esModule",{value:!0}),n.tcPacker=void 0;var o=t("./msg");(function(t){t.pack=function(t){var e,n,o,i=8+(null!==(n=null===(e=t.body)||void 0===e?void 0:e.length)&&void 0!==n?n:0),r=new ArrayBuffer(i),a=new DataView(r);return a.setUint16(0,4680,!0),a.setUint16(2,i,!0),a.setUint16(4,t.type,!0),a.setUint16(6,t.cmdId,!0),null===(o=t.body)||void 0===o||o.forEach(function(t,e){return a.setUint8(8+e,t)}),r},t.unpacks=function(t){for(var e=0,n=[],i=new DataView(t);!(t.byteLength-e<8)&&4680===i.getUint16(e+0,!0);){var r=i.getUint16(e+2,!0),a=i.getUint16(e+4,!0),c=i.getUint16(e+6,!0);if(r>8?n.push(new o.Message(a,c,new Uint8Array(t.slice(e+8,e+r)))):n.push(new o.Message(a,c)),(e+=r)>t.byteLength)break}return{msgs:n,offset:e}}})(n.tcPacker||(n.tcPacker={})),cc._RF.pop()},{"./msg":"msg"}],parser:[function(t,e,n){"use strict";cc._RF.push(e,"8d2b5zSYo5PxbfKhwPn89KQ","parser"),Object.defineProperty(n,"__esModule",{value:!0}),n.url=void 0,(n.url||(n.url={})).parse=function(){},cc._RF.pop()},{}],pgGameLoading:[function(t,e,n){"use strict";cc._RF.push(e,"62be1lTXxZH47GLtIRrvkRh","pgGameLoading");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.PgGameLoading=void 0;var s=t("../app/env"),u=t("../../script/event/event"),l=t("../framework/audio/audio"),f=t("../framework/i18n/i18n"),p=t("../framework/log/log"),d=t("../framework/res/res"),h=t("../pkg/creator"),g=t("./gameLoadingHelper"),v=cc._decorator,m=v.ccclass,y=(v.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadResRatio=0,e.curBundleName="",e.curLoadProgress=0,e}return i(e,t),e.prototype.onLoad=function(){var t,e;this.ndBar=cc.find("content/progressBar/mask/bar",this.node),this.spProgress=cc.find("content/progressBar/mask",this.node),this.spLight=cc.find("content/progressBar/light",this.node),this.spBackground=null===(t=cc.find("content/background",this.node))||void 0===t?void 0:t.getComponent(cc.Sprite),this.labelLoadProgress=cc.find("content/labelLoadingProgress",this.node).getComponent(cc.Label),this.btnEnter=cc.find("content/btnEnter",this.node),this.loadProgressBar=cc.find("content/progressBar",this.node).getComponent(cc.ProgressBar),this.gameDescSprite=null===(e=cc.find("content/gameDesc",this.node))||void 0===e?void 0:e.getComponent(cc.Sprite),this.spriteBtnEnter=cc.find("content/btnEnter/Background",this.node).getComponent(cc.Sprite),this.ndTips=cc.find("content/tip",this.node),this.bindClickBtnEnterEvent();var n=f.tcI18n.i18nLabel("loading_scroll_message"),o=n.length,i=Math.floor(Math.random()*o);this.ndTips.opacity=255,this.ndTips.getComponent(cc.Label).string=n[i],cc.systemEvent.on(u.event.resetLoadView,this.setView,this)},e.prototype.bindClickBtnEnterEvent=function(){var t;null===(t=this.btnEnter)||void 0===t||t.on("click",function(){l.uAudio.getInstance().playEffect(l.AudioClipName.CLICKBTN),g.GameLoadingHelper.closeLoading(),window.removeSvgLogo&&window.removeSvgLogo()})},e.prototype.updateView=function(t){return a(this,void 0,void 0,function(){var e;return c(this,function(n){switch(n.label){case 0:if(p.tcLog.info("bundleName: "+t),!t)return cc.systemEvent.emit("close-loading-dialog"),[2];if(!this.spBackground)return cc.systemEvent.emit("close-loading-dialog"),[2];this.curBundleName=t,n.label=1;case 1:return n.trys.push([1,3,,4]),this.node.getComponentsInChildren(cc.Widget).forEach(function(t){null==t||t.updateAlignment()}),[4,d.tcRes.loadBundle("PGGameRes")];case 2:return n.sent(),this.curLoadProgress=0,this.loadProgressBar.progress=0,this.showLoadingProgress(),s.env.application.curLocaton=2,cc.systemEvent.emit("close-loading-dialog"),[3,4];case 3:return e=n.sent(),p.tcLog.error("load game loading: "+e.message),[3,4];case 4:return[2]}})})},e.prototype.setView=function(){var t=this;this.ndBar.setPosition(252.404,0),cc.tween(this.ndBar).to(5,{position:cc.v3(708.284,0)}).call(function(){t.ndBar.setPosition(252.404,0)}).call(function(){}).union().repeatForever().start(),this.cycleTip(),this.updateProgress(.5),this.updateProgressLabel(f.tcI18n.i18nLabel("loading_now_login"))},e.prototype.updateProgress=function(t){this.spProgress.width>470*t||(this.spProgress.width=470*t,this.spLight.setPosition(470*t-249,0))},e.prototype.showLoadingProgress=function(){return a(this,void 0,void 0,function(){return c(this,function(){return this.gameDescSprite.node.active=!0,this.labelLoadProgress.node.active=!0,this.loadProgressBar.node.active=!0,this.updateLoadProgress(this.curLoadProgress),[2]})})},e.prototype.updateLoadProgress=function(t){var e=this;if(this.node&&(t<=this.curLoadProgress&&(t=this.curLoadProgress),this.updateProgress(this.curLoadProgress),this.curLoadProgress=t,this.loadProgressBar.node.active)){var n="";t<.1?n=f.tcI18n.i18nLabel("loading_now_login"):t<.2?n=f.tcI18n.i18nLabel("loading_load_tips"):t<.3?n=f.tcI18n.i18nLabel("loading_progress_tips",["0"]):t<1&&(n=f.tcI18n.i18nLabel("loading_progress_tips",[""+Math.floor(100*t).toFixed(0)])),this.updateProgressLabel(n),this.loadProgressBar.progress=t,this.curLoadProgress>=1&&(this.labelLoadProgress.string=f.tcI18n.i18nLabel("loading_completed"),this.scheduleOnce(function(){return a(e,void 0,void 0,function(){var t,e;return c(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,d.tcRes.load(this.curBundleName,cc.SpriteFrame,"artwork/loadingBg/btnOkBg")];case 1:return t=n.sent(),this.spriteBtnEnter.spriteFrame=t,[3,3];case 2:return e=n.sent(),p.tcLog.error("gameLoading updateLoadProgress",e.message),[3,3];case 3:return this.stopCycleTips(),this.btnEnter.active=!0,this.loadProgressBar.node.active=!1,this.labelLoadProgress.node.active=!1,[2]}})})},.5))}},e.prototype.updateProgressLabel=function(t){this.labelLoadProgress.string=t},e.prototype.cycleTip=function(){var t=this,e=f.tcI18n.i18nLabel("loading_scroll_message"),n=e.length,o=Math.floor(Math.random()*n);cc.tween(this.ndTips).stop(),cc.tween(this.ndTips).to(.6,{position:cc.v3(0,-423),opacity:0}).delay(.1).call(function(){t.ndTips.opacity=0,t.ndTips.setPosition(0,-553),t.ndTips.getComponent(cc.Label).string=e[o],++o>=n&&(o=0)}).to(.6,{position:cc.v3(0,-484),opacity:255}).delay(3).union().repeatForever().start()},e.prototype.stopCycleTips=function(){cc.tween(this.ndTips).stop(),h.creatorUtils.setActive(this.ndTips,!1)},r([m],e)}(cc.Component));n.PgGameLoading=y,cc._RF.pop()},{"../../script/event/event":"event","../app/env":"env","../framework/audio/audio":"audio","../framework/i18n/i18n":"i18n","../framework/log/log":"log","../framework/res/res":"res","../pkg/creator":"creator","./gameLoadingHelper":"gameLoadingHelper"}],player:[function(t,e,n){"use strict";cc._RF.push(e,"cdbe1g9479NVYEbJWaC829r","player");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.player=void 0;var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.info=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.init=function(t){this.info=t},e.prototype.getInfo=function(){return this.info},e.prototype.updateInfo=function(t){for(var e in t)this.info[e]=t[e]},r([c],e)}(cc.Component));n.player=s,cc._RF.pop()},{}],random:[function(t,e,n){"use strict";cc._RF.push(e,"0781cXxE/BGHLlk6xNhWcPU","random"),Object.defineProperty(n,"__esModule",{value:!0}),n.random=void 0,function(t){t.uuidv4=function(){var t=Date.now();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)})},t.anyString=function(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=n.length,i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*o));return e},t.getRandomInt=function(t){return Math.floor(Math.random()*t)}}(n.random||(n.random={})),cc._RF.pop()},{}],"render-culling":[function(t,e,n){"use strict";cc._RF.push(e,"eecbd10ceJP55KI8RlSaiw+","render-culling");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.RenderCulling=void 0;var a=cc._decorator,c=a.ccclass,s=(a.property,a.requireComponent),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.scrollView=this.node.getComponent(cc.ScrollView)},e.prototype.start=function(){var t;null===(t=this.scrollView)||void 0===t||t.node.on("scrolling",this.onScrolling,this)},e.prototype.onScrolling=function(t){var e,n,o=this,i=t.node.getBoundingBoxToWorld(),r=null!==(n=null===(e=this.scrollView)||void 0===e?void 0:e.content.children)&&void 0!==n?n:[];0!==r.length&&r.forEach(function(t){t.opacity=o.checkVisible(t,i)?255:0})},e.prototype.checkVisible=function(t,e){return t.getBoundingBoxToWorld().intersects(e)},r([c,s(cc.ScrollView)],e)}(cc.Component);n.RenderCulling=u,cc._RF.pop()},{}],res:[function(t,e,n){"use strict";cc._RF.push(e,"4f8a0Gj1MBBlq5oWKhaEecS","res");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.tcRes=void 0;var r=t("../../../bundles/update-v2/script/api/api-config");(function(t){var e=new Map;function n(t){return o(this,void 0,Promise,function(){var e;return i(this,function(){return e=r.apiConfig.env.resUrl+t,[2,new Promise(function(t,n){var o=cc.assetManager.getBundle(e);o?t(o):cc.assetManager.loadBundle(e,function(e,o){e?n(e):t(o)})})]})})}t.loadBundle=n,t.load=function(t,r,a,c){return o(this,void 0,Promise,function(){var o,s;return i(this,function(){return o=t+"-"+a,(s=e.get(o))?[2,s]:[2,new Promise(function(i,s){n(t).then(function(t){t.load(""+a,r,function(t,e){c&&c(t/e)},function(t,n){t?s(t):(e.set(o,n),i(n))})}).catch(function(t){s(t)})})]})})},t.loadRemote=function(t,n){return o(this,void 0,Promise,function(){var o,r;return i(this,function(){return o=""+t,(r=e.get(o))?[2,r]:[2,new Promise(function(i,r){cc.assetManager.loadRemote(t,null!=n?n:{},function(t,n){t?r(t):(e.set(o,n),i(n))})})]})})},t.releaseAssets=function(){},t.releaseBundle=function(){},t.getBundle=function(t){return cc.assetManager.getBundle(t)}})(n.tcRes||(n.tcRes={})),cc._RF.pop()},{"../../../bundles/update-v2/script/api/api-config":"api-config"}],sdk:[function(t,e,n){"use strict";cc._RF.push(e,"8d2abTjIqtHrLLvNBzKVLxB","sdk"),Object.defineProperty(n,"__esModule",{value:!0}),n.sdk=void 0,function(t){var e=[];function n(t){var e=document.createElement("template");return t=t.trim(),e.innerHTML=t,e.content.firstChild}function o(){var t=document.getElementById("game-overlay");if(t){var o=n('<div class="ui_block" tabindex="100"\n        style="animation: 0.15s ease-out 0s 1 normal forwards running ui_block_show; z-index: 1000; width: 360px; height: 640px;">\n      </div>');o&&(t.appendChild(o),e.push(o))}}t.showErrorDialog=function(t){var i,r;o();var a="";t.title&&(a='<div class="title title_padding "><b>'+t.title+"</b></div>");var c="";t.subContent&&(c='<span class="errorlabel">'+t.subContent+"<span></span></span>");var s=null!==(i=t.confirmText)&&void 0!==i?i:"Confirm",u=null!==(r=t.cancelText)&&void 0!==r?r:"Cancel",l=n('<div id="__custom_alert" class="custom_alert custom_alert_show" style="display: block; width: 360px; height: 640px;">\n        <div class="backdrop"></div>\n        <div class="content" style="left: 58.5px; top: 242.5px;">\n            '+a+'\n            <div class="message message_padding '+(""===a?"single_content_padding":"")+'">'+t.content+"<br>"+c+'</div>\n            <div class="line_separator"></div>\n            <div class="btn_content btn_content_row">\n                <div id="ca-button-0" class="button">'+s+'</div>\n                <div class="btn_separator_width row"></div>\n                <div id="ca-button-1" class="button">'+u+"</div>\n            </div>\n        </div>\n    </div>");if(l){var f=document.getElementById("game-overlay");if(f){f.appendChild(l),e.push(l);var p=document.getElementById("ca-button-0");p&&(p.onclick=function(){return t.confirmCallback()});var d=document.getElementById("ca-button-1");d&&(d.onclick=function(){var e;return null===(e=t.cancelCallback)||void 0===e?void 0:e.call(t)})}}},t.closeDialog=function(){e.forEach(function(t){t.remove()}),e.length=0},t.showFinalPage=function(t){var o=n('<div class="qpage" style="width: 360px; height: 640px;">\n        <div class="qpage_container">\n            <div class="qpage_content">\n                <div class="sprite_main_res ic_iconic qpage_boy"></div>\n                <div class="qpage_title"><b>'+t.title+'</b><br></div>\n                <div class="qpage_desc"><b>'+t.subTitle+'</b><br></div>\n                <div id="reload_button" class="qpage_button">'+t.confirmText+"</div>\n            </div>\n        </div>\n    </div>");if(o){var i=document.getElementById("game-overlay");if(i){i.appendChild(o),e.push(o);var r=document.getElementById("reload_button");r&&(r.onclick=function(){return t.onConfirmCallback()})}}},t.openHistoryDialog=function(t,e,n){window.openHistoryDialog&&window.openHistoryDialog(t,e,n)},t.openRuleDialog=function(t,e,n){window.openRuleDialog&&window.openRuleDialog(t,e,n)},t.openPaytableDialog=function(t,e,n){window.openPaytableDialog&&window.openPaytableDialog(t,e,n)}}(n.sdk||(n.sdk={})),cc._RF.pop()},{}],socket:[function(t,e,n){"use strict";cc._RF.push(e,"eceefUzK2RN/obuKsC2n3eN","socket"),Object.defineProperty(n,"__esModule",{value:!0}),n.uNet=void 0;var o=t("../log/log"),i=t("./packer"),r=function(){function t(){this.autoReconnect=!0,this.reconnectTimer=0,this.reconnectCount=0,this.dsn="",this.handlers=new Map}return t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t.prototype.bNetConnected=function(){return!!this.ws},t.prototype.connect=function(){this.ws},t.prototype.reconnect=function(){o.tcLog.debug("reconnect"),this.ws&&(this.ws.close(),this.ws=void 0),this.connect(this.dsn)},t.prototype.send=function(t){var e,n;(null===(e=this.ws)||void 0===e?void 0:e.readyState)===WebSocket.OPEN&&(o.tcLog.debug("-----\x3esend msg, type: "+t.type+", cmd id: "+t.cmdId+", body length: "+(null===(n=t.body)||void 0===n?void 0:n.length)),this.ws.send(i.tcPacker.pack(t)))},t.prototype.close=function(){this.autoReconnect=!1,clearTimeout(this.reconnectTimer),this.ws&&(this.ws.close(),this.ws=void 0)},t.prototype.bind=function(t,e){var n=this.handlers.get(t);n?-1===n.indexOf(e)&&n.push(e):this.handlers.set(t,[e])},t.prototype.unbind=function(t,e){var n=this.handlers.get(t);if(n){var o=n.indexOf(e);-1!==o&&n.splice(o,1)}},t}();n.uNet=r,cc._RF.pop()},{"../log/log":"log","./packer":"packer"}],storage:[function(t,e,n){"use strict";cc._RF.push(e,"3f2876cA+dLDau9WZF7+E7G","storage"),Object.defineProperty(n,"__esModule",{value:!0}),n.tcStorage=void 0,function(t){(function(t){t.UserId="UserId",t.Authorization="Authorization",t.TelNumber="TelNumber",t.DeviceId="DeviceId",t.Language="Language",t.Password="Password",t.SoundSwitch="SoundSwitch",t.InvitationCode="InvitationCode",t.musicVolume="musicVolume",t.effectVolume="effectVolume"})(t.Keys||(t.Keys={})),t.save=function(t,e){localStorage.setItem(t,e)},t.readInt=function(t){var e=localStorage.getItem(t);return parseInt(null!=e?e:"0")},t.readFloat=function(t){var e=localStorage.getItem(t);return parseFloat(null!=e?e:"0")},t.readAny=function(t){var e;return null!==(e=localStorage.getItem(t))&&void 0!==e?e:""},t.isExist=function(t){return null!=localStorage.getItem(t)},t.remove=function(t){localStorage.removeItem(t)},t.clear=function(){localStorage.clear()}}(n.tcStorage||(n.tcStorage={})),cc._RF.pop()},{}],strings:[function(t,e,n){"use strict";cc._RF.push(e,"357ddP41+BJnJWECFYMqVPf","strings"),Object.defineProperty(n,"__esModule",{value:!0}),n.strings=void 0,(n.strings||(n.strings={})).ellipsis=function(t,e){return(e=null!=e?e:30)<3?t:t.length>e?t.substring(0,e-3)+"...":t},cc._RF.pop()},{}],times:[function(t,e,n){"use strict";cc._RF.push(e,"561cbTIIQBMMKlGDcXSpfkb","times");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.time=void 0;var r=t("../app/env"),a=t("../config/config"),c=t("../framework/i18n/i18n");(function(t){function e(t){return new Promise(function(e){setTimeout(function(){e()},t)})}t.sleep=e,t.delayCall=function(t,n){return o(this,void 0,void 0,function(){return i(this,function(o){switch(o.label){case 0:return[4,e(t)];case 1:return o.sent(),n(),[2]}})})},t.format=function(t){return new Date(1e3*t).toISOString().substring(11,19)},t.toLocalDateString=function(t){var e=new Date(t),n=e.getFullYear(),o=e.getMonth()+1,i=e.getDate();return e.getHours(),e.getMinutes(),e.getSeconds(),o.toString().padStart(2,"0")+"/"+i.toString().padStart(2,"0")+"/"+n},t.toLocalDateStringII=function(t){var e=new Date(t),n=e.getFullYear(),o=e.getMonth()+1,i=e.getDate();return e.getHours(),e.getMinutes(),e.getSeconds(),i.toString().padStart(2,"0")+"/"+o.toString().padStart(2,"0")+"/"+n},t.toLocalTimeString=function(t){var e=new Date(t),n=e.getHours(),o=e.getMinutes(),i=e.getSeconds();return n.toString().padStart(2,"0")+":"+o.toString().padStart(2,"0")+":"+i.toString().padStart(2,"0")},t.toLocalDateTimeString=function(t){var e=new Date(t),n=e.getFullYear(),o=e.getMonth()+1,i=e.getDate(),r=e.getHours(),a=e.getMinutes(),c=e.getSeconds();return o.toString().padStart(2,"0")+"/"+i.toString().padStart(2,"0")+"/"+n+" "+r.toString().padStart(2,"0")+":"+a.toString().padStart(2,"0")+":"+c.toString().padStart(2,"0")},t.toLocalDateTimeStringII=function(t){var e=new Date(t),n=e.getFullYear(),o=e.getMonth()+1,i=e.getDate(),r=e.getHours(),a=e.getMinutes(),c=e.getSeconds();return n+"-"+o.toString().padStart(2,"0")+"-"+i.toString().padStart(2,"0")+" "+r.toString().padStart(2,"0")+":"+a.toString().padStart(2,"0")+":"+c.toString().padStart(2,"0")},t.toLocalDateTimeStringIII=function(t){var e=new Date(t),n=e.getFullYear(),o=e.getMonth()+1,i=e.getDate(),r=e.getHours(),a=e.getMinutes(),c=e.getSeconds();return i.toString().padStart(2,"0")+"/"+o.toString().padStart(2,"0")+"/"+n+" "+r.toString().padStart(2,"0")+":"+a.toString().padStart(2,"0")+":"+c.toString().padStart(2,"0")},t.toLocalDateTimeStringDMY=function(t){var e=new Date(t),n=e.getFullYear(),o=e.getMonth()+1,i=e.getDate();return e.getHours(),e.getMinutes(),e.getSeconds(),i.toString().padStart(2,"0")+"/"+o.toString().padStart(2,"0")+"/"+n},t.formatSecondTimeString=function(t){if(t<=0)return"00:00:00";var e="";if(t>86400)e=Math.floor(t/3600/24)+" "+c.tcI18n.i18nLabel("Days_later");else{var n=Math.floor(t/3600),o=Math.floor(t%3600/60),i=Math.floor(t%60);e=n.toString().padStart(2,"0")+":"+o.toString().padStart(2,"0")+":"+i.toString().padStart(2,"0")}return e},t.formatTimeStr2MMHHMMDDMMYY=function(e){var n=t.toLocalDateTimeString(e),o=n.split(" ");return o[1]+"  "+o[0]},t.getReMainSeconds=function(){var t=r.env.user.smsTimeStamp+a.config.smsRequestInterval-(new Date).getTime();return t<0&&(t=0),Math.ceil(t/1e3)}})(n.time||(n.time={})),cc._RF.pop()},{"../app/env":"env","../config/config":"config","../framework/i18n/i18n":"i18n"}],uibase:[function(t,e,n){"use strict";cc._RF.push(e,"4c526h0KH5HArPxYDmPCnDi","uibase");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../res/res"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.assetsMap=new Map,e}return i(e,t),e.prototype.load=function(t){var e=this,n=this.assetsMap.get(t);n?n.addRef():a.tcRes.loadRemote(t).then(function(n){var o;e.assetsMap.has(t)&&(null===(o=e.assetsMap.get(t))||void 0===o||o.decRef(),e.assetsMap.delete(t)),n.addRef(),e.assetsMap.set(t,n)}).catch(function(){})},e.prototype.release=function(){this.assetsMap.forEach(function(t){t.decRef()})},r([s],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../res/res":"res"}],validator:[function(t,e,n){"use strict";cc._RF.push(e,"41fabOPjDJEIrKqpmLE+6Mg","validator"),Object.defineProperty(n,"__esModule",{value:!0}),n.validator=void 0;var o=t("../app/env");(function(t){t.telNumber=function(t){return new RegExp("^\\d{11}$","g").test(t)},t.smsCode=function(t){return new RegExp("^\\d{6}$","g").test(t)},t.password=function(t){return new RegExp("^[0-9A-Za-z]{6,20}$","g").test(t)},t.nickname=function(t){return new RegExp("^[a-zA-Z0-9]+([a-zA-Z0-9\\s]?[a-zA-Z0-9]){4,19}$","g").test(t)},t.matchInvitationCode=function(t){var e=new RegExp("##(.*?)##").exec(t);return e&&e.length>=2?e[1]:""},t.ifsc=function(t){return new RegExp("^[A-Za-z]{4}0[A-Z0-9]{6}$","g").test(t)},t.realName=function(t){return new RegExp("^[a-zA-Z0-9]+([a-zA-Z0-9s]?[a-zA-Z0-9]){4,49}$","g").test(t)},t.email=function(t){return new RegExp("^[0-9a-z][_.0-9a-z-]{0,49}@([0-9a-z][0-9a-z-]{0,30}[0-9a-z].){1,4}[a-z]{2,4}$","g").test(t)},t.isAuthorizated=function(){var t;return 0!=(null===(t=o.env.user.authorization)||void 0===t?void 0:t.length)}})(n.validator||(n.validator={})),cc._RF.pop()},{"../app/env":"env"}],viewGroupNesting:[function(t,e,n){"use strict";cc._RF.push(e,"8ad70wCkYtHn6XmEJEj6X3/","viewGroupNesting");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.events=[],e}return i(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchHandle,this,!0),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchHandle,this,!0),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchHandle,this,!0),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchHandle,this,!0)},e.prototype.onTouchHandle=function(t){if(!t.sham&&!t.simulate&&t.target!==this.node){var e=new cc.Event.EventTouch(t.getTouches(),t.bubbles);e.type=t.type,e.touch=t.touch,e.sham=!0,this.events.push(e)}},e.prototype.update=function(){if(0!==this.events.length){for(var t=0;t<this.events.length;t++)this.node.dispatchEvent(this.events[t]);this.events.length=0}},r([c],e)}(cc.Component));n.default=s,cc._RF.pop()},{}]},{},["LoginUtil","GameConst","Language","Tools","GameNet","GameNetEvent","Result","ResultText","logger","myplayer","player","GlobalEvents","GlobalGame","SelectGameMrg","Api-tip-cont","api-config","api-game-logic","api-logic","api-tip-manage","api-tips-error","api-tips","api_rabbit","bet-setting","fortune-rabbit-define","VerifyBar","api","env","WebAudio","WebAudioEngine","auto-rotation","dropdown","render-culling","NestablePageViewInner","NestableScrollViewInner","NestableScrollViewOuter","cmd","config","cron-balance","cron-v2","cron","descriptor","event","audio","i18n-label","i18n-richtext","i18n-sprite","i18n","log","http","msg","packer","socket","res","storage","navigator","uibase","launch-v2","gameLoading","gameLoadingHelper","gameLoadingNormal","pgGameLoading","CCCPageView","List","adapter-v2","creator","currency","random","strings","times","viewGroupNesting","facebook","gameview","google","native-file","sdk","parser","validator"]);